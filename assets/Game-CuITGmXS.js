import{w as Ya}from"./with-props-BvcJqoSY.js";import{a as h,t as qa,o as p,s as B,N as ht,v as En}from"./chunk-AYJ5UCUI-BS9SflA5.js";import{c as Dt,A as Xa,H as Ja,a as Za,b as Vt,d as wt,u as ye,e as We,f as Ft,g as ur,h as dn,i as X,P as Et,j as Go,R as Uo,k as Vo,l as Qa,m as el,n as tl,T as nl,o as rl,p as Gr,q as ol,r as il,s as be,t as Ko,v as dr,Q as sl,_ as al,w as ll,x as cl,D as ul}from"./index-TP5UAC82.js";import{u as fe,a as st,b as He,c as qe,L as Le,d as dl,g as ge,v as Jn,e as fl,t as pl,T as hl,i as ml,f as gl}from"./levels-afAzQkb2.js";import{u as zt,g as vl,a as De,B as yl,E as bl,T as xl,b as wl,c as El,P as Sn,d as Yo,e as qo,o as Xo,s as Jo,f as Zo,h as Qo,i as ei,j as ti,l as ni,k as ri,m as oi,n as ii,M as Ur,p as Sl,I as Ve,q as si,r as ai,t as Pl,v as Cl,w as li,x as ci,y as Zn,z as fn,N as ui,A as di,C as pn,D as fi,L as pi,F as Ol,G as Nl,H as Il,J as Rl,K as Tl,S as Ml,O as jl,Q as Al,R as _l,U as kl,V as Ll,W as Dl,X as Fl,Y as zl,Z as $l,_ as R}from"./Value-T9QwKh6e.js";import{P as Hl,F as Bl,D as Wl,a as hi,b as Gl,c as mi,d as Ul,e as gi,f as vi,g as yi,h as kt}from"./index-s72drxax.js";import{R as Lt,a as an}from"./index-Bls3tRF3.js";const Pn=h.createContext(null);Pn.displayName="PanelGroupContext";const ae={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},fr=10,nt=h.useLayoutEffect,Vr=qa.useId,Vl=typeof Vr=="function"?Vr:()=>null;let Kl=0;function pr(e=null){const t=Vl(),n=h.useRef(e||t||null);return n.current===null&&(n.current=""+Kl++),e??n.current}function bi({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:o,forwardedRef:i,id:s,maxSize:a,minSize:l,onCollapse:u,onExpand:d,onResize:c,order:f,style:m,tagName:g="div",...b}){const v=h.useContext(Pn);if(v===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:y,expandPanel:x,getPanelSize:w,getPanelStyle:E,groupId:N,isPanelCollapsed:O,reevaluatePanelConstraints:C,registerPanel:T,resizePanel:I,unregisterPanel:S}=v,M=pr(s),D=h.useRef({callbacks:{onCollapse:u,onExpand:d,onResize:c},constraints:{collapsedSize:n,collapsible:r,defaultSize:o,maxSize:a,minSize:l},id:M,idIsFromProps:s!==void 0,order:f});h.useRef({didLogMissingDefaultSizeWarning:!1}),nt(()=>{const{callbacks:K,constraints:G}=D.current,q={...G};D.current.id=M,D.current.idIsFromProps=s!==void 0,D.current.order=f,K.onCollapse=u,K.onExpand=d,K.onResize=c,G.collapsedSize=n,G.collapsible=r,G.defaultSize=o,G.maxSize=a,G.minSize=l,(q.collapsedSize!==G.collapsedSize||q.collapsible!==G.collapsible||q.maxSize!==G.maxSize||q.minSize!==G.minSize)&&C(D.current,q)}),nt(()=>{const K=D.current;return T(K),()=>{S(K)}},[f,M,T,S]),h.useImperativeHandle(i,()=>({collapse:()=>{y(D.current)},expand:K=>{x(D.current,K)},getId(){return M},getSize(){return w(D.current)},isCollapsed(){return O(D.current)},isExpanded(){return!O(D.current)},resize:K=>{I(D.current,K)}}),[y,x,w,O,M,I]);const Z=E(D.current,o);return h.createElement(g,{...b,children:e,className:t,id:M,style:{...Z,...m},[ae.groupId]:N,[ae.panel]:"",[ae.panelCollapsible]:r||void 0,[ae.panelId]:M,[ae.panelSize]:parseFloat(""+Z.flexGrow).toFixed(1)})}const Qn=h.forwardRef((e,t)=>h.createElement(bi,{...e,forwardedRef:t}));bi.displayName="Panel";Qn.displayName="forwardRef(Panel)";let er=null,ln=-1,Ke=null;function Yl(e,t){if(t){const n=(t&Pi)!==0,r=(t&Ci)!==0,o=(t&Oi)!==0,i=(t&Ni)!==0;if(n)return o?"se-resize":i?"ne-resize":"e-resize";if(r)return o?"sw-resize":i?"nw-resize":"w-resize";if(o)return"s-resize";if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function ql(){Ke!==null&&(document.head.removeChild(Ke),er=null,Ke=null,ln=-1)}function kn(e,t){var n,r;const o=Yl(e,t);if(er!==o){if(er=o,Ke===null&&(Ke=document.createElement("style"),document.head.appendChild(Ke)),ln>=0){var i;(i=Ke.sheet)===null||i===void 0||i.removeRule(ln)}ln=(n=(r=Ke.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${o} !important;}`))!==null&&n!==void 0?n:-1}}function xi(e){return e.type==="keydown"}function wi(e){return e.type.startsWith("pointer")}function Ei(e){return e.type.startsWith("mouse")}function Cn(e){if(wi(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Ei(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Xl(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Jl(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Zl(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:qr(e),b:qr(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;Y(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:Yr(Kr(n.a)),b:Yr(Kr(n.b))};if(o.a===o.b){const i=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let a=i.length;for(;a--;){const l=i[a];if(l===s.a)return 1;if(l===s.b)return-1}}return Math.sign(o.a-o.b)}const Ql=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function ec(e){var t;const n=getComputedStyle((t=Si(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function tc(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||ec(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Ql.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Kr(e){let t=e.length;for(;t--;){const n=e[t];if(Y(n,"Missing node"),tc(n))return n}return null}function Yr(e){return e&&Number(getComputedStyle(e).zIndex)||0}function qr(e){const t=[];for(;e;)t.push(e),e=Si(e);return t}function Si(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Pi=1,Ci=2,Oi=4,Ni=8,nc=Xl()==="coarse";let Ie=[],mt=!1,et=new Map,On=new Map;const $t=new Set;function rc(e,t,n,r,o){var i;const{ownerDocument:s}=t,a={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:o},l=(i=et.get(s))!==null&&i!==void 0?i:0;return et.set(s,l+1),$t.add(a),hn(),function(){var d;On.delete(e),$t.delete(a);const c=(d=et.get(s))!==null&&d!==void 0?d:1;if(et.set(s,c-1),hn(),c===1&&et.delete(s),Ie.includes(a)){const f=Ie.indexOf(a);f>=0&&Ie.splice(f,1),mr(),o("up",!0,null)}}}function oc(e){const{target:t}=e,{x:n,y:r}=Cn(e);mt=!0,hr({target:t,x:n,y:r}),hn(),Ie.length>0&&(mn("down",e),e.preventDefault(),Ii(t)||e.stopImmediatePropagation())}function Ln(e){const{x:t,y:n}=Cn(e);if(mt&&e.buttons===0&&(mt=!1,mn("up",e)),!mt){const{target:r}=e;hr({target:r,x:t,y:n})}mn("move",e),mr(),Ie.length>0&&e.preventDefault()}function Dn(e){const{target:t}=e,{x:n,y:r}=Cn(e);On.clear(),mt=!1,Ie.length>0&&(e.preventDefault(),Ii(t)||e.stopImmediatePropagation()),mn("up",e),hr({target:t,x:n,y:r}),mr(),hn()}function Ii(e){let t=e;for(;t;){if(t.hasAttribute(ae.resizeHandle))return!0;t=t.parentElement}return!1}function hr({target:e,x:t,y:n}){Ie.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),$t.forEach(o=>{const{element:i,hitAreaMargins:s}=o,a=i.getBoundingClientRect(),{bottom:l,left:u,right:d,top:c}=a,f=nc?s.coarse:s.fine;if(t>=u-f&&t<=d+f&&n>=c-f&&n<=l+f){if(r!==null&&document.contains(r)&&i!==r&&!i.contains(r)&&!r.contains(i)&&Zl(r,i)>0){let g=r,b=!1;for(;g&&!g.contains(i);){if(Jl(g.getBoundingClientRect(),a)){b=!0;break}g=g.parentElement}if(b)return}Ie.push(o)}})}function Fn(e,t){On.set(e,t)}function mr(){let e=!1,t=!1;Ie.forEach(r=>{const{direction:o}=r;o==="horizontal"?e=!0:t=!0});let n=0;On.forEach(r=>{n|=r}),e&&t?kn("intersection",n):e?kn("horizontal",n):t?kn("vertical",n):ql()}let zn=new AbortController;function hn(){zn.abort(),zn=new AbortController;const e={capture:!0,signal:zn.signal};$t.size&&(mt?(Ie.length>0&&et.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",Dn,e),r.addEventListener("pointerleave",Ln,e),r.addEventListener("pointermove",Ln,e))}),window.addEventListener("pointerup",Dn,e),window.addEventListener("pointercancel",Dn,e)):et.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",oc,e),r.addEventListener("pointermove",Ln,e))}))}function mn(e,t){$t.forEach(n=>{const{setResizeHandlerState:r}=n,o=Ie.includes(n);r(e,o,t)})}function ic(){const[e,t]=h.useState(0);return h.useCallback(()=>t(n=>n+1),[])}function Y(e,t){if(!e)throw console.error(t),Error(t)}function ot(e,t,n=fr){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function $e(e,t,n=fr){return ot(e,t,n)===0}function Ee(e,t,n){return ot(e,t,n)===0}function sc(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const o=e[r],i=t[r];if(!Ee(o,i,n))return!1}return!0}function pt({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];Y(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:o=0,collapsible:i,maxSize:s=100,minSize:a=0}=r;if(ot(n,a)<0)if(i){const l=(o+a)/2;ot(n,l)<0?n=o:n=a}else n=a;return n=Math.min(s,n),n=parseFloat(n.toFixed(fr)),n}function jt({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:o,trigger:i}){if(Ee(e,0))return t;const s=[...t],[a,l]=r;Y(a!=null,"Invalid first pivot index"),Y(l!=null,"Invalid second pivot index");let u=0;if(i==="keyboard"){{const c=e<0?l:a,f=n[c];Y(f,`Panel constraints not found for index ${c}`);const{collapsedSize:m=0,collapsible:g,minSize:b=0}=f;if(g){const v=t[c];if(Y(v!=null,`Previous layout not found for panel index ${c}`),Ee(v,m)){const y=b-v;ot(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}{const c=e<0?a:l,f=n[c];Y(f,`No panel constraints found for index ${c}`);const{collapsedSize:m=0,collapsible:g,minSize:b=0}=f;if(g){const v=t[c];if(Y(v!=null,`Previous layout not found for panel index ${c}`),Ee(v,b)){const y=v-m;ot(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}}{const c=e<0?1:-1;let f=e<0?l:a,m=0;for(;;){const b=t[f];Y(b!=null,`Previous layout not found for panel index ${f}`);const y=pt({panelConstraints:n,panelIndex:f,size:100})-b;if(m+=y,f+=c,f<0||f>=n.length)break}const g=Math.min(Math.abs(e),Math.abs(m));e=e<0?0-g:g}{let f=e<0?a:l;for(;f>=0&&f<n.length;){const m=Math.abs(e)-Math.abs(u),g=t[f];Y(g!=null,`Previous layout not found for panel index ${f}`);const b=g-m,v=pt({panelConstraints:n,panelIndex:f,size:b});if(!Ee(g,v)&&(u+=g-v,s[f]=v,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?f--:f++}}if(sc(o,s))return o;{const c=e<0?l:a,f=t[c];Y(f!=null,`Previous layout not found for panel index ${c}`);const m=f+u,g=pt({panelConstraints:n,panelIndex:c,size:m});if(s[c]=g,!Ee(g,m)){let b=m-g,y=e<0?l:a;for(;y>=0&&y<n.length;){const x=s[y];Y(x!=null,`Previous layout not found for panel index ${y}`);const w=x+b,E=pt({panelConstraints:n,panelIndex:y,size:w});if(Ee(x,E)||(b-=E-x,s[y]=E),Ee(b,0))break;e>0?y--:y++}}}const d=s.reduce((c,f)=>f+c,0);return Ee(d,100)?s:o}function ac({layout:e,panelsArray:t,pivotIndices:n}){let r=0,o=100,i=0,s=0;const a=n[0];Y(a!=null,"No pivot index found"),t.forEach((c,f)=>{const{constraints:m}=c,{maxSize:g=100,minSize:b=0}=m;f===a?(r=b,o=g):(i+=b,s+=g)});const l=Math.min(o,100-i),u=Math.max(r,100-s),d=e[a];return{valueMax:l,valueMin:u,valueNow:d}}function Ht(e,t=document){return Array.from(t.querySelectorAll(`[${ae.resizeHandleId}][data-panel-group-id="${e}"]`))}function Ri(e,t,n=document){const o=Ht(e,n).findIndex(i=>i.getAttribute(ae.resizeHandleId)===t);return o??null}function Ti(e,t,n){const r=Ri(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function Mi(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Nn(e,t=document){const n=t.querySelector(`[${ae.resizeHandleId}="${e}"]`);return n||null}function lc(e,t,n,r=document){var o,i,s,a;const l=Nn(t,r),u=Ht(e,r),d=l?u.indexOf(l):-1,c=(o=(i=n[d])===null||i===void 0?void 0:i.id)!==null&&o!==void 0?o:null,f=(s=(a=n[d+1])===null||a===void 0?void 0:a.id)!==null&&s!==void 0?s:null;return[c,f]}function cc({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:o,panelGroupElement:i,setLayout:s}){h.useRef({didWarnAboutMissingResizeHandle:!1}),nt(()=>{if(!i)return;const a=Ht(n,i);for(let l=0;l<o.length-1;l++){const{valueMax:u,valueMin:d,valueNow:c}=ac({layout:r,panelsArray:o,pivotIndices:[l,l+1]}),f=a[l];if(f!=null){const m=o[l];Y(m,`No panel data found for index "${l}"`),f.setAttribute("aria-controls",m.id),f.setAttribute("aria-valuemax",""+Math.round(u)),f.setAttribute("aria-valuemin",""+Math.round(d)),f.setAttribute("aria-valuenow",c!=null?""+Math.round(c):"")}}return()=>{a.forEach((l,u)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,o,i]),h.useEffect(()=>{if(!i)return;const a=t.current;Y(a,"Eager values not found");const{panelDataArray:l}=a,u=Mi(n,i);Y(u!=null,`No group found for id "${n}"`);const d=Ht(n,i);Y(d,`No resize handles found for group id "${n}"`);const c=d.map(f=>{const m=f.getAttribute(ae.resizeHandleId);Y(m,"Resize handle element has no handle id attribute");const[g,b]=lc(n,m,l,i);if(g==null||b==null)return()=>{};const v=y=>{if(!y.defaultPrevented)switch(y.key){case"Enter":{y.preventDefault();const x=l.findIndex(w=>w.id===g);if(x>=0){const w=l[x];Y(w,`No panel data found for index ${x}`);const E=r[x],{collapsedSize:N=0,collapsible:O,minSize:C=0}=w.constraints;if(E!=null&&O){const T=jt({delta:Ee(E,N)?C-N:N-E,initialLayout:r,panelConstraints:l.map(I=>I.constraints),pivotIndices:Ti(n,m,i),prevLayout:r,trigger:"keyboard"});r!==T&&s(T)}}break}}};return f.addEventListener("keydown",v),()=>{f.removeEventListener("keydown",v)}});return()=>{c.forEach(f=>f())}},[i,e,t,n,r,o,s])}function Xr(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ji(e,t){const n=e==="horizontal",{x:r,y:o}=Cn(t);return n?r:o}function uc(e,t,n,r,o){const i=n==="horizontal",s=Nn(t,o);Y(s,`No resize handle element found for id "${t}"`);const a=s.getAttribute(ae.groupId);Y(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const u=ji(n,e),d=Mi(a,o);Y(d,`No group element found for id "${a}"`);const c=d.getBoundingClientRect(),f=i?c.width:c.height;return(u-l)/f*100}function dc(e,t,n,r,o,i){if(xi(e)){const s=n==="horizontal";let a=0;e.shiftKey?a=100:o!=null?a=o:a=10;let l=0;switch(e.key){case"ArrowDown":l=s?0:a;break;case"ArrowLeft":l=s?-a:0;break;case"ArrowRight":l=s?a:0;break;case"ArrowUp":l=s?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:uc(e,t,n,r,i)}function fc({panelDataArray:e}){const t=Array(e.length),n=e.map(i=>i.constraints);let r=0,o=100;for(let i=0;i<e.length;i++){const s=n[i];Y(s,`Panel constraints not found for index ${i}`);const{defaultSize:a}=s;a!=null&&(r++,t[i]=a,o-=a)}for(let i=0;i<e.length;i++){const s=n[i];Y(s,`Panel constraints not found for index ${i}`);const{defaultSize:a}=s;if(a!=null)continue;const l=e.length-r,u=o/l;r++,t[i]=u,o-=u}return t}function ut(e,t,n){t.forEach((r,o)=>{const i=e[o];Y(i,`Panel data not found for index ${o}`);const{callbacks:s,constraints:a,id:l}=i,{collapsedSize:u=0,collapsible:d}=a,c=n[l];if(c==null||r!==c){n[l]=r;const{onCollapse:f,onExpand:m,onResize:g}=s;g&&g(r,c),d&&(f||m)&&(m&&(c==null||$e(c,u))&&!$e(r,u)&&m(),f&&(c==null||!$e(c,u))&&$e(r,u)&&f())}})}function on(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function pc({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:o,precision:i=3}){const s=n[o];let a;return s==null?a=e!=null?e.toPrecision(i):"1":r.length===1?a="1":a=s.toPrecision(i),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function hc(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function Jr(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Ai(e){return`react-resizable-panels:${e}`}function _i(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:o,order:i}=t;return o?r:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function ki(e,t){try{const n=Ai(e),r=t.getItem(n);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function mc(e,t,n){var r,o;const i=(r=ki(e,n))!==null&&r!==void 0?r:{},s=_i(t);return(o=i[s])!==null&&o!==void 0?o:null}function gc(e,t,n,r,o){var i;const s=Ai(e),a=_i(t),l=(i=ki(e,o))!==null&&i!==void 0?i:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{o.setItem(s,JSON.stringify(l))}catch(u){console.error(u)}}function Zr({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((i,s)=>i+s,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!Ee(r,100)&&n.length>0)for(let i=0;i<t.length;i++){const s=n[i];Y(s!=null,`No layout data found for index ${i}`);const a=100/r*s;n[i]=a}let o=0;for(let i=0;i<t.length;i++){const s=n[i];Y(s!=null,`No layout data found for index ${i}`);const a=pt({panelConstraints:t,panelIndex:i,size:s});s!=a&&(o+=s-a,n[i]=a)}if(!Ee(o,0))for(let i=0;i<t.length;i++){const s=n[i];Y(s!=null,`No layout data found for index ${i}`);const a=s+o,l=pt({panelConstraints:t,panelIndex:i,size:a});if(s!==l&&(o-=l-s,n[i]=l,Ee(o,0)))break}return n}const vc=100,At={getItem:e=>(Jr(At),At.getItem(e)),setItem:(e,t)=>{Jr(At),At.setItem(e,t)}},Qr={};function Li({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:o,id:i=null,onLayout:s=null,keyboardResizeBy:a=null,storage:l=At,style:u,tagName:d="div",...c}){const f=pr(i),m=h.useRef(null),[g,b]=h.useState(null),[v,y]=h.useState([]),x=ic(),w=h.useRef({}),E=h.useRef(new Map),N=h.useRef(0),O=h.useRef({autoSaveId:e,direction:r,dragState:g,id:f,keyboardResizeBy:a,onLayout:s,storage:l}),C=h.useRef({layout:v,panelDataArray:[],panelDataArrayChanged:!1});h.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),h.useImperativeHandle(o,()=>({getId:()=>O.current.id,getLayout:()=>{const{layout:A}=C.current;return A},setLayout:A=>{const{onLayout:$}=O.current,{layout:W,panelDataArray:F}=C.current,_=Zr({layout:A,panelConstraints:F.map(H=>H.constraints)});Xr(W,_)||(y(_),C.current.layout=_,$&&$(_),ut(F,_,w.current))}}),[]),nt(()=>{O.current.autoSaveId=e,O.current.direction=r,O.current.dragState=g,O.current.id=f,O.current.onLayout=s,O.current.storage=l}),cc({committedValuesRef:O,eagerValuesRef:C,groupId:f,layout:v,panelDataArray:C.current.panelDataArray,setLayout:y,panelGroupElement:m.current}),h.useEffect(()=>{const{panelDataArray:A}=C.current;if(e){if(v.length===0||v.length!==A.length)return;let $=Qr[e];$==null&&($=hc(gc,vc),Qr[e]=$);const W=[...A],F=new Map(E.current);$(e,W,F,v,l)}},[e,v,l]),h.useEffect(()=>{});const T=h.useCallback(A=>{const{onLayout:$}=O.current,{layout:W,panelDataArray:F}=C.current;if(A.constraints.collapsible){const _=F.map(pe=>pe.constraints),{collapsedSize:H=0,panelSize:U,pivotIndices:ne}=Qe(F,A,W);if(Y(U!=null,`Panel size not found for panel "${A.id}"`),!$e(U,H)){E.current.set(A.id,U);const he=ft(F,A)===F.length-1?U-H:H-U,Q=jt({delta:he,initialLayout:W,panelConstraints:_,pivotIndices:ne,prevLayout:W,trigger:"imperative-api"});on(W,Q)||(y(Q),C.current.layout=Q,$&&$(Q),ut(F,Q,w.current))}}},[]),I=h.useCallback((A,$)=>{const{onLayout:W}=O.current,{layout:F,panelDataArray:_}=C.current;if(A.constraints.collapsible){const H=_.map(de=>de.constraints),{collapsedSize:U=0,panelSize:ne=0,minSize:pe=0,pivotIndices:he}=Qe(_,A,F),Q=$??pe;if($e(ne,U)){const de=E.current.get(A.id),Fe=de!=null&&de>=Q?de:Q,Ze=ft(_,A)===_.length-1?ne-Fe:Fe-ne,ue=jt({delta:Ze,initialLayout:F,panelConstraints:H,pivotIndices:he,prevLayout:F,trigger:"imperative-api"});on(F,ue)||(y(ue),C.current.layout=ue,W&&W(ue),ut(_,ue,w.current))}}},[]),S=h.useCallback(A=>{const{layout:$,panelDataArray:W}=C.current,{panelSize:F}=Qe(W,A,$);return Y(F!=null,`Panel size not found for panel "${A.id}"`),F},[]),M=h.useCallback((A,$)=>{const{panelDataArray:W}=C.current,F=ft(W,A);return pc({defaultSize:$,dragState:g,layout:v,panelData:W,panelIndex:F})},[g,v]),D=h.useCallback(A=>{const{layout:$,panelDataArray:W}=C.current,{collapsedSize:F=0,collapsible:_,panelSize:H}=Qe(W,A,$);return Y(H!=null,`Panel size not found for panel "${A.id}"`),_===!0&&$e(H,F)},[]),Z=h.useCallback(A=>{const{layout:$,panelDataArray:W}=C.current,{collapsedSize:F=0,collapsible:_,panelSize:H}=Qe(W,A,$);return Y(H!=null,`Panel size not found for panel "${A.id}"`),!_||ot(H,F)>0},[]),K=h.useCallback(A=>{const{panelDataArray:$}=C.current;$.push(A),$.sort((W,F)=>{const _=W.order,H=F.order;return _==null&&H==null?0:_==null?-1:H==null?1:_-H}),C.current.panelDataArrayChanged=!0,x()},[x]);nt(()=>{if(C.current.panelDataArrayChanged){C.current.panelDataArrayChanged=!1;const{autoSaveId:A,onLayout:$,storage:W}=O.current,{layout:F,panelDataArray:_}=C.current;let H=null;if(A){const ne=mc(A,_,W);ne&&(E.current=new Map(Object.entries(ne.expandToSizes)),H=ne.layout)}H==null&&(H=fc({panelDataArray:_}));const U=Zr({layout:H,panelConstraints:_.map(ne=>ne.constraints)});Xr(F,U)||(y(U),C.current.layout=U,$&&$(U),ut(_,U,w.current))}}),nt(()=>{const A=C.current;return()=>{A.layout=[]}},[]);const G=h.useCallback(A=>{let $=!1;const W=m.current;return W&&window.getComputedStyle(W,null).getPropertyValue("direction")==="rtl"&&($=!0),function(_){_.preventDefault();const H=m.current;if(!H)return()=>null;const{direction:U,dragState:ne,id:pe,keyboardResizeBy:he,onLayout:Q}=O.current,{layout:de,panelDataArray:Fe}=C.current,{initialLayout:Ge}=ne??{},Ze=Ti(pe,A,H);let ue=dc(_,A,U,ne,he,H);const Se=U==="horizontal";Se&&$&&(ue=-ue);const Va=Fe.map(Ka=>Ka.constraints),Ot=jt({delta:ue,initialLayout:Ge??de,panelConstraints:Va,pivotIndices:Ze,prevLayout:de,trigger:xi(_)?"keyboard":"mouse-or-touch"}),Wr=!on(de,Ot);(wi(_)||Ei(_))&&N.current!=ue&&(N.current=ue,!Wr&&ue!==0?Se?Fn(A,ue<0?Pi:Ci):Fn(A,ue<0?Oi:Ni):Fn(A,0)),Wr&&(y(Ot),C.current.layout=Ot,Q&&Q(Ot),ut(Fe,Ot,w.current))}},[]),q=h.useCallback((A,$)=>{const{onLayout:W}=O.current,{layout:F,panelDataArray:_}=C.current,H=_.map(de=>de.constraints),{panelSize:U,pivotIndices:ne}=Qe(_,A,F);Y(U!=null,`Panel size not found for panel "${A.id}"`);const he=ft(_,A)===_.length-1?U-$:$-U,Q=jt({delta:he,initialLayout:F,panelConstraints:H,pivotIndices:ne,prevLayout:F,trigger:"imperative-api"});on(F,Q)||(y(Q),C.current.layout=Q,W&&W(Q),ut(_,Q,w.current))},[]),ie=h.useCallback((A,$)=>{const{layout:W,panelDataArray:F}=C.current,{collapsedSize:_=0,collapsible:H}=$,{collapsedSize:U=0,collapsible:ne,maxSize:pe=100,minSize:he=0}=A.constraints,{panelSize:Q}=Qe(F,A,W);Q!=null&&(H&&ne&&$e(Q,_)?$e(_,U)||q(A,U):Q<he?q(A,he):Q>pe&&q(A,pe))},[q]),oe=h.useCallback((A,$)=>{const{direction:W}=O.current,{layout:F}=C.current;if(!m.current)return;const _=Nn(A,m.current);Y(_,`Drag handle element not found for id "${A}"`);const H=ji(W,$);b({dragHandleId:A,dragHandleRect:_.getBoundingClientRect(),initialCursorPosition:H,initialLayout:F})},[]),z=h.useCallback(()=>{b(null)},[]),le=h.useCallback(A=>{const{panelDataArray:$}=C.current,W=ft($,A);W>=0&&($.splice(W,1),delete w.current[A.id],C.current.panelDataArrayChanged=!0,x())},[x]),re=h.useMemo(()=>({collapsePanel:T,direction:r,dragState:g,expandPanel:I,getPanelSize:S,getPanelStyle:M,groupId:f,isPanelCollapsed:D,isPanelExpanded:Z,reevaluatePanelConstraints:ie,registerPanel:K,registerResizeHandle:G,resizePanel:q,startDragging:oe,stopDragging:z,unregisterPanel:le,panelGroupElement:m.current}),[T,g,r,I,S,M,f,D,Z,ie,K,G,q,oe,z,le]),ce={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return h.createElement(Pn.Provider,{value:re},h.createElement(d,{...c,children:t,className:n,id:i,ref:m,style:{...ce,...u},[ae.group]:"",[ae.groupDirection]:r,[ae.groupId]:f}))}const Di=h.forwardRef((e,t)=>h.createElement(Li,{...e,forwardedRef:t}));Li.displayName="PanelGroup";Di.displayName="forwardRef(PanelGroup)";function ft(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Qe(e,t,n){const r=ft(e,t),i=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:i}}function yc({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){h.useEffect(()=>{if(e||n==null||r==null)return;const o=Nn(t,r);if(o==null)return;const i=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const a=o.getAttribute(ae.groupId);Y(a,`No group element found for id "${a}"`);const l=Ht(a,r),u=Ri(a,t,r);Y(u!==null,`No resize element found for id "${t}"`);const d=s.shiftKey?u>0?u-1:l.length-1:u+1<l.length?u+1:0;l[d].focus();break}}};return o.addEventListener("keydown",i),()=>{o.removeEventListener("keydown",i)}},[r,e,t,n])}function Fi({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:o,onBlur:i,onClick:s,onDragging:a,onFocus:l,onPointerDown:u,onPointerUp:d,style:c={},tabIndex:f=0,tagName:m="div",...g}){var b,v;const y=h.useRef(null),x=h.useRef({onClick:s,onDragging:a,onPointerDown:u,onPointerUp:d});h.useEffect(()=>{x.current.onClick=s,x.current.onDragging=a,x.current.onPointerDown=u,x.current.onPointerUp=d});const w=h.useContext(Pn);if(w===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:E,groupId:N,registerResizeHandle:O,startDragging:C,stopDragging:T,panelGroupElement:I}=w,S=pr(o),[M,D]=h.useState("inactive"),[Z,K]=h.useState(!1),[G,q]=h.useState(null),ie=h.useRef({state:M});nt(()=>{ie.current.state=M}),h.useEffect(()=>{if(n)q(null);else{const re=O(S);q(()=>re)}},[n,S,O]);const oe=(b=r==null?void 0:r.coarse)!==null&&b!==void 0?b:15,z=(v=r==null?void 0:r.fine)!==null&&v!==void 0?v:5;h.useEffect(()=>{if(n||G==null)return;const re=y.current;Y(re,"Element ref not attached");let ce=!1;return rc(S,re,E,{coarse:oe,fine:z},($,W,F)=>{if(!W){D("inactive");return}switch($){case"down":{D("drag"),ce=!1,Y(F,'Expected event to be defined for "down" action'),C(S,F);const{onDragging:_,onPointerDown:H}=x.current;_==null||_(!0),H==null||H();break}case"move":{const{state:_}=ie.current;ce=!0,_!=="drag"&&D("hover"),Y(F,'Expected event to be defined for "move" action'),G(F);break}case"up":{D("hover"),T();const{onClick:_,onDragging:H,onPointerUp:U}=x.current;H==null||H(!1),U==null||U(),ce||_==null||_();break}}})},[oe,E,n,z,O,S,G,C,T]),yc({disabled:n,handleId:S,resizeHandler:G,panelGroupElement:I});const le={touchAction:"none",userSelect:"none"};return h.createElement(m,{...g,children:e,className:t,id:o,onBlur:()=>{K(!1),i==null||i()},onFocus:()=>{K(!0),l==null||l()},ref:y,role:"separator",style:{...le,...c},tabIndex:f,[ae.groupDirection]:E,[ae.groupId]:N,[ae.resizeHandle]:"",[ae.resizeHandleActive]:M==="drag"?"pointer":Z?"keyboard":void 0,[ae.resizeHandleEnabled]:!n,[ae.resizeHandleId]:S,[ae.resizeHandleState]:M})}Fi.displayName="PanelResizeHandle";const bc=e=>{const t=Le[e];fe.getState().init(e),st.getState().init(e),He.getState().init(),zt.getState().init(),qe.getState().init(e),t.initialState()};let $n=!1;const rt=dl((e,t)=>({mousePosition:null,setMousePosition:n=>e({mousePosition:n}),initMouseTracking:n=>{if($n)return;$n=!0,e({canvasContainer:n});const r=i=>{const s=n.getBoundingClientRect(),a=i.clientX-s.left,l=i.clientY-s.top;a>=0&&l>=0&&a<=s.width&&l<=s.height?t().setMousePosition({x:a,y:l,clientX:i.clientX,clientY:i.clientY}):t().setMousePosition(null)},o=()=>{t().setMousePosition(null)};return n.addEventListener("mousemove",r),n.addEventListener("mouseleave",o),()=>{n.removeEventListener("mousemove",r),n.removeEventListener("mouseleave",o),$n=!1,t().setMousePosition(null),e({canvasContainer:null})}},menuX:0,menuY:0,visible:!1,lastMenuPosition:null,canvasContainer:null,openAddMenu:(n,r)=>{const o=t();let i,s;if(n!==void 0&&r!==void 0)i=n,s=r;else if(o.mousePosition)i=o.mousePosition.clientX,s=o.mousePosition.clientY;else if(o.lastMenuPosition)i=o.lastMenuPosition.x,s=o.lastMenuPosition.y;else if(o.canvasContainer){const a=o.canvasContainer.getBoundingClientRect();i=a.left+a.width/2,s=a.top+a.height/2}else{console.warn("Cannot open add menu: no coordinates available and canvas container not found");return}i=i>window.innerWidth-274?window.innerWidth-274:i,s=s>window.innerHeight-284?window.innerHeight-284:s,e({menuX:i,menuY:s,visible:!0,lastMenuPosition:{x:i,y:s}})},closeAddMenu:()=>e({visible:!1})}));function xc(e){const t=rt(n=>n.initMouseTracking);h.useEffect(()=>{if(!e.current)return;const n=t(e.current);return()=>n==null?void 0:n()},[e,t])}function wc({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:i,targetPosition:s,style:a={},markerEnd:l}){const[u,d,c]=vl({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:o,targetPosition:s}),{setEdges:f}=De(),m=()=>{f(g=>g.filter(b=>b.id!==e))};return p.jsxs(p.Fragment,{children:[p.jsx(yl,{path:u,markerEnd:l,style:a}),p.jsx(bl,{children:p.jsx("div",{className:"nodrag nopan pointer-events-auto absolute",style:{transform:`translate(-50%, -50%) translate(${d}px,${c}px)`},children:p.jsx("button",{className:"flex h-5 w-5 cursor-pointer items-center justify-center rounded-full border-3 border-[#14141d] bg-slate-800 text-xs text-slate-400 hover:bg-slate-900",onClick:m,children:"×"})})})]})}const Ec={Deletable:wc};function zi(e){const t=Object.keys(Le),n=t.indexOf(e);if(n!==-1)return{prev:n===0?void 0:t[n-1],next:n===t.length-1?void 0:t[n+1]}}const Ae=B.forwardRef(({tooltip:e,className:t,children:n,side:r,...o},i)=>p.jsxs(xl,{children:[p.jsx(wl,{asChild:!0,children:p.jsx("button",{ref:i,className:Dt("cursor-pointer rounded bg-slate-800 p-2 outline outline-slate-500 hover:bg-slate-900",t),...o,children:n})}),p.jsx(El,{side:r,children:typeof e=="string"?p.jsx("p",{children:e}):e})]})),Sc=()=>{const e=fe(r=>r.currentLevel),t=zi(e),n=fe(r=>r.pause);return p.jsxs(Sn,{position:"top-center",className:"flex flex-row items-center justify-center gap-2",id:"center-panel",children:[(t==null?void 0:t.prev)&&p.jsx(ht,{to:`/levels/${t==null?void 0:t.prev}`,onClick:()=>n(),children:p.jsx(Ae,{tooltip:"Previous Level",side:"left",className:"text-white",children:p.jsx(Xa,{className:"text-white"})})}),p.jsx(ht,{to:"/",children:p.jsx(Ae,{tooltip:"Home",side:"bottom",children:p.jsx(Ja,{className:"text-white"})})}),(t==null?void 0:t.next)&&p.jsx(ht,{to:`/levels/${t==null?void 0:t.next}`,onClick:()=>n(),children:p.jsx(Ae,{tooltip:"Next Level",side:"right",children:p.jsx(Za,{className:"text-white"})})})]})};var Pc=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cc=Pc.reduce((e,t)=>{const n=Vt(`Primitive.${t}`),r=h.forwardRef((o,i)=>{const{asChild:s,...a}=o,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Oc="Arrow",$i=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return p.jsx(Cc.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});$i.displayName=Oc;var Nc=$i,Ic=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hi=Ic.reduce((e,t)=>{const n=Vt(`Primitive.${t}`),r=h.forwardRef((o,i)=>{const{asChild:s,...a}=o,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),gr="Popper",[Bi,Wi]=wt(gr),[Rc,Gi]=Bi(gr),Ui=e=>{const{__scopePopper:t,children:n}=e,[r,o]=h.useState(null);return p.jsx(Rc,{scope:t,anchor:r,onAnchorChange:o,children:n})};Ui.displayName=gr;var Vi="PopperAnchor",Ki=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=Gi(Vi,n),s=h.useRef(null),a=ye(t,s);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(Hi.div,{...o,ref:a})});Ki.displayName=Vi;var vr="PopperContent",[Tc,Mc]=Bi(vr),Yi=h.forwardRef((e,t)=>{var _,H,U,ne,pe,he;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:c="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...b}=e,v=Gi(vr,n),[y,x]=h.useState(null),w=ye(t,Q=>x(Q)),[E,N]=h.useState(null),O=Yo(E),C=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),S=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],D=M.length>0,Z={padding:S,boundary:M.filter(Ac),altBoundary:D},{refs:K,floatingStyles:G,placement:q,isPositioned:ie,middlewareData:oe}=qo({strategy:"fixed",placement:I,whileElementsMounted:(...Q)=>ri(...Q,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Xo({mainAxis:o+T,alignmentAxis:s}),l&&Jo({mainAxis:!0,crossAxis:!1,limiter:c==="partial"?ni():void 0,...Z}),l&&Zo({...Z}),Qo({...Z,apply:({elements:Q,rects:de,availableWidth:Fe,availableHeight:Ge})=>{const{width:Ze,height:ue}=de.reference,Se=Q.floating.style;Se.setProperty("--radix-popper-available-width",`${Fe}px`),Se.setProperty("--radix-popper-available-height",`${Ge}px`),Se.setProperty("--radix-popper-anchor-width",`${Ze}px`),Se.setProperty("--radix-popper-anchor-height",`${ue}px`)}}),E&&ei({element:E,padding:a}),_c({arrowWidth:C,arrowHeight:T}),f&&ti({strategy:"referenceHidden",...Z})]}),[z,le]=Ji(q),re=We(g);Ft(()=>{ie&&(re==null||re())},[ie,re]);const ce=(_=oe.arrow)==null?void 0:_.x,A=(H=oe.arrow)==null?void 0:H.y,$=((U=oe.arrow)==null?void 0:U.centerOffset)!==0,[W,F]=h.useState();return Ft(()=>{y&&F(window.getComputedStyle(y).zIndex)},[y]),p.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:ie?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(ne=oe.transformOrigin)==null?void 0:ne.x,(pe=oe.transformOrigin)==null?void 0:pe.y].join(" "),...((he=oe.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(Tc,{scope:n,placedSide:z,onArrowChange:N,arrowX:ce,arrowY:A,shouldHideArrow:$,children:p.jsx(Hi.div,{"data-side":z,"data-align":le,...b,ref:w,style:{...b.style,animation:ie?void 0:"none"}})})})});Yi.displayName=vr;var qi="PopperArrow",jc={top:"bottom",right:"left",bottom:"top",left:"right"},Xi=h.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=Mc(qi,r),s=jc[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(Nc,{...o,ref:n,style:{...o.style,display:"block"}})})});Xi.displayName=qi;function Ac(e){return e!==null}var _c=e=>({name:"transformOrigin",options:e,fn(t){var v,y,x;const{placement:n,rects:r,middlewareData:o}=t,s=((v=o.arrow)==null?void 0:v.centerOffset)!==0,a=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,d]=Ji(n),c={start:"0%",center:"50%",end:"100%"}[d],f=(((y=o.arrow)==null?void 0:y.x)??0)+a/2,m=(((x=o.arrow)==null?void 0:x.y)??0)+l/2;let g="",b="";return u==="bottom"?(g=s?c:`${f}px`,b=`${-l}px`):u==="top"?(g=s?c:`${f}px`,b=`${r.floating.height+l}px`):u==="right"?(g=`${-l}px`,b=s?c:`${m}px`):u==="left"&&(g=`${r.floating.width+l}px`,b=s?c:`${m}px`),{data:{x:g,y:b}}}});function Ji(e){const[t,n="center"]=e.split("-");return[t,n]}var kc=Ui,Zi=Ki,Lc=Yi,Dc=Xi,Fc=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qi=Fc.reduce((e,t)=>{const n=Vt(`Primitive.${t}`),r=h.forwardRef((o,i)=>{const{asChild:s,...a}=o,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),In="Popover",[es,hm]=wt(In,[Wi]),Kt=Wi(),[zc,Je]=es(In),yr=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!1}=e,a=Kt(t),l=h.useRef(null),[u,d]=h.useState(!1),[c,f]=ur({prop:r,defaultProp:o??!1,onChange:i,caller:In});return p.jsx(kc,{...a,children:p.jsx(zc,{scope:t,contentId:dn(),triggerRef:l,open:c,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:s,children:n})})};yr.displayName=In;var ts="PopoverAnchor",$c=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Je(ts,n),i=Kt(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=o;return h.useEffect(()=>(s(),()=>a()),[s,a]),p.jsx(Zi,{...i,...r,ref:t})});$c.displayName=ts;var ns="PopoverTrigger",br=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Je(ns,n),i=Kt(n),s=ye(t,o.triggerRef),a=p.jsx(Qi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ss(o.open),...r,ref:s,onClick:X(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?a:p.jsx(Zi,{asChild:!0,...i,children:a})});br.displayName=ns;var xr="PopoverPortal",[Hc,Bc]=es(xr,{forceMount:void 0}),wr=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=Je(xr,t);return p.jsx(Hc,{scope:t,forceMount:n,children:p.jsx(Et,{present:n||i.open,children:p.jsx(Hl,{asChild:!0,container:o,children:r})})})};wr.displayName=xr;var gt="PopoverContent",Er=h.forwardRef((e,t)=>{const n=Bc(gt,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=Je(gt,e.__scopePopover);return p.jsx(Et,{present:r||i.open,children:i.modal?p.jsx(Gc,{...o,ref:t}):p.jsx(Uc,{...o,ref:t})})});Er.displayName=gt;var Wc=Vt("PopoverContent.RemoveScroll"),Gc=h.forwardRef((e,t)=>{const n=Je(gt,e.__scopePopover),r=h.useRef(null),o=ye(t,r),i=h.useRef(!1);return h.useEffect(()=>{const s=r.current;if(s)return Go(s)},[]),p.jsx(Uo,{as:Wc,allowPinchZoom:!0,children:p.jsx(rs,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:X(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),Uc=h.forwardRef((e,t)=>{const n=Je(gt,e.__scopePopover),r=h.useRef(!1),o=h.useRef(!1);return p.jsx(rs,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,a;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),rs=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...c}=e,f=Je(gt,n),m=Kt(n);return Vo(),p.jsx(Bl,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:p.jsx(Wl,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:p.jsx(Lc,{"data-state":ss(f.open),role:"dialog",id:f.contentId,...m,...c,ref:t,style:{...c.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),os="PopoverClose",is=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Je(os,n);return p.jsx(Qi.button,{type:"button",...r,ref:t,onClick:X(e.onClick,()=>o.onOpenChange(!1))})});is.displayName=os;var Vc="PopoverArrow",Kc=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Kt(n);return p.jsx(Dc,{...o,...r,ref:t})});Kc.displayName=Vc;function ss(e){return e?"open":"closed"}var Yc=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qc=Yc.reduce((e,t)=>{const n=Vt(`Primitive.${t}`),r=h.forwardRef((o,i)=>{const{asChild:s,...a}=o,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Xc=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Jc="VisuallyHidden",Sr=h.forwardRef((e,t)=>p.jsx(qc.span,{...e,ref:t,style:{...Xc,...e.style}}));Sr.displayName=Jc;const as=({title:e,trigger:t,defaultOpen:n,open:r,onOpenChange:o,desc:i,children:s})=>p.jsxs(hi,{defaultOpen:n,open:r,onOpenChange:o,children:[p.jsx(Gl,{asChild:!0,children:t}),p.jsxs(mi,{children:[p.jsx(Ul,{className:"fixed inset-0 bg-black/25"}),p.jsxs(gi,{className:"fixed top-1/2 left-1/2 flex w-1/2 -translate-x-1/2 -translate-y-1/2 flex-col gap-6 rounded-lg border-2 border-blue-300 bg-slate-800/85 p-8 font-mono text-white",children:[p.jsx(Sr,{asChild:!0,children:p.jsx(vi,{children:i})}),p.jsx(yi,{className:"text-center text-4xl font-bold capitalize",children:e}),p.jsx("div",{id:"dialog",children:s}),p.jsx(kt,{asChild:!0,children:p.jsx("button",{className:"absolute top-2.5 right-2.5 inline-flex size-[25px] cursor-pointer appearance-none items-center justify-center rounded-full bg-slate-700 focus:outline-1 focus:outline-blue-300","aria-label":"Close",children:p.jsx(Qa,{})})})]})]})]}),ls=({open:e,onOpenChange:t,trigger:n})=>{var m;const r=fe(g=>g.currentLevel),o=((m=Le[r])==null?void 0:m.dialog)||["No dialog available for this level."],[i,s]=h.useState(0),a=o[i],[l,u]=h.useState("");h.useEffect(()=>{let g=0;const b=setInterval(()=>{g<=a.length?(u(a.slice(0,g)),g++):clearInterval(b)},10);return()=>{clearInterval(b),u("")}},[a]);const d=h.useRef(null),c=()=>{if(i<o.length-1){const g=i+1;s(g)}},f=()=>{if(i>0){const g=i-1;s(g)}};return p.jsx(as,{title:r,trigger:n,open:e,onOpenChange:t,desc:`This dialog displays the level goals and instructions for the
            ${r} level. You can close it by clicking the close button or
            pressing the escape key.`,children:p.jsxs("div",{className:"flex flex-col gap-5",children:[p.jsxs("div",{className:"flex flex-1 flex-row",children:[p.jsx("div",{className:"my-auto w-1/3",children:p.jsx("div",{style:{aspectRatio:"7 / 6",width:"100%",backgroundImage:"url('/game/sprites/raccoon_spritesheet.png')",backgroundPosition:"0 0",backgroundSize:"400% 400%",backgroundRepeat:"no-repeat",imageRendering:"pixelated"}})}),p.jsxs("div",{className:"relative my-auto h-36 w-full rounded-lg bg-slate-700 p-4 text-white shadow-lg",children:[p.jsx("div",{className:"absolute top-1/2 -left-2.5 h-0 w-0 -translate-y-1/2 border-t-10 border-r-10 border-b-10 border-t-transparent border-r-slate-700 border-b-transparent"}),p.jsx("p",{className:"h-full overflow-auto pr-2 text-lg italic [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-slate-500 [&::-webkit-scrollbar-track]:rounded-full [&::-webkit-scrollbar-track]:bg-slate-900",children:l})]})]}),p.jsxs("div",{className:"flex flex-row justify-end gap-5",children:[p.jsx("button",{onClick:f,disabled:i===0,className:Dt("rounded-lg bg-slate-700/80 px-3 py-2 focus:outline-1 focus:outline-blue-300",i===0?"opacity-50":"cursor-pointer hover:bg-slate-600"),children:"Previous"}),i===o.length-1?p.jsx(kt,{asChild:!0,children:p.jsx("button",{ref:d,onClick:()=>{s(0)},className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Start"})}):p.jsx("button",{onClick:c,className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Next"})]})]})})};function cs(){st.temporal.getState().undo(),ds()}function us(){st.temporal.getState().redo(),ds()}function ds(){const e=st.getState();e.resetHighlight("cycle");const t=He.getState();t.reset(),e.nodes.forEach(n=>{t.replaceNode(n)}),e.edges.forEach(n=>{t.addEdge(n)})}const Zc=()=>{const e=fe(o=>o.currentLevel),t=fe(o=>o.isPaused),n=fe(o=>o.play),r=fe(o=>o.pause);return p.jsxs(Sn,{position:"top-left",className:"flex flex-col items-center justify-center gap-2",children:[p.jsx(Ae,{tooltip:"Play/Pause",side:"right",onClick:()=>{t?n():r()},children:t?p.jsx(el,{className:"text-white"}):p.jsx(tl,{className:"text-white"})}),p.jsxs(yr,{children:[p.jsx(br,{asChild:!0,children:p.jsx(Ae,{tooltip:"Reset Level",side:"right",id:"reset-level",children:p.jsx(nl,{className:"text-white"})})}),p.jsx(wr,{children:p.jsx(Er,{side:"right",sideOffset:10,className:"mr-3",children:p.jsx("div",{className:"flex w-42 flex-col rounded bg-slate-800 p-2 font-mono text-white shadow-lg outline-1 outline-slate-700 outline-solid",children:p.jsx(is,{asChild:!0,children:p.jsx("button",{className:"hover:bg-jam-600 cursor-pointer rounded bg-slate-700 px-2 py-1 text-left text-sm text-white",onClick:()=>{st.getState().reset(e),He.getState().reset(),zt.getState().reset(),qe.getState().reset(e),fe.getState().setLevelCompleted(!1),fe.getState().init(e)},children:"Reset Level?"})})})})})]}),p.jsx(ls,{trigger:p.jsx(Ae,{tooltip:"Level Info",side:"right",children:p.jsx(rl,{className:"text-white"})})}),p.jsx(Ae,{tooltip:p.jsxs("p",{children:["Undo",p.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:ge.isMac?"⌥+Z":"Ctrl+Z"})]}),side:"right",onClick:()=>{cs()},children:p.jsx(Gr,{className:"text-white"})}),p.jsx(Ae,{tooltip:p.jsxs("p",{children:["Redo",p.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:ge.isMac?"⌥+Y":"Ctrl+Y"})]}),side:"right",onClick:()=>{us()},children:p.jsx(Gr,{className:"-scale-x-100 text-white"})})]})};function Pr(e,t,n,r,o){if(!e||e.length===0)return;const i=new Map,s=[],a=[],l=e.filter(v=>v.type==="Group");s.push(...l.map(v=>{const y=Jn();return i.set(v.id,y),{...v,id:y,position:{x:v.position.x+50,y:v.position.y+50},data:{...v.data}}}));const u=e.filter(v=>v.type==="ForStart"),d=e.filter(v=>v.type==="ForEnd"),c=[];u.forEach(v=>{const y=d.find(x=>x.data.loopId===v.data.loopId);y&&c.push({start:v,end:y})}),c.forEach(v=>{const y=oi({x:v.start.parentId&&i.has(v.start.parentId)?v.start.position.x:v.start.position.x+50,y:v.start.parentId&&i.has(v.start.parentId)?v.start.position.y:v.start.position.y+50},{x:v.end.parentId&&i.has(v.end.parentId)?v.end.position.x:v.end.position.x+50,y:v.end.parentId&&i.has(v.end.parentId)?v.end.position.y:v.end.position.y+50},i.get(v.start.data.parentLoopId)??v.start.data.parentLoopId,i.get(v.start.parentId)??v.start.parentId,i.get(v.end.parentId)??v.end.parentId);s.push(...y.nodes),a.push(y.mainConnectorEdge),i.set(v.start.id,y.startId),i.set(v.end.id,y.endId),i.set(v.start.data.loopId,y.id)}),e.filter(v=>v.type!=="Group"&&v.type!=="ForStart"&&v.type!=="ForEnd").forEach(v=>{const y=Jn();i.set(v.id,y),s.push({...v,id:y,parentId:v.parentId?i.get(v.parentId)??v.parentId:void 0,position:{x:v.parentId&&i.has(v.parentId)?v.position.x:v.position.x+50,y:v.parentId&&i.has(v.parentId)?v.position.y:v.position.y+50},data:{...v.data,parentLoopId:i.get(v.data.parentLoopId)??v.data.parentLoopId}})});const m=zt.getState().addHandle,g=zt.getState().getHandles;c.forEach(v=>{const y=i.get(v.start.data.loopId);if(!y)return;g(v.start.data.loopId).forEach((w,E)=>{const N=m(y,E);i.set(w,N)})}),o(v=>v.concat(s).map(x=>({...x,selected:Array.from(i.values()).includes(x.id)}))),s.forEach(v=>{if(v.type==="Group"||v.data.parentLoopId===void 0)return;const y=n().concat(s).filter(x=>x.data.loopId===v.data.parentLoopId);a.push(...ii(y,[v.id]))}),t().filter(v=>v.sourceHandle===Ur||v.targetHandle===Ur?!1:i.has(v.source)&&i.has(v.target)).forEach(v=>{const y=i.get(v.source),x=i.get(v.target),w=i.get(v.sourceHandle??"")??v.sourceHandle??null,E=i.get(v.targetHandle??"")??v.targetHandle??null;if(!y||!x)return;const N=fl({source:y,sourceHandle:w,target:x,targetHandle:E});a.push({...v,id:N,type:v.type,source:y,target:x,sourceHandle:w,targetHandle:E,animated:v.animated??!1,selectable:v.selectable??!0,style:{...v.style}})}),r(v=>v.concat(a).map(x=>({...x})))}const Cr=({x:e,y:t,onClose:n,parentLoopId:r,children:o,parentId:i})=>{const s=fe(I=>I.currentLevel),a=Le[s].availableNodes,l=Object.values(Sl).flat(),{addNodes:u,addEdges:d,screenToFlowPosition:c,getNodes:f,getNode:m}=De(),g=h.useRef(null),[b,v]=h.useState(""),[y,x]=h.useState(0),[w,E]=h.useState(a.map(I=>({nodeType:I}))),N=m(i??"");h.useEffect(()=>{var I;(I=g.current)==null||I.focus()},[]),h.useEffect(()=>{const I=a.filter(D=>D.toLowerCase().includes(b.toLowerCase())).map(D=>({nodeType:D}));if(b===""||!a.some(D=>D==="Math"))return E(I);const S=l.filter(D=>D.toLowerCase().includes(b.toLowerCase())).map(D=>({nodeType:"Math",computeType:D})),M=[...I,...S];E(M),x(0)},[b]);const O=(I,S)=>{const M=c({x:e,y:t}),D={x:N?M.x-N.position.x:M.x,y:N?M.y-N.position.y:M.y},Z={x:N?M.x-N.position.x+300:M.x+300,y:N?M.y-N.position.y:M.y},K=[],G=[];if(I==="ForLoop"){const q=oi(D,Z,r,i);K.push(q.mainConnectorEdge),G.push(...q.nodes)}else G.push(C(I,S));if(u(G),r){const q=f().filter(ie=>ie.data.loopId===r);K.push(...ii(q,G.map(ie=>ie.id)))}d(K),n()},C=(I,S)=>{const M=Jn(),D=c({x:e,y:t}),Z={x:N?D.x-N.position.x:D.x,y:N?D.y-N.position.y:D.y};return{id:M,type:I,position:Z,parentId:i,data:{initialComputeType:S,parentLoopId:r},height:I==="Group"?Ve.height:void 0,width:I==="Group"?Ve.width:void 0,selected:!1,dragging:!1}},T=I=>{if(I.key==="ArrowDown")I.preventDefault(),x(S=>(S+1)%w.length);else if(I.key==="ArrowUp")I.preventDefault(),x(S=>(S-1+w.length)%w.length);else if(I.key==="Enter"){I.preventDefault();const S=w[y];S&&O(S.nodeType,S.computeType)}};return h.useEffect(()=>(window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)),[w,y]),p.jsxs("div",{className:"flex w-65 flex-col gap-2 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:[p.jsx("div",{className:"shadow",children:p.jsx("input",{ref:g,type:"text",spellCheck:"false",placeholder:"Search",className:"w-full rounded bg-slate-900 p-2 text-sm text-white focus:border-gray-300 focus:ring-0 focus:outline-none",onChange:I=>v(I.target.value)})}),p.jsx("div",{className:"flex flex-col gap-1",children:w.map((I,S)=>p.jsx("button",{className:Dt("w-full cursor-pointer rounded px-2 py-1 text-left text-sm text-white",y===S?"bg-slate-700":"hover:bg-slate-700"),onClick:()=>O(I.nodeType,I.computeType),children:I.computeType?p.jsxs("span",{children:[p.jsx("span",{className:"text-slate-400",children:I.nodeType}),p.jsx(ol,{className:"inline-block h-4 w-4 text-slate-400"}),p.jsx("span",{className:"",children:I.computeType})]}):p.jsx(p.Fragment,{children:I.nodeType})},`add_node_${I}_${S}`))}),b===""&&p.jsx(p.Fragment,{children:o})]})},Qc=B.forwardRef(({nodeId:e,nodeType:t,nodeLoopId:n,x:r,y:o,onClose:i,nodeParentId:s},a)=>p.jsx("div",{ref:a,style:{position:"absolute",top:o,left:r,zIndex:1e3},children:t==="ForStart"||t==="ForEnd"?p.jsxs(Cr,{x:r,y:o,onClose:i,parentLoopId:n,parentId:s,children:[p.jsx("hr",{className:"mx-auto h-1 w-44 rounded-sm border-0 bg-slate-700"}),p.jsx(eo,{nodeId:e,onClose:i})]}):p.jsx("div",{className:"flex w-36 flex-col gap-1 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:p.jsx(eo,{nodeId:e,onClose:i})})})),eo=({nodeId:e,onClose:t})=>{const{getNode:n,getNodes:r,getEdges:o,setNodes:i,setEdges:s,deleteElements:a}=De(),l=h.useCallback(()=>{const d=n(e);if(!d)return;const c=r().filter(f=>f.id===d.id||f.parentId===d.id||(f.data.loopId===d.data.loopId||f.data.parentLoopId===d.data.loopId)&&d.data.loopId!=null);Pr(c,o,r,s,i),t()},[o,n,r,e,t,s,i]),u=h.useCallback(()=>{var m;const d=[e];if(((m=n(e))==null?void 0:m.type)==="Group"){const g=r().filter(v=>v.parentId===e),b=n(e);i(v=>v.map(y=>g.some(x=>x.id===y.id)?{...y,position:{x:b?y.position.x+b.position.x:y.position.x,y:b?y.position.y+b.position.y:y.position.y},parentId:void 0}:y))}const c=r(),f=o();a({nodes:c.filter(g=>d.includes(g.id)),edges:f.filter(g=>d.includes(g.source)||d.includes(g.target))}),t()},[a,o,n,r,e,t,i]);return p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:l,children:[p.jsx("span",{children:"Duplicate"}),p.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:ge.isMac?"⌥+D":"Ctrl+D"})]}),p.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:u,children:[p.jsx("span",{children:"Delete"}),p.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:"Del"})]})]})},eu=B.forwardRef(({x:e,y:t,onClose:n},r)=>p.jsx("div",{ref:r,style:{position:"absolute",top:t,left:e,zIndex:1e3},children:p.jsx(Cr,{onClose:n,x:e,y:t})}));var tu="DismissableLayer",tr="dismissableLayer.update",nu="dismissableLayer.pointerDownOutside",ru="dismissableLayer.focusOutside",to,fs=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ps=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=e,u=h.useContext(fs),[d,c]=h.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=h.useState({}),g=ye(t,C=>c(C)),b=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(v),x=d?b.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,E=x>=y,N=su(C=>{const T=C.target,I=[...u.branches].some(S=>S.contains(T));!E||I||(o==null||o(C),s==null||s(C),C.defaultPrevented||a==null||a())},f),O=au(C=>{const T=C.target;[...u.branches].some(S=>S.contains(T))||(i==null||i(C),s==null||s(C),C.defaultPrevented||a==null||a())},f);return il(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(to=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),no(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=to)}},[d,f,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),no())},[d,u]),h.useEffect(()=>{const C=()=>m({});return document.addEventListener(tr,C),()=>document.removeEventListener(tr,C)},[]),p.jsx(be.div,{...l,ref:g,style:{pointerEvents:w?E?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,O.onFocusCapture),onBlurCapture:X(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,N.onPointerDownCapture)})});ps.displayName=tu;var ou="DismissableLayerBranch",iu=h.forwardRef((e,t)=>{const n=h.useContext(fs),r=h.useRef(null),o=ye(t,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(be.div,{...e,ref:o})});iu.displayName=ou;function su(e,t=globalThis==null?void 0:globalThis.document){const n=We(e),r=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){hs(nu,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function au(e,t=globalThis==null?void 0:globalThis.document){const n=We(e),r=h.useRef(!1);return h.useEffect(()=>{const o=i=>{i.target&&!r.current&&hs(ru,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function no(){const e=new CustomEvent(tr);document.dispatchEvent(e)}function hs(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Ko(o,i):o.dispatchEvent(i)}var Hn="focusScope.autoFocusOnMount",Bn="focusScope.autoFocusOnUnmount",ro={bubbles:!1,cancelable:!0},lu="FocusScope",ms=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[a,l]=h.useState(null),u=We(o),d=We(i),c=h.useRef(null),f=ye(t,b=>l(b)),m=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let b=function(w){if(m.paused||!a)return;const E=w.target;a.contains(E)?c.current=E:Ue(c.current,{select:!0})},v=function(w){if(m.paused||!a)return;const E=w.relatedTarget;E!==null&&(a.contains(E)||Ue(c.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Ue(a)};document.addEventListener("focusin",b),document.addEventListener("focusout",v);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",v),x.disconnect()}}},[r,a,m.paused]),h.useEffect(()=>{if(a){io.add(m);const b=document.activeElement;if(!a.contains(b)){const y=new CustomEvent(Hn,ro);a.addEventListener(Hn,u),a.dispatchEvent(y),y.defaultPrevented||(cu(hu(gs(a)),{select:!0}),document.activeElement===b&&Ue(a))}return()=>{a.removeEventListener(Hn,u),setTimeout(()=>{const y=new CustomEvent(Bn,ro);a.addEventListener(Bn,d),a.dispatchEvent(y),y.defaultPrevented||Ue(b??document.body,{select:!0}),a.removeEventListener(Bn,d),io.remove(m)},0)}}},[a,u,d,m]);const g=h.useCallback(b=>{if(!n&&!r||m.paused)return;const v=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,y=document.activeElement;if(v&&y){const x=b.currentTarget,[w,E]=uu(x);w&&E?!b.shiftKey&&y===E?(b.preventDefault(),n&&Ue(w,{select:!0})):b.shiftKey&&y===w&&(b.preventDefault(),n&&Ue(E,{select:!0})):y===x&&b.preventDefault()}},[n,r,m.paused]);return p.jsx(be.div,{tabIndex:-1,...s,ref:f,onKeyDown:g})});ms.displayName=lu;function cu(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ue(r,{select:t}),document.activeElement!==n)return}function uu(e){const t=gs(e),n=oo(t,e),r=oo(t.reverse(),e);return[n,r]}function gs(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function oo(e,t){for(const n of e)if(!du(n,{upTo:t}))return n}function du(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fu(e){return e instanceof HTMLInputElement&&"select"in e}function Ue(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&fu(e)&&t&&e.select()}}var io=pu();function pu(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=so(e,t),e.unshift(t)},remove(t){var n;e=so(e,t),(n=e[0])==null||n.resume()}}}function so(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function hu(e){return e.filter(t=>t.tagName!=="A")}var mu="Arrow",vs=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return p.jsx(be.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});vs.displayName=mu;var gu=vs,Or="Popper",[ys,bs]=wt(Or),[vu,xs]=ys(Or),ws=e=>{const{__scopePopper:t,children:n}=e,[r,o]=h.useState(null);return p.jsx(vu,{scope:t,anchor:r,onAnchorChange:o,children:n})};ws.displayName=Or;var Es="PopperAnchor",Ss=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=xs(Es,n),s=h.useRef(null),a=ye(t,s);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(be.div,{...o,ref:a})});Ss.displayName=Es;var Nr="PopperContent",[yu,bu]=ys(Nr),Ps=h.forwardRef((e,t)=>{var _,H,U,ne,pe,he;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:c="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...b}=e,v=xs(Nr,n),[y,x]=h.useState(null),w=ye(t,Q=>x(Q)),[E,N]=h.useState(null),O=Yo(E),C=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),S=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],D=M.length>0,Z={padding:S,boundary:M.filter(wu),altBoundary:D},{refs:K,floatingStyles:G,placement:q,isPositioned:ie,middlewareData:oe}=qo({strategy:"fixed",placement:I,whileElementsMounted:(...Q)=>ri(...Q,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Xo({mainAxis:o+T,alignmentAxis:s}),l&&Jo({mainAxis:!0,crossAxis:!1,limiter:c==="partial"?ni():void 0,...Z}),l&&Zo({...Z}),Qo({...Z,apply:({elements:Q,rects:de,availableWidth:Fe,availableHeight:Ge})=>{const{width:Ze,height:ue}=de.reference,Se=Q.floating.style;Se.setProperty("--radix-popper-available-width",`${Fe}px`),Se.setProperty("--radix-popper-available-height",`${Ge}px`),Se.setProperty("--radix-popper-anchor-width",`${Ze}px`),Se.setProperty("--radix-popper-anchor-height",`${ue}px`)}}),E&&ei({element:E,padding:a}),Eu({arrowWidth:C,arrowHeight:T}),f&&ti({strategy:"referenceHidden",...Z})]}),[z,le]=Ns(q),re=We(g);Ft(()=>{ie&&(re==null||re())},[ie,re]);const ce=(_=oe.arrow)==null?void 0:_.x,A=(H=oe.arrow)==null?void 0:H.y,$=((U=oe.arrow)==null?void 0:U.centerOffset)!==0,[W,F]=h.useState();return Ft(()=>{y&&F(window.getComputedStyle(y).zIndex)},[y]),p.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:ie?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(ne=oe.transformOrigin)==null?void 0:ne.x,(pe=oe.transformOrigin)==null?void 0:pe.y].join(" "),...((he=oe.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(yu,{scope:n,placedSide:z,onArrowChange:N,arrowX:ce,arrowY:A,shouldHideArrow:$,children:p.jsx(be.div,{"data-side":z,"data-align":le,...b,ref:w,style:{...b.style,animation:ie?void 0:"none"}})})})});Ps.displayName=Nr;var Cs="PopperArrow",xu={top:"bottom",right:"left",bottom:"top",left:"right"},Os=h.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=bu(Cs,r),s=xu[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(gu,{...o,ref:n,style:{...o.style,display:"block"}})})});Os.displayName=Cs;function wu(e){return e!==null}var Eu=e=>({name:"transformOrigin",options:e,fn(t){var v,y,x;const{placement:n,rects:r,middlewareData:o}=t,s=((v=o.arrow)==null?void 0:v.centerOffset)!==0,a=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,d]=Ns(n),c={start:"0%",center:"50%",end:"100%"}[d],f=(((y=o.arrow)==null?void 0:y.x)??0)+a/2,m=(((x=o.arrow)==null?void 0:x.y)??0)+l/2;let g="",b="";return u==="bottom"?(g=s?c:`${f}px`,b=`${-l}px`):u==="top"?(g=s?c:`${f}px`,b=`${r.floating.height+l}px`):u==="right"?(g=`${-l}px`,b=s?c:`${m}px`):u==="left"&&(g=`${r.floating.width+l}px`,b=s?c:`${m}px`),{data:{x:g,y:b}}}});function Ns(e){const[t,n="center"]=e.split("-");return[t,n]}var Su=ws,Pu=Ss,Cu=Ps,Ou=Os,Nu="Portal",Is=h.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,i]=h.useState(!1);Ft(()=>i(!0),[]);const s=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?Lt.createPortal(p.jsx(be.div,{...r,ref:t}),s):null});Is.displayName=Nu;var Wn="rovingFocusGroup.onEntryFocus",Iu={bubbles:!1,cancelable:!0},Yt="RovingFocusGroup",[nr,Rs,Ru]=si(Yt),[Tu,Ts]=wt(Yt,[Ru]),[Mu,ju]=Tu(Yt),Ms=h.forwardRef((e,t)=>p.jsx(nr.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(nr.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Au,{...e,ref:t})})}));Ms.displayName=Yt;var Au=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...c}=e,f=h.useRef(null),m=ye(t,f),g=ai(i),[b,v]=ur({prop:s,defaultProp:a??null,onChange:l,caller:Yt}),[y,x]=h.useState(!1),w=We(u),E=Rs(n),N=h.useRef(!1),[O,C]=h.useState(0);return h.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Wn,w),()=>T.removeEventListener(Wn,w)},[w]),p.jsx(Mu,{scope:n,orientation:r,dir:g,loop:o,currentTabStopId:b,onItemFocus:h.useCallback(T=>v(T),[v]),onItemShiftTab:h.useCallback(()=>x(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:h.useCallback(()=>C(T=>T-1),[]),children:p.jsx(be.div,{tabIndex:y||O===0?-1:0,"data-orientation":r,...c,ref:m,style:{outline:"none",...e.style},onMouseDown:X(e.onMouseDown,()=>{N.current=!0}),onFocus:X(e.onFocus,T=>{const I=!N.current;if(T.target===T.currentTarget&&I&&!y){const S=new CustomEvent(Wn,Iu);if(T.currentTarget.dispatchEvent(S),!S.defaultPrevented){const M=E().filter(q=>q.focusable),D=M.find(q=>q.active),Z=M.find(q=>q.id===b),G=[D,Z,...M].filter(Boolean).map(q=>q.ref.current);_s(G,d)}}N.current=!1}),onBlur:X(e.onBlur,()=>x(!1))})})}),js="RovingFocusGroupItem",As=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:s,...a}=e,l=dn(),u=i||l,d=ju(js,n),c=d.currentTabStopId===u,f=Rs(n),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:b}=d;return h.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),p.jsx(nr.ItemSlot,{scope:n,id:u,focusable:r,active:o,children:p.jsx(be.span,{tabIndex:c?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:X(e.onMouseDown,v=>{r?d.onItemFocus(u):v.preventDefault()}),onFocus:X(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:X(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=Lu(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=f().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const E=w.indexOf(v.currentTarget);w=d.loop?Du(w,E+1):w.slice(E+1)}setTimeout(()=>_s(w))}}),children:typeof s=="function"?s({isCurrentTabStop:c,hasTabStop:b!=null}):s})})});As.displayName=js;var _u={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ku(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Lu(e,t,n){const r=ku(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _u[r]}function _s(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Du(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Fu=Ms,zu=As;function $u(e){const t=Hu(e),n=h.forwardRef((r,o)=>{const{children:i,...s}=r,a=h.Children.toArray(i),l=a.find(Wu);if(l){const u=l.props.children,d=a.map(c=>c===l?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:c);return p.jsx(t,{...s,ref:o,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return p.jsx(t,{...s,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function Hu(e){const t=h.forwardRef((n,r)=>{const{children:o,...i}=n;if(h.isValidElement(o)){const s=Uu(o),a=Gu(i,o.props);return o.type!==h.Fragment&&(a.ref=r?dr(r,s):s),h.cloneElement(o,a)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Bu=Symbol("radix.slottable");function Wu(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Bu}function Gu(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function Uu(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rr=["Enter"," "],Vu=["ArrowDown","PageUp","Home"],ks=["ArrowUp","PageDown","End"],Ku=[...Vu,...ks],Yu={ltr:[...rr,"ArrowRight"],rtl:[...rr,"ArrowLeft"]},qu={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qt="Menu",[Bt,Xu,Ju]=si(qt),[at,Ls]=wt(qt,[Ju,bs,Ts]),Rn=bs(),Ds=Ts(),[Zu,lt]=at(qt),[Qu,Xt]=at(qt),Fs=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:i,modal:s=!0}=e,a=Rn(t),[l,u]=h.useState(null),d=h.useRef(!1),c=We(i),f=ai(o);return h.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),p.jsx(Su,{...a,children:p.jsx(Zu,{scope:t,open:n,onOpenChange:c,content:l,onContentChange:u,children:p.jsx(Qu,{scope:t,onClose:h.useCallback(()=>c(!1),[c]),isUsingKeyboardRef:d,dir:f,modal:s,children:r})})})};Fs.displayName=qt;var ed="MenuAnchor",Ir=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Rn(n);return p.jsx(Pu,{...o,...r,ref:t})});Ir.displayName=ed;var Rr="MenuPortal",[td,zs]=at(Rr,{forceMount:void 0}),$s=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,i=lt(Rr,t);return p.jsx(td,{scope:t,forceMount:n,children:p.jsx(Et,{present:n||i.open,children:p.jsx(Is,{asChild:!0,container:o,children:r})})})};$s.displayName=Rr;var Ce="MenuContent",[nd,Tr]=at(Ce),Hs=h.forwardRef((e,t)=>{const n=zs(Ce,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=lt(Ce,e.__scopeMenu),s=Xt(Ce,e.__scopeMenu);return p.jsx(Bt.Provider,{scope:e.__scopeMenu,children:p.jsx(Et,{present:r||i.open,children:p.jsx(Bt.Slot,{scope:e.__scopeMenu,children:s.modal?p.jsx(rd,{...o,ref:t}):p.jsx(od,{...o,ref:t})})})})}),rd=h.forwardRef((e,t)=>{const n=lt(Ce,e.__scopeMenu),r=h.useRef(null),o=ye(t,r);return h.useEffect(()=>{const i=r.current;if(i)return Go(i)},[]),p.jsx(Mr,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:X(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),od=h.forwardRef((e,t)=>{const n=lt(Ce,e.__scopeMenu);return p.jsx(Mr,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),id=$u("MenuContent.ScrollLock"),Mr=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:f,onDismiss:m,disableOutsideScroll:g,...b}=e,v=lt(Ce,n),y=Xt(Ce,n),x=Rn(n),w=Ds(n),E=Xu(n),[N,O]=h.useState(null),C=h.useRef(null),T=ye(t,C,v.onContentChange),I=h.useRef(0),S=h.useRef(""),M=h.useRef(0),D=h.useRef(null),Z=h.useRef("right"),K=h.useRef(0),G=g?Uo:h.Fragment,q=g?{as:id,allowPinchZoom:!0}:void 0,ie=z=>{var _,H;const le=S.current+z,re=E().filter(U=>!U.disabled),ce=document.activeElement,A=(_=re.find(U=>U.ref.current===ce))==null?void 0:_.textValue,$=re.map(U=>U.textValue),W=vd($,le,A),F=(H=re.find(U=>U.textValue===W))==null?void 0:H.ref.current;(function U(ne){S.current=ne,window.clearTimeout(I.current),ne!==""&&(I.current=window.setTimeout(()=>U(""),1e3))})(le),F&&setTimeout(()=>F.focus())};h.useEffect(()=>()=>window.clearTimeout(I.current),[]),Vo();const oe=h.useCallback(z=>{var re,ce;return Z.current===((re=D.current)==null?void 0:re.side)&&bd(z,(ce=D.current)==null?void 0:ce.area)},[]);return p.jsx(nd,{scope:n,searchRef:S,onItemEnter:h.useCallback(z=>{oe(z)&&z.preventDefault()},[oe]),onItemLeave:h.useCallback(z=>{var le;oe(z)||((le=C.current)==null||le.focus(),O(null))},[oe]),onTriggerLeave:h.useCallback(z=>{oe(z)&&z.preventDefault()},[oe]),pointerGraceTimerRef:M,onPointerGraceIntentChange:h.useCallback(z=>{D.current=z},[]),children:p.jsx(G,{...q,children:p.jsx(ms,{asChild:!0,trapped:o,onMountAutoFocus:X(i,z=>{var le;z.preventDefault(),(le=C.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:p.jsx(ps,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:f,onDismiss:m,children:p.jsx(Fu,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:O,onEntryFocus:X(l,z=>{y.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(Cu,{role:"menu","aria-orientation":"vertical","data-state":ra(v.open),"data-radix-menu-content":"",dir:y.dir,...x,...b,ref:T,style:{outline:"none",...b.style},onKeyDown:X(b.onKeyDown,z=>{const re=z.target.closest("[data-radix-menu-content]")===z.currentTarget,ce=z.ctrlKey||z.altKey||z.metaKey,A=z.key.length===1;re&&(z.key==="Tab"&&z.preventDefault(),!ce&&A&&ie(z.key));const $=C.current;if(z.target!==$||!Ku.includes(z.key))return;z.preventDefault();const F=E().filter(_=>!_.disabled).map(_=>_.ref.current);ks.includes(z.key)&&F.reverse(),md(F)}),onBlur:X(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(I.current),S.current="")}),onPointerMove:X(e.onPointerMove,Wt(z=>{const le=z.target,re=K.current!==z.clientX;if(z.currentTarget.contains(le)&&re){const ce=z.clientX>K.current?"right":"left";Z.current=ce,K.current=z.clientX}}))})})})})})})});Hs.displayName=Ce;var sd="MenuGroup",jr=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(be.div,{role:"group",...r,ref:t})});jr.displayName=sd;var ad="MenuLabel",Bs=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(be.div,{...r,ref:t})});Bs.displayName=ad;var gn="MenuItem",ao="menu.itemSelect",Tn=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,i=h.useRef(null),s=Xt(gn,e.__scopeMenu),a=Tr(gn,e.__scopeMenu),l=ye(t,i),u=h.useRef(!1),d=()=>{const c=i.current;if(!n&&c){const f=new CustomEvent(ao,{bubbles:!0,cancelable:!0});c.addEventListener(ao,m=>r==null?void 0:r(m),{once:!0}),Ko(c,f),f.defaultPrevented?u.current=!1:s.onClose()}};return p.jsx(Ws,{...o,ref:l,disabled:n,onClick:X(e.onClick,d),onPointerDown:c=>{var f;(f=e.onPointerDown)==null||f.call(e,c),u.current=!0},onPointerUp:X(e.onPointerUp,c=>{var f;u.current||(f=c.currentTarget)==null||f.click()}),onKeyDown:X(e.onKeyDown,c=>{const f=a.searchRef.current!=="";n||f&&c.key===" "||rr.includes(c.key)&&(c.currentTarget.click(),c.preventDefault())})})});Tn.displayName=gn;var Ws=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...i}=e,s=Tr(gn,n),a=Ds(n),l=h.useRef(null),u=ye(t,l),[d,c]=h.useState(!1),[f,m]=h.useState("");return h.useEffect(()=>{const g=l.current;g&&m((g.textContent??"").trim())},[i.children]),p.jsx(Bt.ItemSlot,{scope:n,disabled:r,textValue:o??f,children:p.jsx(zu,{asChild:!0,...a,focusable:!r,children:p.jsx(be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:X(e.onPointerMove,Wt(g=>{r?s.onItemLeave(g):(s.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:X(e.onPointerLeave,Wt(g=>s.onItemLeave(g))),onFocus:X(e.onFocus,()=>c(!0)),onBlur:X(e.onBlur,()=>c(!1))})})})}),ld="MenuCheckboxItem",Gs=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(qs,{scope:e.__scopeMenu,checked:n,children:p.jsx(Tn,{role:"menuitemcheckbox","aria-checked":vn(n)?"mixed":n,...o,ref:t,"data-state":_r(n),onSelect:X(o.onSelect,()=>r==null?void 0:r(vn(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Gs.displayName=ld;var Us="MenuRadioGroup",[cd,ud]=at(Us,{value:void 0,onValueChange:()=>{}}),Vs=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,i=We(r);return p.jsx(cd,{scope:e.__scopeMenu,value:n,onValueChange:i,children:p.jsx(jr,{...o,ref:t})})});Vs.displayName=Us;var Ks="MenuRadioItem",Ys=h.forwardRef((e,t)=>{const{value:n,...r}=e,o=ud(Ks,e.__scopeMenu),i=n===o.value;return p.jsx(qs,{scope:e.__scopeMenu,checked:i,children:p.jsx(Tn,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":_r(i),onSelect:X(r.onSelect,()=>{var s;return(s=o.onValueChange)==null?void 0:s.call(o,n)},{checkForDefaultPrevented:!1})})})});Ys.displayName=Ks;var Ar="MenuItemIndicator",[qs,dd]=at(Ar,{checked:!1}),Xs=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,i=dd(Ar,n);return p.jsx(Et,{present:r||vn(i.checked)||i.checked===!0,children:p.jsx(be.span,{...o,ref:t,"data-state":_r(i.checked)})})});Xs.displayName=Ar;var fd="MenuSeparator",Js=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Js.displayName=fd;var pd="MenuArrow",Zs=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Rn(n);return p.jsx(Ou,{...o,...r,ref:t})});Zs.displayName=pd;var hd="MenuSub",[mm,Qs]=at(hd),_t="MenuSubTrigger",ea=h.forwardRef((e,t)=>{const n=lt(_t,e.__scopeMenu),r=Xt(_t,e.__scopeMenu),o=Qs(_t,e.__scopeMenu),i=Tr(_t,e.__scopeMenu),s=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const c=a.current;return()=>{window.clearTimeout(c),l(null)}},[a,l]),p.jsx(Ir,{asChild:!0,...u,children:p.jsx(Ws,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":ra(n.open),...e,ref:dr(t,o.onTriggerChange),onClick:c=>{var f;(f=e.onClick)==null||f.call(e,c),!(e.disabled||c.defaultPrevented)&&(c.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:X(e.onPointerMove,Wt(c=>{i.onItemEnter(c),!c.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:X(e.onPointerLeave,Wt(c=>{var m,g;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const b=(g=n.content)==null?void 0:g.dataset.side,v=b==="right",y=v?-5:5,x=f[v?"left":"right"],w=f[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:c.clientX+y,y:c.clientY},{x,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x,y:f.bottom}],side:b}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(c),c.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:X(e.onKeyDown,c=>{var m;const f=i.searchRef.current!=="";e.disabled||f&&c.key===" "||Yu[r.dir].includes(c.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),c.preventDefault())})})})});ea.displayName=_t;var ta="MenuSubContent",na=h.forwardRef((e,t)=>{const n=zs(Ce,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=lt(Ce,e.__scopeMenu),s=Xt(Ce,e.__scopeMenu),a=Qs(ta,e.__scopeMenu),l=h.useRef(null),u=ye(t,l);return p.jsx(Bt.Provider,{scope:e.__scopeMenu,children:p.jsx(Et,{present:r||i.open,children:p.jsx(Bt.Slot,{scope:e.__scopeMenu,children:p.jsx(Mr,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var c;s.isUsingKeyboardRef.current&&((c=l.current)==null||c.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:X(e.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:X(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:X(e.onKeyDown,d=>{var m;const c=d.currentTarget.contains(d.target),f=qu[s.dir].includes(d.key);c&&f&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});na.displayName=ta;function ra(e){return e?"open":"closed"}function vn(e){return e==="indeterminate"}function _r(e){return vn(e)?"indeterminate":e?"checked":"unchecked"}function md(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function gd(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function vd(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let s=gd(e,Math.max(i,0));o.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function yd(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i],l=t[s],u=a.x,d=a.y,c=l.x,f=l.y;d>r!=f>r&&n<(c-u)*(r-d)/(f-d)+u&&(o=!o)}return o}function bd(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return yd(n,t)}function Wt(e){return t=>t.pointerType==="mouse"?e(t):void 0}var xd=Fs,wd=Ir,Ed=$s,Sd=Hs,Pd=jr,Cd=Bs,Od=Tn,Nd=Gs,Id=Vs,Rd=Ys,Td=Xs,Md=Js,jd=Zs,Ad=ea,_d=na,Mn="DropdownMenu",[kd,gm]=wt(Mn,[Ls]),xe=Ls(),[Ld,oa]=kd(Mn),ia=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=xe(t),u=h.useRef(null),[d,c]=ur({prop:o,defaultProp:i??!1,onChange:s,caller:Mn});return p.jsx(Ld,{scope:t,triggerId:dn(),triggerRef:u,contentId:dn(),open:d,onOpenChange:c,onOpenToggle:h.useCallback(()=>c(f=>!f),[c]),modal:a,children:p.jsx(xd,{...l,open:d,onOpenChange:c,dir:r,modal:a,children:n})})};ia.displayName=Mn;var sa="DropdownMenuTrigger",aa=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,i=oa(sa,n),s=xe(n);return p.jsx(wd,{asChild:!0,...s,children:p.jsx(be.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:dr(t,i.triggerRef),onPointerDown:X(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:X(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});aa.displayName=sa;var Dd="DropdownMenuPortal",la=e=>{const{__scopeDropdownMenu:t,...n}=e,r=xe(t);return p.jsx(Ed,{...r,...n})};la.displayName=Dd;var ca="DropdownMenuContent",ua=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=oa(ca,n),i=xe(n),s=h.useRef(!1);return p.jsx(Sd,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...r,ref:t,onCloseAutoFocus:X(e.onCloseAutoFocus,a=>{var l;s.current||(l=o.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:X(e.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!o.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ua.displayName=ca;var Fd="DropdownMenuGroup",zd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=xe(n);return p.jsx(Pd,{...o,...r,ref:t})});zd.displayName=Fd;var $d="DropdownMenuLabel",Hd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=xe(n);return p.jsx(Cd,{...o,...r,ref:t})});Hd.displayName=$d;var Bd="DropdownMenuItem",Wd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=xe(n);return p.jsx(Od,{...o,...r,ref:t})});Wd.displayName=Bd;var Gd="DropdownMenuCheckboxItem",Ud=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=xe(n);return p.jsx(Nd,{...o,...r,ref:t})});Ud.displayName=Gd;var Vd="DropdownMenuRadioGroup",Kd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=xe(n);return p.jsx(Id,{...o,...r,ref:t})});Kd.displayName=Vd;var Yd="DropdownMenuRadioItem",qd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=xe(n);return p.jsx(Rd,{...o,...r,ref:t})});qd.displayName=Yd;var Xd="DropdownMenuItemIndicator",Jd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=xe(n);return p.jsx(Td,{...o,...r,ref:t})});Jd.displayName=Xd;var Zd="DropdownMenuSeparator",Qd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=xe(n);return p.jsx(Md,{...o,...r,ref:t})});Qd.displayName=Zd;var ef="DropdownMenuArrow",tf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=xe(n);return p.jsx(jd,{...o,...r,ref:t})});tf.displayName=ef;var nf="DropdownMenuSubTrigger",rf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=xe(n);return p.jsx(Ad,{...o,...r,ref:t})});rf.displayName=nf;var of="DropdownMenuSubContent",sf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=xe(n);return p.jsx(_d,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sf.displayName=of;const af=Object.assign({"/content/solutions/playground.json":()=>al(()=>import("./playground-CPt6jU9v.js"),[])}),lf=()=>{const{setNodes:e,setEdges:t,setViewport:n}=De(),r=fe(u=>u.currentLevel),o=Le[r].hints.length?Le[r].hints:["No hints here"],[i,s]=h.useState(0),a=af[`/content/solutions/${r}.json`],l=async()=>{const u=await a();if(u){const{x:d=0,y:c=0,zoom:f=1}=u.viewport;e(u.nodes),t(u.edges),n({x:d,y:c,zoom:f})}};return p.jsxs(yr,{children:[p.jsx(br,{asChild:!0,children:p.jsx(Ae,{id:"help-menu",side:"left",tooltip:"Help Menu","aria-label":"Help Menu",children:p.jsx(sl,{className:"text-white"})})}),p.jsx(wr,{children:p.jsx(Er,{side:"bottom",className:"mr-3",children:p.jsxs("div",{className:"flex w-200 flex-col gap-4 rounded bg-slate-800 p-4 font-mono text-white shadow-lg outline-1 outline-slate-700 outline-solid",children:[p.jsx("h1",{className:"text-xl",children:"Hints"}),o[i],p.jsx(ht,{className:"text-slate-400 italic hover:underline",target:"_blank",to:"/docs/",children:"Find information on this topic here"}),p.jsx("hr",{className:"mx-auto h-1 w-full rounded-sm border-0 bg-slate-700"}),p.jsxs("div",{className:"flex flex-row justify-center gap-2",children:[p.jsx("button",{disabled:i===0,className:Dt("rounded bg-slate-700 px-2 py-1 text-left text-sm text-white",i===0?"opacity-50":"cursor-pointer hover:bg-slate-600"),onClick:()=>{i>0&&s(i-1)},children:"Previous Hint"}),p.jsx("button",{disabled:i===o.length-1,className:Dt("rounded bg-slate-700 px-2 py-1 text-left text-sm text-white",i===o.length-1?"opacity-50":"cursor-pointer hover:bg-slate-600"),onClick:()=>{i<o.length-1&&s(i+1)},children:"Next Hint"}),p.jsx("button",{className:"cursor-pointer rounded bg-slate-700 px-2 py-1 text-left text-sm text-white hover:bg-slate-600",children:"First Correct Node"}),p.jsx("button",{className:"hover:bg-jam-600 cursor-pointer rounded bg-slate-700 px-2 py-1 text-left text-sm text-white",onClick:l,children:"Full Solution"})]})]})})})]})},cf=({rfInstance:e})=>{const{getNodes:t,getEdges:n,setViewport:r,setEdges:o,setNodes:i}=De();He(l=>l.debugPrint);const[s,a]=h.useState(!1);return p.jsxs(Sn,{position:"top-right",className:"flex flex-col items-end justify-center gap-2",children:[p.jsxs(ia,{open:s,onOpenChange:a,children:[p.jsx(aa,{asChild:!0,children:p.jsx(Ae,{id:"add-nodes",side:"left",tooltip:p.jsxs("p",{children:["Add Node",p.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:ge.isMac?"⌥+Space":"Ctrl+Space"})]}),"aria-label":"Add Node",children:p.jsx(ll,{className:"text-white"})})}),p.jsx(la,{children:p.jsx(ua,{align:"end",children:p.jsx(Cr,{onClose:()=>a(!1),x:1800,y:400})})})]}),p.jsx(lf,{}),!1]})},uf=B.forwardRef(({nodeIds:e,x:t,y:n,onClose:r},o)=>{const{getNodes:i,getEdges:s,setNodes:a,setEdges:l,deleteElements:u}=De(),d=h.useCallback(()=>{const c=i(),f=s();u({nodes:c.filter(m=>e.includes(m.id)),edges:f.filter(m=>e.includes(m.source)||e.includes(m.target))}),r()},[u,s,i,e,r]);return p.jsx("div",{ref:o,style:{position:"absolute",top:n,left:t,zIndex:1e3},children:p.jsxs(Sn,{className:"flex w-55 flex-col gap-1 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:[p.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:()=>{Pr(i().filter(c=>e.includes(c.id)),s,i,l,a),r()},children:[p.jsxs("span",{children:["Duplicate ",e.length," nodes "]}),p.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:ge.isMac?"⌥+D":"Ctrl+D"})]}),p.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:d,children:[p.jsxs("span",{children:["Delete ",e.length," nodes "]}),p.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:"Del"})]})]})})});function df(){const{getNodes:e,getEdges:t,setEdges:n,setNodes:r}=De();h.useEffect(()=>{const o=ge.appendPlatformModifier("d");return ge.registerShortcut(o,s=>{const a=e().filter(l=>l.selected);a.length>0&&Pr(a,t,e,n,r)})},[e,t,n,r])}function ff(){h.useEffect(()=>{const e=ge.appendPlatformModifier(" ");return ge.registerShortcut(e,n=>{rt.getState().visible?rt.getState().closeAddMenu():rt.getState().openAddMenu()})},[])}function pf(){h.useEffect(()=>{const e=ge.appendPlatformModifier("z");return ge.registerShortcut(e,n=>{cs()})},[])}function hf(){h.useEffect(()=>{const e=ge.appendPlatformModifier("y");return ge.registerShortcut(e,n=>{us()})},[])}function mf(e,t=!0){h.useEffect(()=>ge.registerShortcut("Escape",r=>{t&&e&&e()}),[e,t])}function gf(){const[e,t]=h.useState(null),[n,r]=h.useState(null),[o,i]=h.useState(null),[s,a]=h.useState({pane:{width:270,height:280},node:{width:270,height:280},selection:{width:270,height:280}}),l=h.useRef(null),u=h.useRef(null),d=h.useRef(null),{visible:c,closeAddMenu:f,menuX:m,menuY:g}=rt();h.useLayoutEffect(()=>{if(l.current){const I=l.current.getBoundingClientRect();a(S=>({...S,pane:{width:I.width,height:I.height}}))}},[e]),h.useLayoutEffect(()=>{if(u.current){const I=u.current.getBoundingClientRect();a(S=>({...S,node:{width:I.width,height:I.height}}))}},[n]),h.useLayoutEffect(()=>{if(d.current){const I=d.current.getBoundingClientRect();a(S=>({...S,selection:{width:I.width,height:I.height}}))}},[o]);const b=h.useCallback(I=>{I.preventDefault();const S=Gn(I,s.pane);t({x:S.x,y:S.y})},[s.pane]),v=h.useCallback((I,S)=>{I.preventDefault();const M=Gn(I,s.node);r({nodeId:S.id,nodeType:S.type,nodeLoopId:S.data.loopId,nodeParentId:S.parentId,x:M.x,y:M.y})},[s.node]),y=h.useCallback((I,S)=>{if(I.preventDefault(),S.length===0)return;const M=Gn(I,s.selection);i({nodeIds:S.map(D=>D.id),x:M.x,y:M.y})},[s.selection]),x=h.useCallback(()=>{t(null),r(null),i(null),rt.getState().closeAddMenu()},[]),w=x,E=e!==null||n!==null||o!==null||rt.getState().visible;mf(x,E),df(),ff(),pf(),hf();const N=e||c,O=(e==null?void 0:e.x)??m,C=(e==null?void 0:e.y)??g;return{paneContextMenu:e,nodeContextMenu:n,selectionContextMenu:o,shouldShowPaneContextMenu:N,paneContextMenuX:O,paneContextMenuY:C,setPaneContextMenu:t,setNodeContextMenu:r,setSelectionContextMenu:i,handlePaneContextMenu:b,handleNodeContextMenu:v,handleSelectionContextMenu:y,handleCloseCombinedMenu:()=>{t(null),f()},onPaneClick:w,paneContextMenuRef:l,nodeContextMenuRef:u,selectionContextMenuRef:d}}function Gn(e,t){const n=e.clientX,r=e.clientY,o=n>window.innerWidth-t.width?window.innerWidth-t.width:n,i=r>window.innerHeight-t.height?window.innerHeight-t.height:r;return{x:o-15,y:i-15}}const lo=e=>Symbol.iterator in e,co=e=>"entries"in e,uo=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[o,i]of n)if(!Object.is(i,r.get(o)))return!1;return!0},vf=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let o=n.next(),i=r.next();for(;!o.done&&!i.done;){if(!Object.is(o.value,i.value))return!1;o=n.next(),i=r.next()}return!!o.done&&!!i.done};function yf(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:!lo(e)||!lo(t)?uo({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)}):co(e)&&co(t)?uo(e,t):vf(e,t)}function bf(e){const t=B.useRef(void 0);return n=>{const r=e(n);return yf(t.current,r)?t.current:t.current=r}}function xf(e,t){if(t.length===0)return{bounds:{x:e.position.x,y:e.position.y,width:Ve.width,height:Ve.height,minWidth:Ve.width,minHeight:Ve.height},offset:{x:0,y:0}};const n=t.map(l=>({x:l.parentId?l.position.x+e.position.x:l.position.x,y:l.parentId?l.position.y+e.position.y:l.position.y,width:l.measured.width,height:l.measured.height})),r={x:{min:Math.min(...n.map(l=>l.x)),max:Math.max(...n.map(l=>l.x+l.width))},y:{min:Math.min(...n.map(l=>l.y)),max:Math.max(...n.map(l=>l.y+l.height))}},o={x:r.x.min-20,y:r.y.min-60,width:r.x.max-r.x.min+40,height:r.y.max-r.y.min+80},i={x:e.position.x,y:e.position.y,width:e.measured.width,height:e.measured.height},s={x:Math.min(o.x,i.x),y:Math.min(o.y,i.y),width:Math.max(o.x+o.width,i.x+i.width)-Math.min(o.x,i.x),height:Math.max(o.y+o.height,i.y+i.height)-Math.min(o.y,i.y),minWidth:Math.max(o.x+o.width-Math.min(o.x,i.x),Ve.width),minHeight:Math.max(o.y+o.height-Math.min(o.y,i.y),Ve.height)},a={x:e.position.x-s.x,y:e.position.y-s.y};return{bounds:s,offset:a}}function wf(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...i};for(const l of s)Ef(l,a);n.push(a)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.item.type==="Group"?0:i.index,0,{...i.item}):n.push({...i.item})}),n}function Ef(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Sf(e,t){return wf(e,t)}const Pf=e=>({nodes:e.nodes,edges:e.edges,setNodes:e.setNodes,setEdges:e.setEdges,highlightDuplicateNodes:e.highlightDuplicateNodes});function Cf(){const{getIntersectingNodes:e,getNode:t,getNodes:n,getEdges:r}=De(),{nodes:o,edges:i,setNodes:s,setEdges:a,highlightDuplicateNodes:l}=st(bf(Pf)),u=He(x=>x.replaceNode),d=He(x=>x.removeNode),c=He(x=>x.addEdge),f=He(x=>x.removeEdge),m=h.useCallback(async({nodes:x,edges:w})=>{const E=new Array(...x),N=new Array(...w);for(const O of x)if(O!=null&&O.data.loopId){const C=n().filter(T=>T.id!==O.id&&T.data.loopId===O.data.loopId)[0];E.push(C),s(T=>T.map(I=>({...I,data:{...I.data,parentLoopId:I.data.parentLoopId===O.data.loopId?void 0:I.data.parentLoopId}}))),N.push(...r().filter(T=>T.target===C.id||T.source===C.id))}return{nodes:E,edges:N}},[r,n,s]),g=h.useCallback(x=>{let w=!1;x.forEach(E=>{switch(E.type){case"replace":case"add":u(E.item),w=E.item.type==="ExportToGameobject";break;case"remove":{d(E.id),w=!0;break}}}),s(E=>Sf(x,E)),w&&l()},[l,d,u,s]),b=h.useCallback(x=>{x.forEach(w=>{switch(w.type){case"remove":f(w.id);break;case"add":c(w.item);break}}),a(w=>Pl(x,w))},[a,c,f]),v=h.useCallback(x=>{const w=t(x.source),E=t(x.target);(w!=null&&w.data.loopStart&&w.data.loopId===(E==null?void 0:E.data.loopId)||w!=null&&w.data.loopStart&&(E==null?void 0:E.data.parentLoopId)===w.data.loopId||w!=null&&w.data.loopEnd&&w.data.parentLoopId===(E==null?void 0:E.data.parentLoopId)||E!=null&&E.data.loopEnd&&(w==null?void 0:w.data.parentLoopId)===E.data.loopId||!(w!=null&&w.data.loopStart)&&!(E!=null&&E.data.loopEnd)&&(w==null?void 0:w.data.parentLoopId)===(E==null?void 0:E.data.parentLoopId)?!0:(pl({title:"Invalid Loop Connection!",description:"Connections within loops are restricted to other nodes of the same loop. External nodes may only link to the loop's entry point or accept data from its exit point."}),!1))&&(c(x),a(O=>Cl(x,O)))},[a,t,c]);return{nodes:o,edges:i,onNodesChange:g,onEdgesChange:b,onConnect:v,onNodeDragStop:(x,w,E)=>{const N={x:Math.min(...E.map(S=>S.parentId?S.position.x+t(S.parentId).position.x:S.position.x)),y:Math.min(...E.map(S=>S.parentId?S.position.y+t(S.parentId).position.y:S.position.y)),width:Math.max(...E.map(S=>S.position.x+S.measured.width))-Math.min(...E.map(S=>S.position.x)),height:Math.max(...E.map(S=>S.position.y+S.measured.height))-Math.min(...E.map(S=>S.position.y))},O=e(N).filter(S=>S.type==="Group"&&S.selected===!1),C=O.reduce((S,M)=>{const D=M.measured.width*M.measured.height,Z=S.measured.width*S.measured.height;return D>Z?M:S},O[0]),T=[],I=[];E.forEach(S=>{if(S.type!=="Group"){if(C){if(S.parentId===void 0)T.push({...S,parentId:C.id,position:{x:S.position.x-C.position.x,y:S.position.y-C.position.y}});else if(C.id!==S.parentId){if(!E.some(M=>M.id===S.parentId)){const M=t(S.parentId);if(!M){console.warn(`recently moved node ${S.id} has an invalid parentId of ${S.parentId}`);return}T.push({...S,parentId:C.id,position:{x:S.position.x+M.position.x-C.position.x,y:S.position.y+M.position.y-C.position.y}}),I.includes(M)||I.push(M)}}}else if(S.parentId!==void 0){if(!E.some(M=>M.id===S.parentId)){const M=t(S.parentId);if(!M){console.warn(`recently moved node ${S.id} has an invalid parentId of ${S.parentId}`);return}T.push({...S,parentId:void 0,position:{x:S.position.x+M.position.x,y:S.position.y+M.position.y}}),I.includes(M)||I.push(M)}}C&&I.push(C)}}),T.push(...I.map(S=>{const M=T.filter(G=>G.parentId===S.id),D=n().filter(G=>G.parentId===S.id&&!T.some(q=>q.id===G.id)),Z=[...M,...D],K=xf(S,Z);return Z.forEach(G=>{const q={x:G.position.x+K.offset.x,y:G.position.y+K.offset.y};M.some(ie=>ie.id===G.id)?T.splice(T.findIndex(ie=>ie.id===G.id),1,{...G,position:q}):T.push({...G,position:q})}),{...S,position:{x:K.bounds.x,y:K.bounds.y},data:{...S.data,isParent:Z.length>0,minWidth:K.bounds.minWidth,minHeight:K.bounds.minHeight},style:{zIndex:-1},width:K.bounds.width,height:K.bounds.height}})),s(S=>S.map(D=>{const Z=T.find(K=>K.id===D.id);return Z?{...Z,dragging:!1}:{...D,dragging:!1}}))},onBeforeDelete:m}}const Of=h.memo(({id:e,data:t})=>{const n=qe(m=>m.gameObjects),r=Array.from(n.keys()),{isOpen:o,getToggleButtonProps:i,getMenuProps:s,getLabelProps:a,highlightedIndex:l,getItemProps:u,selectedGameObjects:d}=li(r,t.selectedGameObjects?t.selectedGameObjects:[r[0]],e),c=h.useMemo(()=>ci("import",n,d),[n,d]),{updateNodeData:f}=De();return h.useEffect(()=>{f(e,{compute:(m,g)=>{const b=d.length===1?0:Math.round(Zn(m,fn,-1));if(0>b||b>=d.length){g.clear();return}const v=d[b];c.forEach(y=>{g.set(y,n.get(v).get(y).value)})},selectedGameObjects:d})},[c]),p.jsx("div",{className:"min-w-48",children:p.jsxs(ui,{label:"Import From Gameobject",type:"import",docsName:"import",children:[p.jsxs("div",{className:"text-left",children:[d.length>1&&p.jsx(di,{id:fn,position:pn.Left}),p.jsx(fi,{highlightedIndex:l,isOpen:o,selectableObjects:r,selectedObjects:d,useSelectProps:{getItemProps:u,getLabelProps:a,getMenuProps:s,getToggleButtonProps:i}})]}),c.map(m=>p.jsx(pi,{id:m,position:pn.Right,label:m},m))]})})}),Nf=h.memo(({id:e,data:t,selected:n})=>{const r=fe(E=>E.currentLevel),o=Le[r].modifiableGameObjects,i=qe(E=>E.gameObjects),s=Array.from(i.keys()),{isOpen:a,getToggleButtonProps:l,getMenuProps:u,getLabelProps:d,highlightedIndex:c,getItemProps:f,selectedGameObjects:m}=li(s,t.selectedGameObjects?t.selectedGameObjects:[s[0]],e),g=h.useMemo(()=>ci("export",i,m),[i,m]),b=qe(E=>E.setData),v=qe(E=>E.addHandle),y=qe(E=>E.removeHandle),x=h.useRef(t.curLabel?t.curLabel.current:""),{updateNodeData:w}=De();return h.useEffect(()=>{w(e,{compute:(E,N)=>{const O=m.length===1?0:Math.round(Zn(E,fn,-1));if(0>O||O>=m.length)return;const C=m[O];g.forEach(T=>{b(C,T,Zn(E,T,0))})},selectedGameObjects:m})},[g]),p.jsx("div",{children:p.jsxs(ui,{label:"Export To Gameobject",type:"export",docsName:"export",children:[p.jsxs("div",{className:"text-left",children:[m.length>1&&p.jsx(di,{id:fn,position:pn.Left}),p.jsx(fi,{highlightedIndex:c,isOpen:a,selectableObjects:s,selectedObjects:m,useSelectProps:{getItemProps:f,getLabelProps:d,getMenuProps:u,getToggleButtonProps:l}})]}),g.map(E=>p.jsxs("div",{className:"flex w-full items-center [&>*:nth-child(even)]:pointer-events-none [&>*:nth-child(even)]:opacity-0 hover:[&>*:nth-child(even)]:pointer-events-auto hover:[&>*:nth-child(even)]:opacity-100 "+(n?"hover:bg-slate-800":"hover:bg-slate-700"),children:[p.jsx(pi,{id:E,position:pn.Left,label:E},E),!o.some(({id:N,connections:O})=>m.includes(N)&&O.some(C=>C.label===E))&&p.jsx(cl,{className:"mt-[1px] ml-2 cursor-pointer text-red-400",onClick:()=>{m.forEach(N=>y(N,E))}})]},E)),!!m.length&&p.jsx(Ol,{addHandle:(E,N)=>v(E,N),handleIdentifiers:m,handleLabel:x,nodeId:e,updateNodeData:w})]})})}),If={Value:Ll,Display:kl,Time:_l,KeyPress:Al,Math:jl,ExportToGameobject:Nf,ImportFromGameobject:Of,Switch:Ml,Group:Tl,ForStart:Rl,ForEnd:Il,MousePosition:Nl},Rf=()=>{const[e,t]=h.useState(),{nodes:n,edges:r,onNodesChange:o,onEdgesChange:i,onConnect:s,onNodeDragStop:a,onBeforeDelete:l}=Cf(),{nodeContextMenu:u,selectionContextMenu:d,shouldShowPaneContextMenu:c,paneContextMenuX:f,paneContextMenuY:m,handlePaneContextMenu:g,handleNodeContextMenu:b,handleSelectionContextMenu:v,onPaneClick:y,setNodeContextMenu:x,setSelectionContextMenu:w,handleCloseCombinedMenu:E,nodeContextMenuRef:N,selectionContextMenuRef:O,paneContextMenuRef:C}=gf(),T=h.useRef(null);return xc(T),p.jsxs(p.Fragment,{children:[p.jsxs(zl,{id:"node-editor",onInit:t,nodeTypes:If,edgeTypes:Ec,nodes:n,edges:r,onNodesChange:o,onEdgesChange:i,onPaneContextMenu:g,onNodeContextMenu:b,onSelectionContextMenu:v,onConnect:s,onPaneClick:y,disableKeyboardA11y:!0,fitView:!0,proOptions:{hideAttribution:!0},deleteKeyCode:["Delete","Backspace"],onNodeDragStop:a,onBeforeDelete:l,ref:T,defaultEdgeOptions:{type:"Deletable"},children:[p.jsx($l,{bgColor:"#14141d",color:"#a7abc2"}),p.jsx(cf,{rfInstance:e}),p.jsx(Sc,{}),p.jsx(Zc,{}),p.jsx(hl,{})]}),c&&p.jsx(eu,{ref:C,x:f,y:m,onClose:E}),u&&p.jsx(Qc,{ref:N,nodeId:u.nodeId,nodeType:u.nodeType,nodeLoopId:u.nodeLoopId,nodeParentId:u.nodeParentId,x:u.x,y:u.y,onClose:()=>x(null)}),d&&p.jsx(uf,{ref:O,nodeIds:d.nodeIds,x:d.x,y:d.y,onClose:()=>w(null)})]})},Tf=()=>p.jsx(Dl,{children:p.jsx(Fl,{children:p.jsx(Rf,{})})});function Mf({open:e}){var d;const t=fe(c=>c.currentLevel),n=((d=Le[t])==null?void 0:d.goals)||["No goals defined for this level yet."],[r,o]=h.useState({x:16,y:16}),i=h.useRef(null),s=h.useRef({isDragging:!1,offset:{x:0,y:0}}),a=c=>{s.current.isDragging=!0,s.current.offset={x:c.clientX-r.x,y:c.clientY-r.y},c.preventDefault()},l=c=>{var v,y;if(!s.current.isDragging)return;let f=c.clientX-s.current.offset.x,m=c.clientY-s.current.offset.y;c.shiftKey&&(f=Math.round(f/16)*16,m=Math.round(m/16)*16);const g=((v=i.current)==null?void 0:v.offsetWidth)??288,b=((y=i.current)==null?void 0:y.offsetHeight)??128;f=Math.max(0,Math.min(window.innerWidth-g,f)),m=Math.max(0,Math.min(window.innerHeight-b,m)),o({x:f,y:m})},u=()=>{s.current.isDragging=!1};return h.useEffect(()=>{const c=m=>l(m),f=()=>u();return document.addEventListener("mouseup",f),document.addEventListener("mousemove",c),()=>{document.removeEventListener("mouseup",f),document.removeEventListener("mousemove",c)}},[]),p.jsx(hi,{open:e,modal:!1,children:p.jsx(mi,{children:p.jsxs(gi,{ref:i,style:{left:r.x,top:r.y,position:"fixed",margin:0},className:"z-[20000] w-72 cursor-move rounded-lg border-2 border-blue-300 bg-slate-800/95 p-4 font-mono text-white shadow-lg select-none",onMouseDown:a,children:[p.jsx(Sr,{asChild:!0,children:p.jsxs(vi,{children:["These are your goals for the ",t," level."]})}),p.jsx(yi,{className:"mb-2 text-lg font-bold",children:"Goals"}),p.jsx("ul",{className:"list-disc space-y-2 pl-5",children:n.map(c=>p.jsx("li",{className:"text-base",children:c},c.slice(0,20)))})]})})})}const jf=()=>{var o;const e=fe(i=>i.currentLevel),t=(o=zi(e))==null?void 0:o.next,n=fe(i=>i.levelCompleteDialogOpen),r=fe(i=>i.setLevelCompleteDialogOpen);return p.jsx(as,{title:e,open:n,onOpenChange:r,desc:`This dialog displays the level completion dialog of the
            ${e} level. You can now get to the main menu 
            using the To Menu button or to the next level using the 
            Next Level button.`,children:p.jsxs("div",{className:"flex flex-col gap-5",children:[p.jsxs("div",{className:"flex flex-1 flex-row",children:[p.jsx("div",{className:"my-auto w-1/3 pr-4",children:p.jsx("div",{style:{aspectRatio:"1 / 1",width:"100%",backgroundImage:"url('/game/sprites/raccoon_spritesheet.png')",backgroundPosition:"0 0",backgroundSize:"400% 400%",backgroundRepeat:"no-repeat",imageRendering:"pixelated"}})}),p.jsxs("div",{className:"relative my-auto flex h-36 w-full flex-col items-center justify-center rounded-lg bg-slate-700 p-4 text-white shadow-lg",children:[p.jsx("div",{className:"absolute top-1/2 -left-2.5 h-0 w-0 -translate-y-1/2 border-t-10 border-r-10 border-b-10 border-t-transparent border-r-slate-700 border-b-transparent"}),p.jsx("p",{className:"mb-2 text-2xl font-bold",children:Le[e].success}),p.jsx("p",{className:"text-lg italic",children:"Congratulations!"})]})]}),p.jsxs("div",{className:"flex flex-row justify-end gap-5",children:[p.jsx(kt,{asChild:!0,children:p.jsx(ht,{to:"/",className:"cursor-pointer rounded-lg bg-slate-700/80 px-4 py-2 text-white hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"To Menu"})}),p.jsx(kt,{asChild:!0,children:p.jsx("button",{className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Continue Playing"})}),t&&p.jsx(kt,{asChild:!0,children:p.jsx(ht,{to:`/levels/${t}`,className:"cursor-pointer rounded-lg bg-slate-700/80 px-4 py-2 text-white hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Next Level"})})]})]})})};function da(e){return t=>typeof t===e}var Af=da("function"),_f=e=>e===null,fo=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",po=e=>!kf(e)&&!_f(e)&&(Af(e)||typeof e=="object"),kf=da("undefined");function Lf(e,t){const{length:n}=e;if(n!==t.length)return!1;for(let r=n;r--!==0;)if(!ve(e[r],t[r]))return!1;return!0}function Df(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new DataView(e.buffer),r=new DataView(t.buffer);let o=e.byteLength;for(;o--;)if(n.getUint8(o)!==r.getUint8(o))return!1;return!0}function Ff(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;for(const n of e.entries())if(!ve(n[1],t.get(n[0])))return!1;return!0}function zf(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;return!0}function ve(e,t){if(e===t)return!0;if(e&&po(e)&&t&&po(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return Lf(e,t);if(e instanceof Map&&t instanceof Map)return Ff(e,t);if(e instanceof Set&&t instanceof Set)return zf(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return Df(e,t);if(fo(e)&&fo(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=n.length;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(let o=n.length;o--!==0;){const i=n[o];if(!(i==="_owner"&&e.$$typeof)&&!ve(e[i],t[i]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}var $f=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Hf=["bigint","boolean","null","number","string","symbol","undefined"];function jn(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(Bf(t))return t}function Re(e){return t=>jn(t)===e}function Bf(e){return $f.includes(e)}function St(e){return t=>typeof t===e}function Wf(e){return Hf.includes(e)}var Gf=["innerHTML","ownerDocument","style","attributes","nodeValue"];function j(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(j.array(e))return"Array";if(j.plainFunction(e))return"Function";const t=jn(e);return t||"Object"}j.array=Array.isArray;j.arrayOf=(e,t)=>!j.array(e)&&!j.function(t)?!1:e.every(n=>t(n));j.asyncGeneratorFunction=e=>jn(e)==="AsyncGeneratorFunction";j.asyncFunction=Re("AsyncFunction");j.bigint=St("bigint");j.boolean=e=>e===!0||e===!1;j.date=Re("Date");j.defined=e=>!j.undefined(e);j.domElement=e=>j.object(e)&&!j.plainObject(e)&&e.nodeType===1&&j.string(e.nodeName)&&Gf.every(t=>t in e);j.empty=e=>j.string(e)&&e.length===0||j.array(e)&&e.length===0||j.object(e)&&!j.map(e)&&!j.set(e)&&Object.keys(e).length===0||j.set(e)&&e.size===0||j.map(e)&&e.size===0;j.error=Re("Error");j.function=St("function");j.generator=e=>j.iterable(e)&&j.function(e.next)&&j.function(e.throw);j.generatorFunction=Re("GeneratorFunction");j.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;j.iterable=e=>!j.nullOrUndefined(e)&&j.function(e[Symbol.iterator]);j.map=Re("Map");j.nan=e=>Number.isNaN(e);j.null=e=>e===null;j.nullOrUndefined=e=>j.null(e)||j.undefined(e);j.number=e=>St("number")(e)&&!j.nan(e);j.numericString=e=>j.string(e)&&e.length>0&&!Number.isNaN(Number(e));j.object=e=>!j.nullOrUndefined(e)&&(j.function(e)||typeof e=="object");j.oneOf=(e,t)=>j.array(e)?e.indexOf(t)>-1:!1;j.plainFunction=Re("Function");j.plainObject=e=>{if(jn(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};j.primitive=e=>j.null(e)||Wf(typeof e);j.promise=Re("Promise");j.propertyOf=(e,t,n)=>{if(!j.object(e)||!t)return!1;const r=e[t];return j.function(n)?n(r):j.defined(r)};j.regexp=Re("RegExp");j.set=Re("Set");j.string=St("string");j.symbol=St("symbol");j.undefined=St("undefined");j.weakMap=Re("WeakMap");j.weakSet=Re("WeakSet");var k=j;function Uf(...e){return e.every(t=>k.string(t)||k.array(t)||k.plainObject(t))}function Vf(e,t,n){return fa(e,t)?[e,t].every(k.array)?!e.some(yo(n))&&t.some(yo(n)):[e,t].every(k.plainObject)?!Object.entries(e).some(vo(n))&&Object.entries(t).some(vo(n)):t===n:!1}function ho(e,t,n){const{actual:r,key:o,previous:i,type:s}=n,a=_e(e,o),l=_e(t,o);let u=[a,l].every(k.number)&&(s==="increased"?a<l:a>l);return k.undefined(r)||(u=u&&l===r),k.undefined(i)||(u=u&&a===i),u}function mo(e,t,n){const{key:r,type:o,value:i}=n,s=_e(e,r),a=_e(t,r),l=o==="added"?s:a,u=o==="added"?a:s;if(!k.nullOrUndefined(i)){if(k.defined(l)){if(k.array(l)||k.plainObject(l))return Vf(l,u,i)}else return ve(u,i);return!1}return[s,a].every(k.array)?!u.every(kr(l)):[s,a].every(k.plainObject)?Kf(Object.keys(l),Object.keys(u)):![s,a].every(d=>k.primitive(d)&&k.defined(d))&&(o==="added"?!k.defined(s)&&k.defined(a):k.defined(s)&&!k.defined(a))}function go(e,t,{key:n}={}){let r=_e(e,n),o=_e(t,n);if(!fa(r,o))throw new TypeError("Inputs have different types");if(!Uf(r,o))throw new TypeError("Inputs don't have length");return[r,o].every(k.plainObject)&&(r=Object.keys(r),o=Object.keys(o)),[r,o]}function vo(e){return([t,n])=>k.array(e)?ve(e,n)||e.some(r=>ve(r,n)||k.array(n)&&kr(n)(r)):k.plainObject(e)&&e[t]?!!e[t]&&ve(e[t],n):ve(e,n)}function Kf(e,t){return t.some(n=>!e.includes(n))}function yo(e){return t=>k.array(e)?e.some(n=>ve(n,t)||k.array(t)&&kr(t)(n)):ve(e,t)}function Nt(e,t){return k.array(e)?e.some(n=>ve(n,t)):ve(e,t)}function kr(e){return t=>e.some(n=>ve(n,t))}function fa(...e){return e.every(k.array)||e.every(k.number)||e.every(k.plainObject)||e.every(k.string)}function _e(e,t){return k.plainObject(e)||k.array(e)?k.string(t)?t.split(".").reduce((r,o)=>r&&r[o],e):k.number(t)?e[t]:e:e}function yn(e,t){if([e,t].some(k.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(d=>k.plainObject(d)||k.array(d)))throw new Error("Expected plain objects or array");return{added:(d,c)=>{try{return mo(e,t,{key:d,type:"added",value:c})}catch{return!1}},changed:(d,c,f)=>{try{const m=_e(e,d),g=_e(t,d),b=k.defined(c),v=k.defined(f);if(b||v){const y=v?Nt(f,m):!Nt(c,m),x=Nt(c,g);return y&&x}return[m,g].every(k.array)||[m,g].every(k.plainObject)?!ve(m,g):m!==g}catch{return!1}},changedFrom:(d,c,f)=>{if(!k.defined(d))return!1;try{const m=_e(e,d),g=_e(t,d),b=k.defined(f);return Nt(c,m)&&(b?Nt(f,g):!b)}catch{return!1}},decreased:(d,c,f)=>{if(!k.defined(d))return!1;try{return ho(e,t,{key:d,actual:c,previous:f,type:"decreased"})}catch{return!1}},emptied:d=>{try{const[c,f]=go(e,t,{key:d});return!!c.length&&!f.length}catch{return!1}},filled:d=>{try{const[c,f]=go(e,t,{key:d});return!c.length&&!!f.length}catch{return!1}},increased:(d,c,f)=>{if(!k.defined(d))return!1;try{return ho(e,t,{key:d,actual:c,previous:f,type:"increased"})}catch{return!1}},removed:(d,c)=>{try{return mo(e,t,{key:d,type:"removed",value:c})}catch{return!1}}}}var Un,bo;function Yf(){if(bo)return Un;bo=1;var e=new Error("Element already at target scroll position"),t=new Error("Scroll cancelled"),n=Math.min,r=Date.now;Un={left:o("scrollLeft"),top:o("scrollTop")};function o(a){return function(u,d,c,f){c=c||{},typeof c=="function"&&(f=c,c={}),typeof f!="function"&&(f=s);var m=r(),g=u[a],b=c.ease||i,v=isNaN(c.duration)?350:+c.duration,y=!1;return g===d?f(e,u[a]):requestAnimationFrame(w),x;function x(){y=!0}function w(E){if(y)return f(t,u[a]);var N=r(),O=n(1,(N-m)/v),C=b(O);u[a]=C*(d-g)+g,O<1?requestAnimationFrame(w):requestAnimationFrame(function(){f(null,u[a])})}}}function i(a){return .5*(1-Math.cos(Math.PI*a))}function s(){}return Un}var qf=Yf();const Xf=En(qf);var cn={exports:{}},Jf=cn.exports,xo;function Zf(){return xo||(xo=1,function(e){(function(t,n){e.exports?e.exports=n():t.Scrollparent=n()})(Jf,function(){function t(r){var o=getComputedStyle(r,null).getPropertyValue("overflow");return o.indexOf("scroll")>-1||o.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var o=r.parentNode;o.parentNode;){if(t(o))return o;o=o.parentNode}return document.scrollingElement||document.documentElement}}return n})}(cn)),cn.exports}var Qf=Zf();const pa=En(Qf);var Vn,wo;function ep(){if(wo)return Vn;wo=1;var e=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},t=function(r,o){return r+n(o)},n=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(t,""):e(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?n(r.props.children):""};return n.default=n,Vn=n,Vn}var tp=ep();const Eo=En(tp);var Kn,So;function np(){if(So)return Kn;So=1;var e=function(x){return t(x)&&!n(x)};function t(y){return!!y&&typeof y=="object"}function n(y){var x=Object.prototype.toString.call(y);return x==="[object RegExp]"||x==="[object Date]"||i(y)}var r=typeof Symbol=="function"&&Symbol.for,o=r?Symbol.for("react.element"):60103;function i(y){return y.$$typeof===o}function s(y){return Array.isArray(y)?[]:{}}function a(y,x){return x.clone!==!1&&x.isMergeableObject(y)?b(s(y),y,x):y}function l(y,x,w){return y.concat(x).map(function(E){return a(E,w)})}function u(y,x){if(!x.customMerge)return b;var w=x.customMerge(y);return typeof w=="function"?w:b}function d(y){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(y).filter(function(x){return Object.propertyIsEnumerable.call(y,x)}):[]}function c(y){return Object.keys(y).concat(d(y))}function f(y,x){try{return x in y}catch{return!1}}function m(y,x){return f(y,x)&&!(Object.hasOwnProperty.call(y,x)&&Object.propertyIsEnumerable.call(y,x))}function g(y,x,w){var E={};return w.isMergeableObject(y)&&c(y).forEach(function(N){E[N]=a(y[N],w)}),c(x).forEach(function(N){m(y,N)||(f(y,N)&&w.isMergeableObject(x[N])?E[N]=u(N,w)(y[N],x[N],w):E[N]=a(x[N],w))}),E}function b(y,x,w){w=w||{},w.arrayMerge=w.arrayMerge||l,w.isMergeableObject=w.isMergeableObject||e,w.cloneUnlessOtherwiseSpecified=a;var E=Array.isArray(x),N=Array.isArray(y),O=E===N;return O?E?w.arrayMerge(y,x,w):g(y,x,w):a(x,w)}b.all=function(x,w){if(!Array.isArray(x))throw new Error("first argument should be an array");return x.reduce(function(E,N){return b(E,N,w)},{})};var v=b;return Kn=v,Kn}var rp=np();const Ne=En(rp);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Jt=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",op=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Jt&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function ip(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function sp(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},op))}}var ap=Jt&&window.Promise,lp=ap?ip:sp;function ha(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function ct(e,t){if(e.nodeType!==1)return[];var n=e.ownerDocument.defaultView,r=n.getComputedStyle(e,null);return t?r[t]:r}function Lr(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function Zt(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=ct(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:Zt(Lr(e))}function ma(e){return e&&e.referenceNode?e.referenceNode:e}var Po=Jt&&!!(window.MSInputMethodContext&&document.documentMode),Co=Jt&&/MSIE 10/.test(navigator.userAgent);function Pt(e){return e===11?Po:e===10?Co:Po||Co}function vt(e){if(!e)return document.documentElement;for(var t=Pt(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&ct(n,"position")==="static"?vt(n):n}function cp(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||vt(e.firstElementChild)===e}function or(e){return e.parentNode!==null?or(e.parentNode):e}function bn(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var s=i.commonAncestorContainer;if(e!==s&&t!==s||r.contains(o))return cp(s)?s:vt(s);var a=or(e);return a.host?bn(a.host,t):bn(e,or(t).host)}function yt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=t==="top"?"scrollTop":"scrollLeft",r=e.nodeName;if(r==="BODY"||r==="HTML"){var o=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||o;return i[n]}return e[n]}function up(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=yt(t,"top"),o=yt(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}function Oo(e,t){var n=t==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function No(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Pt(10)?parseInt(n["offset"+e])+parseInt(r["margin"+(e==="Height"?"Top":"Left")])+parseInt(r["margin"+(e==="Height"?"Bottom":"Right")]):0)}function ga(e){var t=e.body,n=e.documentElement,r=Pt(10)&&getComputedStyle(n);return{height:No("Height",t,n,r),width:No("Width",t,n,r)}}var dp=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},fp=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Xe(e){return Pe({},e,{right:e.left+e.width,bottom:e.top+e.height})}function ir(e){var t={};try{if(Pt(10)){t=e.getBoundingClientRect();var n=yt(e,"top"),r=yt(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch{}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i=e.nodeName==="HTML"?ga(e.ownerDocument):{},s=i.width||e.clientWidth||o.width,a=i.height||e.clientHeight||o.height,l=e.offsetWidth-s,u=e.offsetHeight-a;if(l||u){var d=ct(e);l-=Oo(d,"x"),u-=Oo(d,"y"),o.width-=l,o.height-=u}return Xe(o)}function Dr(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Pt(10),o=t.nodeName==="HTML",i=ir(e),s=ir(t),a=Zt(e),l=ct(t),u=parseFloat(l.borderTopWidth),d=parseFloat(l.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var c=Xe({top:i.top-s.top-u,left:i.left-s.left-d,width:i.width,height:i.height});if(c.marginTop=0,c.marginLeft=0,!r&&o){var f=parseFloat(l.marginTop),m=parseFloat(l.marginLeft);c.top-=u-f,c.bottom-=u-f,c.left-=d-m,c.right-=d-m,c.marginTop=f,c.marginLeft=m}return(r&&!n?t.contains(a):t===a&&a.nodeName!=="BODY")&&(c=up(c,t)),c}function pp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e.ownerDocument.documentElement,r=Dr(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:yt(n),a=t?0:yt(n,"left"),l={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:o,height:i};return Xe(l)}function va(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if(ct(e,"position")==="fixed")return!0;var n=Lr(e);return n?va(n):!1}function ya(e){if(!e||!e.parentElement||Pt())return document.documentElement;for(var t=e.parentElement;t&&ct(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function Fr(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,i={top:0,left:0},s=o?ya(e):bn(e,ma(t));if(r==="viewport")i=pp(s,o);else{var a=void 0;r==="scrollParent"?(a=Zt(Lr(t)),a.nodeName==="BODY"&&(a=e.ownerDocument.documentElement)):r==="window"?a=e.ownerDocument.documentElement:a=r;var l=Dr(a,s,o);if(a.nodeName==="HTML"&&!va(s)){var u=ga(e.ownerDocument),d=u.height,c=u.width;i.top+=l.top-l.marginTop,i.bottom=d+l.top,i.left+=l.left-l.marginLeft,i.right=c+l.left}else i=l}n=n||0;var f=typeof n=="number";return i.left+=f?n:n.left||0,i.top+=f?n:n.top||0,i.right-=f?n:n.right||0,i.bottom-=f?n:n.bottom||0,i}function hp(e){var t=e.width,n=e.height;return t*n}function ba(e,t,n,r,o){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var s=Fr(n,r,i,o),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map(function(f){return Pe({key:f},a[f],{area:hp(a[f])})}).sort(function(f,m){return m.area-f.area}),u=l.filter(function(f){var m=f.width,g=f.height;return m>=n.clientWidth&&g>=n.clientHeight}),d=u.length>0?u[0].key:l[0].key,c=e.split("-")[1];return d+(c?"-"+c:"")}function xa(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=r?ya(t):bn(t,ma(n));return Dr(n,o,r)}function wa(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),o=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),i={width:e.offsetWidth+o,height:e.offsetHeight+r};return i}function xn(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(n){return t[n]})}function Ea(e,t,n){n=n.split("-")[0];var r=wa(e),o={width:r.width,height:r.height},i=["right","left"].indexOf(n)!==-1,s=i?"top":"left",a=i?"left":"top",l=i?"height":"width",u=i?"width":"height";return o[s]=t[s]+t[l]/2-r[l]/2,n===a?o[a]=t[a]-r[u]:o[a]=t[xn(a)],o}function Qt(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function mp(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(o){return o[t]===n});var r=Qt(e,function(o){return o[t]===n});return e.indexOf(r)}function Sa(e,t,n){var r=n===void 0?e:e.slice(0,mp(e,"name",n));return r.forEach(function(o){o.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=o.function||o.fn;o.enabled&&ha(i)&&(t.offsets.popper=Xe(t.offsets.popper),t.offsets.reference=Xe(t.offsets.reference),t=i(t,o))}),t}function gp(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=xa(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=ba(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Ea(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Sa(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Pa(e,t){return e.some(function(n){var r=n.name,o=n.enabled;return o&&r===t})}function zr(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(typeof document.body.style[i]<"u")return i}return null}function vp(){return this.state.isDestroyed=!0,Pa(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[zr("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Ca(e){var t=e.ownerDocument;return t?t.defaultView:window}function Oa(e,t,n,r){var o=e.nodeName==="BODY",i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||Oa(Zt(i.parentNode),t,n,r),r.push(i)}function yp(e,t,n,r){n.updateBound=r,Ca(e).addEventListener("resize",n.updateBound,{passive:!0});var o=Zt(e);return Oa(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function bp(){this.state.eventsEnabled||(this.state=yp(this.reference,this.options,this.state,this.scheduleUpdate))}function xp(e,t){return Ca(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(n){n.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function wp(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=xp(this.reference,this.state))}function $r(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function sr(e,t){Object.keys(t).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&$r(t[n])&&(r="px"),e.style[n]=t[n]+r})}function Ep(e,t){Object.keys(t).forEach(function(n){var r=t[n];r!==!1?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function Sp(e){return sr(e.instance.popper,e.styles),Ep(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&sr(e.arrowElement,e.arrowStyles),e}function Pp(e,t,n,r,o){var i=xa(o,t,e,n.positionFixed),s=ba(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),sr(t,{position:n.positionFixed?"fixed":"absolute"}),n}function Cp(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,s=Math.floor,a=function(y){return y},l=i(o.width),u=i(r.width),d=["left","right"].indexOf(e.placement)!==-1,c=e.placement.indexOf("-")!==-1,f=l%2===u%2,m=l%2===1&&u%2===1,g=t?d||c||f?i:s:a,b=t?i:a;return{left:g(m&&!c&&t?r.left-1:r.left),top:b(r.top),bottom:b(r.bottom),right:g(r.right)}}var Op=Jt&&/Firefox/i.test(navigator.userAgent);function Np(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=Qt(e.instance.modifiers,function(w){return w.name==="applyStyle"}).gpuAcceleration;i!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=i!==void 0?i:t.gpuAcceleration,a=vt(e.instance.popper),l=ir(a),u={position:o.position},d=Cp(e,window.devicePixelRatio<2||!Op),c=n==="bottom"?"top":"bottom",f=r==="right"?"left":"right",m=zr("transform"),g=void 0,b=void 0;if(c==="bottom"?a.nodeName==="HTML"?b=-a.clientHeight+d.bottom:b=-l.height+d.bottom:b=d.top,f==="right"?a.nodeName==="HTML"?g=-a.clientWidth+d.right:g=-l.width+d.right:g=d.left,s&&m)u[m]="translate3d("+g+"px, "+b+"px, 0)",u[c]=0,u[f]=0,u.willChange="transform";else{var v=c==="bottom"?-1:1,y=f==="right"?-1:1;u[c]=b*v,u[f]=g*y,u.willChange=c+", "+f}var x={"x-placement":e.placement};return e.attributes=Pe({},x,e.attributes),e.styles=Pe({},u,e.styles),e.arrowStyles=Pe({},e.offsets.arrow,e.arrowStyles),e}function Na(e,t,n){var r=Qt(e,function(a){var l=a.name;return l===t}),o=!!r&&e.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!o){var i="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}function Ip(e,t){var n;if(!Na(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if(typeof r=="string"){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,s=i.popper,a=i.reference,l=["left","right"].indexOf(o)!==-1,u=l?"height":"width",d=l?"Top":"Left",c=d.toLowerCase(),f=l?"left":"top",m=l?"bottom":"right",g=wa(r)[u];a[m]-g<s[c]&&(e.offsets.popper[c]-=s[c]-(a[m]-g)),a[c]+g>s[m]&&(e.offsets.popper[c]+=a[c]+g-s[m]),e.offsets.popper=Xe(e.offsets.popper);var b=a[c]+a[u]/2-g/2,v=ct(e.instance.popper),y=parseFloat(v["margin"+d]),x=parseFloat(v["border"+d+"Width"]),w=b-e.offsets.popper[c]-y-x;return w=Math.max(Math.min(s[u]-g,w),0),e.arrowElement=r,e.offsets.arrow=(n={},bt(n,c,Math.round(w)),bt(n,f,""),n),e}function Rp(e){return e==="end"?"start":e==="start"?"end":e}var Ia=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Yn=Ia.slice(3);function Io(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Yn.indexOf(e),r=Yn.slice(n+1).concat(Yn.slice(0,n));return t?r.reverse():r}var qn={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Tp(e,t){if(Pa(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var n=Fr(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=xn(r),i=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case qn.FLIP:s=[r,o];break;case qn.CLOCKWISE:s=Io(r);break;case qn.COUNTERCLOCKWISE:s=Io(r,!0);break;default:s=t.behavior}return s.forEach(function(a,l){if(r!==a||s.length===l+1)return e;r=e.placement.split("-")[0],o=xn(r);var u=e.offsets.popper,d=e.offsets.reference,c=Math.floor,f=r==="left"&&c(u.right)>c(d.left)||r==="right"&&c(u.left)<c(d.right)||r==="top"&&c(u.bottom)>c(d.top)||r==="bottom"&&c(u.top)<c(d.bottom),m=c(u.left)<c(n.left),g=c(u.right)>c(n.right),b=c(u.top)<c(n.top),v=c(u.bottom)>c(n.bottom),y=r==="left"&&m||r==="right"&&g||r==="top"&&b||r==="bottom"&&v,x=["top","bottom"].indexOf(r)!==-1,w=!!t.flipVariations&&(x&&i==="start"&&m||x&&i==="end"&&g||!x&&i==="start"&&b||!x&&i==="end"&&v),E=!!t.flipVariationsByContent&&(x&&i==="start"&&g||x&&i==="end"&&m||!x&&i==="start"&&v||!x&&i==="end"&&b),N=w||E;(f||y||N)&&(e.flipped=!0,(f||y)&&(r=s[l+1]),N&&(i=Rp(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=Pe({},e.offsets.popper,Ea(e.instance.popper,e.offsets.reference,e.placement)),e=Sa(e.instance.modifiers,e,"flip"))}),e}function Mp(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,s=["top","bottom"].indexOf(o)!==-1,a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[u]),n[l]>i(r[a])&&(e.offsets.popper[l]=i(r[a])),e}function jp(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],s=o[2];if(!i)return e;if(s.indexOf("%")===0){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}var l=Xe(a);return l[t]/100*i}else if(s==="vh"||s==="vw"){var u=void 0;return s==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*i}else return i}function Ap(e,t,n,r){var o=[0,0],i=["right","left"].indexOf(r)!==-1,s=e.split(/(\+|\-)/).map(function(d){return d.trim()}),a=s.indexOf(Qt(s,function(d){return d.search(/,|\s/)!==-1}));s[a]&&s[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=a!==-1?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return u=u.map(function(d,c){var f=(c===1?!i:i)?"height":"width",m=!1;return d.reduce(function(g,b){return g[g.length-1]===""&&["+","-"].indexOf(b)!==-1?(g[g.length-1]=b,m=!0,g):m?(g[g.length-1]+=b,m=!1,g):g.concat(b)},[]).map(function(g){return jp(g,f,t,n)})}),u.forEach(function(d,c){d.forEach(function(f,m){$r(f)&&(o[c]+=f*(d[m-1]==="-"?-1:1))})}),o}function _p(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,s=o.reference,a=r.split("-")[0],l=void 0;return $r(+n)?l=[+n,0]:l=Ap(n,i,s,a),a==="left"?(i.top+=l[0],i.left-=l[1]):a==="right"?(i.top+=l[0],i.left+=l[1]):a==="top"?(i.left+=l[0],i.top-=l[1]):a==="bottom"&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e}function kp(e,t){var n=t.boundariesElement||vt(e.instance.popper);e.instance.reference===n&&(n=vt(n));var r=zr("transform"),o=e.instance.popper.style,i=o.top,s=o.left,a=o[r];o.top="",o.left="",o[r]="";var l=Fr(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=s,o[r]=a,t.boundaries=l;var u=t.priority,d=e.offsets.popper,c={primary:function(m){var g=d[m];return d[m]<l[m]&&!t.escapeWithReference&&(g=Math.max(d[m],l[m])),bt({},m,g)},secondary:function(m){var g=m==="right"?"left":"top",b=d[g];return d[m]>l[m]&&!t.escapeWithReference&&(b=Math.min(d[g],l[m]-(m==="right"?d.width:d.height))),bt({},g,b)}};return u.forEach(function(f){var m=["left","top"].indexOf(f)!==-1?"primary":"secondary";d=Pe({},d,c[m](f))}),e.offsets.popper=d,e}function Lp(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,s=o.popper,a=["bottom","top"].indexOf(n)!==-1,l=a?"left":"top",u=a?"width":"height",d={start:bt({},l,i[l]),end:bt({},l,i[l]+i[u]-s[u])};e.offsets.popper=Pe({},s,d[r])}return e}function Dp(e){if(!Na(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Qt(e.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function Fp(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,s=["left","right"].indexOf(n)!==-1,a=["top","left"].indexOf(n)===-1;return o[s?"left":"top"]=i[n]-(a?o[s?"width":"height"]:0),e.placement=xn(t),e.offsets.popper=Xe(o),e}var zp={shift:{order:100,enabled:!0,fn:Lp},offset:{order:200,enabled:!0,fn:_p,offset:0},preventOverflow:{order:300,enabled:!0,fn:kp,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:Mp},arrow:{order:500,enabled:!0,fn:Ip,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Tp,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Fp},hide:{order:800,enabled:!0,fn:Dp},computeStyle:{order:850,enabled:!0,fn:Np,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:Sp,onLoad:Pp,gpuAcceleration:void 0}},$p={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:zp},Gt=function(){function e(t,n){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};dp(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=lp(this.update.bind(this)),this.options=Pe({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Pe({},e.Defaults.modifiers,o.modifiers)).forEach(function(s){r.options.modifiers[s]=Pe({},e.Defaults.modifiers[s]||{},o.modifiers?o.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return Pe({name:s},r.options.modifiers[s])}).sort(function(s,a){return s.order-a.order}),this.modifiers.forEach(function(s){s.enabled&&ha(s.onLoad)&&s.onLoad(r.reference,r.popper,r.options,s,r.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return fp(e,[{key:"update",value:function(){return gp.call(this)}},{key:"destroy",value:function(){return vp.call(this)}},{key:"enableEventListeners",value:function(){return bp.call(this)}},{key:"disableEventListeners",value:function(){return wp.call(this)}}]),e}();Gt.Utils=(typeof window<"u"?window:global).PopperUtils;Gt.placements=Ia;Gt.Defaults=$p;var Hp=["innerHTML","ownerDocument","style","attributes","nodeValue"],Bp=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Wp=["bigint","boolean","null","number","string","symbol","undefined"];function An(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(Gp(t))return t}function Te(e){return function(t){return An(t)===e}}function Gp(e){return Bp.includes(e)}function Ct(e){return function(t){return typeof t===e}}function Up(e){return Wp.includes(e)}function P(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(P.array(e))return"Array";if(P.plainFunction(e))return"Function";var t=An(e);return t||"Object"}P.array=Array.isArray;P.arrayOf=function(e,t){return!P.array(e)&&!P.function(t)?!1:e.every(function(n){return t(n)})};P.asyncGeneratorFunction=function(e){return An(e)==="AsyncGeneratorFunction"};P.asyncFunction=Te("AsyncFunction");P.bigint=Ct("bigint");P.boolean=function(e){return e===!0||e===!1};P.date=Te("Date");P.defined=function(e){return!P.undefined(e)};P.domElement=function(e){return P.object(e)&&!P.plainObject(e)&&e.nodeType===1&&P.string(e.nodeName)&&Hp.every(function(t){return t in e})};P.empty=function(e){return P.string(e)&&e.length===0||P.array(e)&&e.length===0||P.object(e)&&!P.map(e)&&!P.set(e)&&Object.keys(e).length===0||P.set(e)&&e.size===0||P.map(e)&&e.size===0};P.error=Te("Error");P.function=Ct("function");P.generator=function(e){return P.iterable(e)&&P.function(e.next)&&P.function(e.throw)};P.generatorFunction=Te("GeneratorFunction");P.instanceOf=function(e,t){return!e||!t?!1:Object.getPrototypeOf(e)===t.prototype};P.iterable=function(e){return!P.nullOrUndefined(e)&&P.function(e[Symbol.iterator])};P.map=Te("Map");P.nan=function(e){return Number.isNaN(e)};P.null=function(e){return e===null};P.nullOrUndefined=function(e){return P.null(e)||P.undefined(e)};P.number=function(e){return Ct("number")(e)&&!P.nan(e)};P.numericString=function(e){return P.string(e)&&e.length>0&&!Number.isNaN(Number(e))};P.object=function(e){return!P.nullOrUndefined(e)&&(P.function(e)||typeof e=="object")};P.oneOf=function(e,t){return P.array(e)?e.indexOf(t)>-1:!1};P.plainFunction=Te("Function");P.plainObject=function(e){if(An(e)!=="Object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};P.primitive=function(e){return P.null(e)||Up(typeof e)};P.promise=Te("Promise");P.propertyOf=function(e,t,n){if(!P.object(e)||!t)return!1;var r=e[t];return P.function(n)?n(r):P.defined(r)};P.regexp=Te("RegExp");P.set=Te("Set");P.string=Ct("string");P.symbol=Ct("symbol");P.undefined=Ct("undefined");P.weakMap=Te("WeakMap");P.weakSet=Te("WeakSet");function Ra(e){return function(t){return typeof t===e}}var Vp=Ra("function"),Kp=function(e){return e===null},Ro=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},To=function(e){return!Yp(e)&&!Kp(e)&&(Vp(e)||typeof e=="object")},Yp=Ra("undefined"),ar=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function qp(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=n;r--!==0;)if(!we(e[r],t[r]))return!1;return!0}function Xp(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e.buffer),r=new DataView(t.buffer),o=e.byteLength;o--;)if(n.getUint8(o)!==r.getUint8(o))return!1;return!0}function Jp(e,t){var n,r,o,i;if(e.size!==t.size)return!1;try{for(var s=ar(e.entries()),a=s.next();!a.done;a=s.next()){var l=a.value;if(!t.has(l[0]))return!1}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var u=ar(e.entries()),d=u.next();!d.done;d=u.next()){var l=d.value;if(!we(l[1],t.get(l[0])))return!1}}catch(c){o={error:c}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return!0}function Zp(e,t){var n,r;if(e.size!==t.size)return!1;try{for(var o=ar(e.entries()),i=o.next();!i.done;i=o.next()){var s=i.value;if(!t.has(s[0]))return!1}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0}function we(e,t){if(e===t)return!0;if(e&&To(e)&&t&&To(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return qp(e,t);if(e instanceof Map&&t instanceof Map)return Jp(e,t);if(e instanceof Set&&t instanceof Set)return Zp(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return Xp(e,t);if(Ro(e)&&Ro(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=n.length;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(var o=n.length;o--!==0;){var i=n[o];if(!(i==="_owner"&&e.$$typeof)&&!we(e[i],t[i]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}function Qp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(function(n){return P.string(n)||P.array(n)||P.plainObject(n)})}function eh(e,t,n){return Ta(e,t)?[e,t].every(P.array)?!e.some(ko(n))&&t.some(ko(n)):[e,t].every(P.plainObject)?!Object.entries(e).some(_o(n))&&Object.entries(t).some(_o(n)):t===n:!1}function Mo(e,t,n){var r=n.actual,o=n.key,i=n.previous,s=n.type,a=ke(e,o),l=ke(t,o),u=[a,l].every(P.number)&&(s==="increased"?a<l:a>l);return P.undefined(r)||(u=u&&l===r),P.undefined(i)||(u=u&&a===i),u}function jo(e,t,n){var r=n.key,o=n.type,i=n.value,s=ke(e,r),a=ke(t,r),l=o==="added"?s:a,u=o==="added"?a:s;if(!P.nullOrUndefined(i)){if(P.defined(l)){if(P.array(l)||P.plainObject(l))return eh(l,u,i)}else return we(u,i);return!1}return[s,a].every(P.array)?!u.every(Hr(l)):[s,a].every(P.plainObject)?th(Object.keys(l),Object.keys(u)):![s,a].every(function(d){return P.primitive(d)&&P.defined(d)})&&(o==="added"?!P.defined(s)&&P.defined(a):P.defined(s)&&!P.defined(a))}function Ao(e,t,n){var r=n===void 0?{}:n,o=r.key,i=ke(e,o),s=ke(t,o);if(!Ta(i,s))throw new TypeError("Inputs have different types");if(!Qp(i,s))throw new TypeError("Inputs don't have length");return[i,s].every(P.plainObject)&&(i=Object.keys(i),s=Object.keys(s)),[i,s]}function _o(e){return function(t){var n=t[0],r=t[1];return P.array(e)?we(e,r)||e.some(function(o){return we(o,r)||P.array(r)&&Hr(r)(o)}):P.plainObject(e)&&e[n]?!!e[n]&&we(e[n],r):we(e,r)}}function th(e,t){return t.some(function(n){return!e.includes(n)})}function ko(e){return function(t){return P.array(e)?e.some(function(n){return we(n,t)||P.array(t)&&Hr(t)(n)}):we(e,t)}}function It(e,t){return P.array(e)?e.some(function(n){return we(n,t)}):we(e,t)}function Hr(e){return function(t){return e.some(function(n){return we(n,t)})}}function Ta(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(P.array)||e.every(P.number)||e.every(P.plainObject)||e.every(P.string)}function ke(e,t){if(P.plainObject(e)||P.array(e)){if(P.string(t)){var n=t.split(".");return n.reduce(function(r,o){return r&&r[o]},e)}return P.number(t)?e[t]:e}return e}function nh(e,t){if([e,t].some(P.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(function(c){return P.plainObject(c)||P.array(c)}))throw new Error("Expected plain objects or array");var n=function(c,f){try{return jo(e,t,{key:c,type:"added",value:f})}catch{return!1}},r=function(c,f,m){try{var g=ke(e,c),b=ke(t,c),v=P.defined(f),y=P.defined(m);if(v||y){var x=y?It(m,g):!It(f,g),w=It(f,b);return x&&w}return[g,b].every(P.array)||[g,b].every(P.plainObject)?!we(g,b):g!==b}catch{return!1}},o=function(c,f,m){if(!P.defined(c))return!1;try{var g=ke(e,c),b=ke(t,c),v=P.defined(m);return It(f,g)&&(v?It(m,b):!v)}catch{return!1}},i=function(c,f){return P.defined(c)?r(c,f):!1},s=function(c,f,m){if(!P.defined(c))return!1;try{return Mo(e,t,{key:c,actual:f,previous:m,type:"decreased"})}catch{return!1}},a=function(c){try{var f=Ao(e,t,{key:c}),m=f[0],g=f[1];return!!m.length&&!g.length}catch{return!1}},l=function(c){try{var f=Ao(e,t,{key:c}),m=f[0],g=f[1];return!m.length&&!!g.length}catch{return!1}},u=function(c,f,m){if(!P.defined(c))return!1;try{return Mo(e,t,{key:c,actual:f,previous:m,type:"increased"})}catch{return!1}},d=function(c,f){try{return jo(e,t,{key:c,type:"removed",value:f})}catch{return!1}};return{added:n,changed:r,changedFrom:o,changedTo:i,decreased:s,emptied:a,filled:l,increased:u,removed:d}}function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lo(Object(n),!0).forEach(function(r){me(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function en(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ja(r.key),r)}}function tn(e,t,n){return t&&rh(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function me(e,t,n){return t=ja(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lr(e,t)}function wn(e){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wn(e)}function lr(e,t){return lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},lr(e,t)}function oh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ih(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ma(e,t){if(e==null)return{};var n=ih(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sh(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}function rn(e){var t=oh();return function(){var r=wn(e),o;if(t){var i=wn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return sh(this,o)}}function ah(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ja(e){var t=ah(e,"string");return typeof t=="symbol"?t:String(t)}var lh={flip:{padding:20},preventOverflow:{padding:10}},ch="The typeValidator argument must be a function with the signature function(props, propName, componentName).",uh="The error message is optional, but must be a string if provided.";function dh(e,t,n,r){return typeof e=="boolean"?e:typeof e=="function"?e(t,n,r):e?!!e:!1}function fh(e,t){return Object.hasOwnProperty.call(e,t)}function ph(e,t,n,r){return new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(n,"`."))}function hh(e,t){if(typeof e!="function")throw new TypeError(ch);if(t)throw new TypeError(uh)}function Do(e,t,n){return hh(e,n),function(r,o,i){for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return dh(t,r,o,i)?fh(r,o)?e.apply(void 0,[r,o,i].concat(a)):ph(r,o,i):e.apply(void 0,[r,o,i].concat(a))}}var ee={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},Rt=Lt.createPortal!==void 0;function Me(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Xn(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function sn(e){var t=e.title,n=e.data,r=e.warn,o=r===void 0?!1:r,i=e.debug,s=i===void 0?!1:i,a=o?console.warn||console.error:console.log;s&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(l){P.plainObject(l)&&l.key?a.apply(console,[l.key,l.value]):a.apply(console,[l])}):a.apply(console,[n]),console.groupEnd())}function mh(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.addEventListener(t,n,r)}function gh(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.removeEventListener(t,n,r)}function vh(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o;o=function(s){n(s),gh(e,t,o)},mh(e,t,o,r)}function Fo(){}var Aa=function(e){nn(n,e);var t=rn(n);function n(){return en(this,n),t.apply(this,arguments)}return tn(n,[{key:"componentDidMount",value:function(){Me()&&(this.node||this.appendNode(),Rt||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Me()&&(Rt||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Me()||!this.node||(Rt||Lt.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var o=this.props,i=o.id,s=o.zIndex;this.node||(this.node=document.createElement("div"),i&&(this.node.id=i),s&&(this.node.style.zIndex=s),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Me())return null;var o=this.props,i=o.children,s=o.setRef;if(this.node||this.appendNode(),Rt)return Lt.createPortal(i,this.node);var a=Lt.unstable_renderSubtreeIntoContainer(this,i.length>1?B.createElement("div",null,i):i[0],this.node);return s(a),null}},{key:"renderReact16",value:function(){var o=this.props,i=o.hasChildren,s=o.placement,a=o.target;return i?this.renderPortal():a||s==="center"?this.renderPortal():null}},{key:"render",value:function(){return Rt?this.renderReact16():null}}]),n}(B.Component);me(Aa,"propTypes",{children:R.oneOfType([R.element,R.array]),hasChildren:R.bool,id:R.oneOfType([R.string,R.number]),placement:R.string,setRef:R.func.isRequired,target:R.oneOfType([R.object,R.string]),zIndex:R.number});var _a=function(e){nn(n,e);var t=rn(n);function n(){return en(this,n),t.apply(this,arguments)}return tn(n,[{key:"parentStyle",get:function(){var o=this.props,i=o.placement,s=o.styles,a=s.arrow.length,l={pointerEvents:"none",position:"absolute",width:"100%"};return i.startsWith("top")?(l.bottom=0,l.left=0,l.right=0,l.height=a):i.startsWith("bottom")?(l.left=0,l.right=0,l.top=0,l.height=a):i.startsWith("left")?(l.right=0,l.top=0,l.bottom=0):i.startsWith("right")&&(l.left=0,l.top=0),l}},{key:"render",value:function(){var o=this.props,i=o.placement,s=o.setArrowRef,a=o.styles,l=a.arrow,u=l.color,d=l.display,c=l.length,f=l.margin,m=l.position,g=l.spread,b={display:d,position:m},v,y=g,x=c;return i.startsWith("top")?(v="0,0 ".concat(y/2,",").concat(x," ").concat(y,",0"),b.bottom=0,b.marginLeft=f,b.marginRight=f):i.startsWith("bottom")?(v="".concat(y,",").concat(x," ").concat(y/2,",0 0,").concat(x),b.top=0,b.marginLeft=f,b.marginRight=f):i.startsWith("left")?(x=g,y=c,v="0,0 ".concat(y,",").concat(x/2," 0,").concat(x),b.right=0,b.marginTop=f,b.marginBottom=f):i.startsWith("right")&&(x=g,y=c,v="".concat(y,",").concat(x," ").concat(y,",0 0,").concat(x/2),b.left=0,b.marginTop=f,b.marginBottom=f),B.createElement("div",{className:"__floater__arrow",style:this.parentStyle},B.createElement("span",{ref:s,style:b},B.createElement("svg",{width:y,height:x,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},B.createElement("polygon",{points:v,fill:u}))))}}]),n}(B.Component);me(_a,"propTypes",{placement:R.string.isRequired,setArrowRef:R.func.isRequired,styles:R.object.isRequired});var yh=["color","height","width"];function ka(e){var t=e.handleClick,n=e.styles,r=n.color,o=n.height,i=n.width,s=Ma(n,yh);return B.createElement("button",{"aria-label":"close",onClick:t,style:s,type:"button"},B.createElement("svg",{width:"".concat(i,"px"),height:"".concat(o,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},B.createElement("g",null,B.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}ka.propTypes={handleClick:R.func.isRequired,styles:R.object.isRequired};function La(e){var t=e.content,n=e.footer,r=e.handleClick,o=e.open,i=e.positionWrapper,s=e.showCloseButton,a=e.title,l=e.styles,u={content:B.isValidElement(t)?t:B.createElement("div",{className:"__floater__content",style:l.content},t)};return a&&(u.title=B.isValidElement(a)?a:B.createElement("div",{className:"__floater__title",style:l.title},a)),n&&(u.footer=B.isValidElement(n)?n:B.createElement("div",{className:"__floater__footer",style:l.footer},n)),(s||i)&&!P.boolean(o)&&(u.close=B.createElement(ka,{styles:l.close,handleClick:r})),B.createElement("div",{className:"__floater__container",style:l.container},u.close,u.title,u.content,u.footer)}La.propTypes={content:R.node.isRequired,footer:R.node,handleClick:R.func.isRequired,open:R.bool,positionWrapper:R.bool.isRequired,showCloseButton:R.bool.isRequired,styles:R.object.isRequired,title:R.node};var Da=function(e){nn(n,e);var t=rn(n);function n(){return en(this,n),t.apply(this,arguments)}return tn(n,[{key:"style",get:function(){var o=this.props,i=o.disableAnimation,s=o.component,a=o.placement,l=o.hideArrow,u=o.status,d=o.styles,c=d.arrow.length,f=d.floater,m=d.floaterCentered,g=d.floaterClosing,b=d.floaterOpening,v=d.floaterWithAnimation,y=d.floaterWithComponent,x={};return l||(a.startsWith("top")?x.padding="0 0 ".concat(c,"px"):a.startsWith("bottom")?x.padding="".concat(c,"px 0 0"):a.startsWith("left")?x.padding="0 ".concat(c,"px 0 0"):a.startsWith("right")&&(x.padding="0 0 0 ".concat(c,"px"))),[ee.OPENING,ee.OPEN].indexOf(u)!==-1&&(x=se(se({},x),b)),u===ee.CLOSING&&(x=se(se({},x),g)),u===ee.OPEN&&!i&&(x=se(se({},x),v)),a==="center"&&(x=se(se({},x),m)),s&&(x=se(se({},x),y)),se(se({},f),x)}},{key:"render",value:function(){var o=this.props,i=o.component,s=o.handleClick,a=o.hideArrow,l=o.setFloaterRef,u=o.status,d={},c=["__floater"];return i?B.isValidElement(i)?d.content=B.cloneElement(i,{closeFn:s}):d.content=i({closeFn:s}):d.content=B.createElement(La,this.props),u===ee.OPEN&&c.push("__floater__open"),a||(d.arrow=B.createElement(_a,this.props)),B.createElement("div",{ref:l,className:c.join(" "),style:this.style},B.createElement("div",{className:"__floater__body"},d.content,d.arrow))}}]),n}(B.Component);me(Da,"propTypes",{component:R.oneOfType([R.func,R.element]),content:R.node,disableAnimation:R.bool.isRequired,footer:R.node,handleClick:R.func.isRequired,hideArrow:R.bool.isRequired,open:R.bool,placement:R.string.isRequired,positionWrapper:R.bool.isRequired,setArrowRef:R.func.isRequired,setFloaterRef:R.func.isRequired,showCloseButton:R.bool,status:R.string.isRequired,styles:R.object.isRequired,title:R.node});var Fa=function(e){nn(n,e);var t=rn(n);function n(){return en(this,n),t.apply(this,arguments)}return tn(n,[{key:"render",value:function(){var o=this.props,i=o.children,s=o.handleClick,a=o.handleMouseEnter,l=o.handleMouseLeave,u=o.setChildRef,d=o.setWrapperRef,c=o.style,f=o.styles,m;if(i)if(B.Children.count(i)===1)if(!B.isValidElement(i))m=B.createElement("span",null,i);else{var g=P.function(i.type)?"innerRef":"ref";m=B.cloneElement(B.Children.only(i),me({},g,u))}else m=i;return m?B.createElement("span",{ref:d,style:se(se({},f),c),onClick:s,onMouseEnter:a,onMouseLeave:l},m):null}}]),n}(B.Component);me(Fa,"propTypes",{children:R.node,handleClick:R.func.isRequired,handleMouseEnter:R.func.isRequired,handleMouseLeave:R.func.isRequired,setChildRef:R.func.isRequired,setWrapperRef:R.func.isRequired,style:R.object,styles:R.object.isRequired});var bh={zIndex:100};function xh(e){var t=Ne(bh,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}var wh=["arrow","flip","offset"],Eh=["position","top","right","bottom","left"],Br=function(e){nn(n,e);var t=rn(n);function n(r){var o;return en(this,n),o=t.call(this,r),me(ze(o),"setArrowRef",function(i){o.arrowRef=i}),me(ze(o),"setChildRef",function(i){o.childRef=i}),me(ze(o),"setFloaterRef",function(i){o.floaterRef=i}),me(ze(o),"setWrapperRef",function(i){o.wrapperRef=i}),me(ze(o),"handleTransitionEnd",function(){var i=o.state.status,s=o.props.callback;o.wrapperPopper&&o.wrapperPopper.instance.update(),o.setState({status:i===ee.OPENING?ee.OPEN:ee.IDLE},function(){var a=o.state.status;s(a===ee.OPEN?"open":"close",o.props)})}),me(ze(o),"handleClick",function(){var i=o.props,s=i.event,a=i.open;if(!P.boolean(a)){var l=o.state,u=l.positionWrapper,d=l.status;(o.event==="click"||o.event==="hover"&&u)&&(sn({title:"click",data:[{event:s,status:d===ee.OPEN?"closing":"opening"}],debug:o.debug}),o.toggle())}}),me(ze(o),"handleMouseEnter",function(){var i=o.props,s=i.event,a=i.open;if(!(P.boolean(a)||Xn())){var l=o.state.status;o.event==="hover"&&l===ee.IDLE&&(sn({title:"mouseEnter",data:[{key:"originalEvent",value:s}],debug:o.debug}),clearTimeout(o.eventDelayTimeout),o.toggle())}}),me(ze(o),"handleMouseLeave",function(){var i=o.props,s=i.event,a=i.eventDelay,l=i.open;if(!(P.boolean(l)||Xn())){var u=o.state,d=u.status,c=u.positionWrapper;o.event==="hover"&&(sn({title:"mouseLeave",data:[{key:"originalEvent",value:s}],debug:o.debug}),a?[ee.OPENING,ee.OPEN].indexOf(d)!==-1&&!c&&!o.eventDelayTimeout&&(o.eventDelayTimeout=setTimeout(function(){delete o.eventDelayTimeout,o.toggle()},a*1e3)):o.toggle(ee.IDLE))}}),o.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:ee.INIT,statusWrapper:ee.INIT},o._isMounted=!1,o.hasMounted=!1,Me()&&window.addEventListener("load",function(){o.popper&&o.popper.instance.update(),o.wrapperPopper&&o.wrapperPopper.instance.update()}),o}return tn(n,[{key:"componentDidMount",value:function(){if(Me()){var o=this.state.positionWrapper,i=this.props,s=i.children,a=i.open,l=i.target;this._isMounted=!0,sn({title:"init",data:{hasChildren:!!s,hasTarget:!!l,isControlled:P.boolean(a),positionWrapper:o,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!s&&l&&P.boolean(a)}}},{key:"componentDidUpdate",value:function(o,i){if(Me()){var s=this.props,a=s.autoOpen,l=s.open,u=s.target,d=s.wrapperOptions,c=nh(i,this.state),f=c.changedFrom,m=c.changed;if(o.open!==l){var g;P.boolean(l)&&(g=l?ee.OPENING:ee.CLOSING),this.toggle(g)}(o.wrapperOptions.position!==d.position||o.target!==u)&&this.changeWrapperPosition(this.props),m("status",ee.IDLE)&&l?this.toggle(ee.OPEN):f("status",ee.INIT,ee.IDLE)&&a&&this.toggle(ee.OPEN),this.popper&&m("status",ee.OPENING)&&this.popper.instance.update(),this.floaterRef&&(m("status",ee.OPENING)||m("status",ee.CLOSING))&&vh(this.floaterRef,"transitionend",this.handleTransitionEnd),m("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Me()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,s=this.state.positionWrapper,a=this.props,l=a.disableFlip,u=a.getPopper,d=a.hideArrow,c=a.offset,f=a.placement,m=a.wrapperOptions,g=f==="top"||f==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(f==="center")this.setState({status:ee.IDLE});else if(i&&this.floaterRef){var b=this.options,v=b.arrow,y=b.flip,x=b.offset,w=Ma(b,wh);new Gt(i,this.floaterRef,{placement:f,modifiers:se({arrow:se({enabled:!d,element:this.arrowRef},v),flip:se({enabled:!l,behavior:g},y),offset:se({offset:"0, ".concat(c,"px")},x)},w),onCreate:function(O){var C;if(o.popper=O,!((C=o.floaterRef)!==null&&C!==void 0&&C.isConnected)){o.setState({needsUpdate:!0});return}u(O,"floater"),o._isMounted&&o.setState({currentPlacement:O.placement,status:ee.IDLE}),f!==O.placement&&setTimeout(function(){O.instance.update()},1)},onUpdate:function(O){o.popper=O;var C=o.state.currentPlacement;o._isMounted&&O.placement!==C&&o.setState({currentPlacement:O.placement})}})}if(s){var E=P.undefined(m.offset)?0:m.offset;new Gt(this.target,this.wrapperRef,{placement:m.placement||f,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(E,"px")},flip:{enabled:!1}},onCreate:function(O){o.wrapperPopper=O,o._isMounted&&o.setState({statusWrapper:ee.IDLE}),u(O,"wrapper"),f!==O.placement&&setTimeout(function(){O.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var o=this;this.floaterRefInterval=setInterval(function(){var i;(i=o.floaterRef)!==null&&i!==void 0&&i.isConnected&&(clearInterval(o.floaterRefInterval),o.setState({needsUpdate:!1}),o.initPopper())},50)}},{key:"changeWrapperPosition",value:function(o){var i=o.target,s=o.wrapperOptions;this.setState({positionWrapper:s.position&&!!i})}},{key:"toggle",value:function(o){var i=this.state.status,s=i===ee.OPEN?ee.CLOSING:ee.OPENING;P.undefined(o)||(s=o),this.setState({status:s})}},{key:"debug",get:function(){var o=this.props.debug;return o||Me()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var o=this.props,i=o.disableHoverToClick,s=o.event;return s==="hover"&&Xn()&&!i?"click":s}},{key:"options",get:function(){var o=this.props.options;return Ne(lh,o||{})}},{key:"styles",get:function(){var o=this,i=this.state,s=i.status,a=i.positionWrapper,l=i.statusWrapper,u=this.props.styles,d=Ne(xh(u),u);if(a){var c;[ee.IDLE].indexOf(s)===-1||[ee.IDLE].indexOf(l)===-1?c=d.wrapperPosition:c=this.wrapperPopper.styles,d.wrapper=se(se({},d.wrapper),c)}if(this.target){var f=window.getComputedStyle(this.target);this.wrapperStyles?d.wrapper=se(se({},d.wrapper),this.wrapperStyles):["relative","static"].indexOf(f.position)===-1&&(this.wrapperStyles={},a||(Eh.forEach(function(m){o.wrapperStyles[m]=f[m]}),d.wrapper=se(se({},d.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return d}},{key:"target",get:function(){if(!Me())return null;var o=this.props.target;return o?P.domElement(o)?o:document.querySelector(o):this.childRef||this.wrapperRef}},{key:"render",value:function(){var o=this.state,i=o.currentPlacement,s=o.positionWrapper,a=o.status,l=this.props,u=l.children,d=l.component,c=l.content,f=l.disableAnimation,m=l.footer,g=l.hideArrow,b=l.id,v=l.open,y=l.showCloseButton,x=l.style,w=l.target,E=l.title,N=B.createElement(Fa,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:x,styles:this.styles.wrapper},u),O={};return s?O.wrapperInPortal=N:O.wrapperAsChildren=N,B.createElement("span",null,B.createElement(Aa,{hasChildren:!!u,id:b,placement:i,setRef:this.setFloaterRef,target:w,zIndex:this.styles.options.zIndex},B.createElement(Da,{component:d,content:c,disableAnimation:f,footer:m,handleClick:this.handleClick,hideArrow:g||i==="center",open:v,placement:i,positionWrapper:s,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:y,status:a,styles:this.styles,title:E}),O.wrapperInPortal),O.wrapperAsChildren)}}]),n}(B.Component);me(Br,"propTypes",{autoOpen:R.bool,callback:R.func,children:R.node,component:Do(R.oneOfType([R.func,R.element]),function(e){return!e.content}),content:Do(R.node,function(e){return!e.component}),debug:R.bool,disableAnimation:R.bool,disableFlip:R.bool,disableHoverToClick:R.bool,event:R.oneOf(["hover","click"]),eventDelay:R.number,footer:R.node,getPopper:R.func,hideArrow:R.bool,id:R.oneOfType([R.string,R.number]),offset:R.number,open:R.bool,options:R.object,placement:R.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:R.bool,style:R.object,styles:R.object,target:R.oneOfType([R.object,R.string]),title:R.node,wrapperOptions:R.shape({offset:R.number,placement:R.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:R.bool})});me(Br,"defaultProps",{autoOpen:!1,callback:Fo,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:Fo,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var Sh=Object.defineProperty,Ph=(e,t,n)=>t in e?Sh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t,n)=>Ph(e,typeof t!="symbol"?t+"":t,n),te={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Oe={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},V={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},J={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function Ye(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function za(e){return e?e.getBoundingClientRect():null}function Ch(e=!1){const{body:t,documentElement:n}=document;if(!t||!n)return 0;if(e){const r=[t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((i,s)=>i-s),o=Math.floor(r.length/2);return r.length%2===0?(r[o-1]+r[o])/2:r[o]}return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function Be(e){if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function Oh(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function Ut(e,t,n){if(!e)return tt();const r=pa(e);if(r){if(r.isSameNode(tt()))return n?document:tt();if(!(r.scrollHeight>r.offsetHeight)&&!t)return r.style.overflow="initial",tt()}return r}function _n(e,t){if(!e)return!1;const n=Ut(e,t);return n?!n.isSameNode(tt()):!1}function Nh(e){return e.offsetParent!==document.body}function xt(e,t="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:n}=e,r=Oh(e);return n==="BODY"||n==="HTML"?!1:r&&r.position===t?!0:e.parentNode?xt(e.parentNode,t):!1}function Ih(e){var t;if(!e)return!1;let n=e;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:o}=getComputedStyle(n);if(r==="none"||o==="hidden")return!1}n=(t=n.parentElement)!=null?t:null}return!0}function Rh(e,t,n){var r,o,i;const s=za(e),a=Ut(e,n),l=_n(e,n),u=xt(e);let d=0,c=(r=s==null?void 0:s.top)!=null?r:0;if(l&&u){const f=(o=e==null?void 0:e.offsetTop)!=null?o:0,m=(i=a==null?void 0:a.scrollTop)!=null?i:0;c=f-m}else a instanceof HTMLElement&&(d=a.scrollTop,!l&&!xt(e)&&(c+=d),a.isSameNode(tt())||(c+=tt().scrollTop));return Math.floor(c-t)}function Th(e,t,n){var r;if(!e)return 0;const{offsetTop:o=0,scrollTop:i=0}=(r=pa(e))!=null?r:{};let s=e.getBoundingClientRect().top+i;o&&(_n(e,n)||Nh(e))&&(s-=o);const a=Math.floor(s-t);return a<0?0:a}function tt(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function Mh(e,t){const{duration:n,element:r}=t;return new Promise((o,i)=>{const{scrollTop:s}=r,a=e>s?e-s:s-e;Xf.top(r,e,{duration:a<100?50:n},l=>l&&l.message!=="Element already at target scroll position"?i(l):o())})}var Tt=an.createPortal!==void 0;function $a(e=navigator.userAgent){let t=e;return typeof window>"u"?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":window.opera||e.includes(" OPR/")?t="opera":typeof window.InstallTrigger<"u"?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function un(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function je(e,t={}){const{defaultValue:n,step:r,steps:o}=t;let i=Eo(e);if(i)(i.includes("{step}")||i.includes("{steps}"))&&r&&o&&(i=i.replace("{step}",r.toString()).replace("{steps}",o.toString()));else if(h.isValidElement(e)&&!Object.values(e.props).length&&un(e.type)==="function"){const s=e.type({});i=je(s,t)}else i=Eo(n);return i}function jh(e,t){return!k.plainObject(e)||!k.array(t)?!1:Object.keys(e).every(n=>t.includes(n))}function Ah(e){const t=/^#?([\da-f])([\da-f])([\da-f])$/i,n=e.replace(t,(o,i,s,a)=>i+i+s+s+a+a),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function zo(e){return e.disableBeacon||e.placement==="center"}function $o(){return!["chrome","safari","firefox","opera"].includes($a())}function it({data:e,debug:t=!1,title:n,warn:r=!1}){const o=r?console.warn||console.error:console.log;t&&(n&&e?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach(i=>{k.plainObject(i)&&i.key?o.apply(console,[i.key,i.value]):o.apply(console,[i])}):o.apply(console,[e]),console.groupEnd()):console.error("Missing title or data props"))}function _h(e){return Object.keys(e)}function Ha(e,...t){if(!k.plainObject(e))throw new TypeError("Expected an object");const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&(t.includes(r)||(n[r]=e[r]));return n}function kh(e,...t){if(!k.plainObject(e))throw new TypeError("Expected an object");if(!t.length)return e;const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&t.includes(r)&&(n[r]=e[r]);return n}function cr(e,t,n){const r=i=>i.replace("{step}",String(t)).replace("{steps}",String(n));if(un(e)==="string")return r(e);if(!h.isValidElement(e))return e;const{children:o}=e.props;if(un(o)==="string"&&o.includes("{step}"))return h.cloneElement(e,{children:r(o)});if(Array.isArray(o))return h.cloneElement(e,{children:o.map(i=>typeof i=="string"?r(i):cr(i,t,n))});if(un(e.type)==="function"&&!Object.values(e.props).length){const i=e.type({});return cr(i,t,n)}return e}function Lh(e){const{isFirstStep:t,lifecycle:n,previousLifecycle:r,scrollToFirstStep:o,step:i,target:s}=e;return!i.disableScrolling&&(!t||o||n===V.TOOLTIP)&&i.placement!=="center"&&(!i.isFixed||!xt(s))&&r!==n&&[V.BEACON,V.TOOLTIP].includes(n)}var Dh={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},Ba={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},Fh={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:Ba,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},zh={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},$h={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Mt={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},Ho={borderRadius:4,position:"absolute"};function Hh(e,t){var n,r,o,i,s;const{floaterProps:a,styles:l}=e,u=Ne((n=t.floaterProps)!=null?n:{},a??{}),d=Ne(l??{},(r=t.styles)!=null?r:{}),c=Ne($h,d.options||{}),f=t.placement==="center"||t.disableBeacon;let{width:m}=c;window.innerWidth>480&&(m=380),"width"in c&&(m=typeof c.width=="number"&&window.innerWidth<c.width?window.innerWidth-30:c.width);const g={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:c.zIndex},b={beacon:{...Mt,display:f?"none":"inline-block",height:c.beaconSize,position:"relative",width:c.beaconSize,zIndex:c.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:c.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${Ah(c.primaryColor).join(",")}, 0.2)`,border:`2px solid ${c.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:c.backgroundColor,borderRadius:5,boxSizing:"border-box",color:c.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:m},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Mt,backgroundColor:c.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Mt,color:c.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Mt,color:c.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Mt,color:c.textColor,fontSize:14},overlay:{...g,backgroundColor:c.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...g},overlayLegacyCenter:{...g,backgroundColor:c.overlayColor},spotlight:{...Ho,backgroundColor:"gray"},spotlightLegacy:{...Ho,boxShadow:`0 0 0 9999px ${c.overlayColor}, ${c.spotlightShadow}`},floaterStyles:{arrow:{color:(s=(i=(o=u==null?void 0:u.styles)==null?void 0:o.arrow)==null?void 0:i.color)!=null?s:c.arrowColor},options:{zIndex:c.zIndex+100}},options:c};return Ne(b,d)}function Bh(e){return kh(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function dt(e,t){var n,r,o,i,s,a;const l=t??{},u=Ne.all([Fh,Bh(e),l],{isMergeableObject:k.plainObject}),d=Hh(e,u),c=_n(Be(u.target),u.disableScrollParentFix),f=Ne.all([Dh,(n=e.floaterProps)!=null?n:{},(r=u.floaterProps)!=null?r:{}]);return f.offset=u.offset,f.styles=Ne((o=f.styles)!=null?o:{},d.floaterStyles),f.offset+=(s=(i=e.spotlightPadding)!=null?i:u.spotlightPadding)!=null?s:0,u.placementBeacon&&f.wrapperOptions&&(f.wrapperOptions.placement=u.placementBeacon),c&&f.options.preventOverflow&&(f.options.preventOverflow.boundariesElement="window"),{...u,locale:Ne.all([Ba,(a=e.locale)!=null?a:{},u.locale||{}]),floaterProps:f,styles:Ha(d,"floaterStyles")}}function Wa(e,t=!1){return k.plainObject(e)?e.target?!0:(it({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(it({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function Bo(e,t=!1){return k.array(e)?e.every(n=>Wa(n,t)):(it({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var Ga={action:"init",controlled:!1,index:0,lifecycle:V.INIT,origin:null,size:0,status:J.IDLE},Wo=_h(Ha(Ga,"controlled","size")),Wh=class{constructor(e){L(this,"beaconPopper"),L(this,"tooltipPopper"),L(this,"data",new Map),L(this,"listener"),L(this,"store",new Map),L(this,"addListener",o=>{this.listener=o}),L(this,"setSteps",o=>{const{size:i,status:s}=this.getState(),a={size:o.length,status:s};this.data.set("steps",o),s===J.WAITING&&!i&&o.length&&(a.status=J.RUNNING),this.setState(a)}),L(this,"getPopper",o=>o==="beacon"?this.beaconPopper:this.tooltipPopper),L(this,"setPopper",(o,i)=>{o==="beacon"?this.beaconPopper=i:this.tooltipPopper=i}),L(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),L(this,"close",(o=null)=>{const{index:i,status:s}=this.getState();s===J.RUNNING&&this.setState({...this.getNextState({action:te.CLOSE,index:i+1,origin:o})})}),L(this,"go",o=>{const{controlled:i,status:s}=this.getState();if(i||s!==J.RUNNING)return;const a=this.getSteps()[o];this.setState({...this.getNextState({action:te.GO,index:o}),status:a?s:J.FINISHED})}),L(this,"info",()=>this.getState()),L(this,"next",()=>{const{index:o,status:i}=this.getState();i===J.RUNNING&&this.setState(this.getNextState({action:te.NEXT,index:o+1}))}),L(this,"open",()=>{const{status:o}=this.getState();o===J.RUNNING&&this.setState({...this.getNextState({action:te.UPDATE,lifecycle:V.TOOLTIP})})}),L(this,"prev",()=>{const{index:o,status:i}=this.getState();i===J.RUNNING&&this.setState({...this.getNextState({action:te.PREV,index:o-1})})}),L(this,"reset",(o=!1)=>{const{controlled:i}=this.getState();i||this.setState({...this.getNextState({action:te.RESET,index:0}),status:o?J.RUNNING:J.READY})}),L(this,"skip",()=>{const{status:o}=this.getState();o===J.RUNNING&&this.setState({action:te.SKIP,lifecycle:V.INIT,status:J.SKIPPED})}),L(this,"start",o=>{const{index:i,size:s}=this.getState();this.setState({...this.getNextState({action:te.START,index:k.number(o)?o:i},!0),status:s?J.RUNNING:J.WAITING})}),L(this,"stop",(o=!1)=>{const{index:i,status:s}=this.getState();[J.FINISHED,J.SKIPPED].includes(s)||this.setState({...this.getNextState({action:te.STOP,index:i+(o?1:0)}),status:J.PAUSED})}),L(this,"update",o=>{var i,s;if(!jh(o,Wo))throw new Error(`State is not valid. Valid keys: ${Wo.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...o,action:(i=o.action)!=null?i:te.UPDATE,origin:(s=o.origin)!=null?s:null},!0)})});const{continuous:t=!1,stepIndex:n,steps:r=[]}=e??{};this.setState({action:te.INIT,controlled:k.number(n),continuous:t,index:k.number(n)?n:0,lifecycle:V.INIT,origin:null,status:r.length?J.READY:J.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...Ga}}getNextState(e,t=!1){var n,r,o,i,s;const{action:a,controlled:l,index:u,size:d,status:c}=this.getState(),f=k.number(e.index)?e.index:u,m=l&&!t?u:Math.min(Math.max(f,0),d);return{action:(n=e.action)!=null?n:a,controlled:l,index:m,lifecycle:(r=e.lifecycle)!=null?r:V.INIT,origin:(o=e.origin)!=null?o:null,size:(i=e.size)!=null?i:d,status:m===d?J.FINISHED:(s=e.status)!=null?s:c}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){const t=JSON.stringify(e),n=JSON.stringify(this.getState());return t!==n}setState(e,t=!1){const n=this.getState(),{action:r,index:o,lifecycle:i,origin:s=null,size:a,status:l}={...n,...e};this.store.set("action",r),this.store.set("index",o),this.store.set("lifecycle",i),this.store.set("origin",s),this.store.set("size",a),this.store.set("status",l),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function Gh(e){return new Wh(e)}function Uh({styles:e}){return h.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})}var Vh=Uh,Kh=class extends h.Component{constructor(){super(...arguments),L(this,"isActive",!1),L(this,"resizeTimeout"),L(this,"scrollTimeout"),L(this,"scrollParent"),L(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),L(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:t,lifecycle:n}=this.props,r=[V.INIT,V.BEACON,V.COMPLETE,V.ERROR];return t||(e?r.includes(n):n!==V.TOOLTIP)}),L(this,"handleMouseMove",e=>{const{mouseOverSpotlight:t}=this.state,{height:n,left:r,position:o,top:i,width:s}=this.spotlightStyles,a=o==="fixed"?e.clientY:e.pageY,l=o==="fixed"?e.clientX:e.pageX,u=a>=i&&a<=i+n,c=l>=r&&l<=r+s&&u;c!==t&&this.updateState({mouseOverSpotlight:c})}),L(this,"handleScroll",()=>{const{target:e}=this.props,t=Be(e);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else xt(t,"sticky")&&this.updateState({})}),L(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:n=!1,target:r}=this.props,o=Be(r);this.scrollParent=Ut(o??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:o,target:i}=this.props,{changed:s}=yn(e,this.props);if(s("target")||s("disableScrollParentFix")){const a=Be(i);this.scrollParent=Ut(a??document.body,n,!0)}s("lifecycle",V.TOOLTIP)&&((t=this.scrollParent)==null||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:a}=this.state;a||this.updateState({showSpotlight:!0})},100)),(s("spotlightClicks")||s("disableOverlay")||s("lifecycle"))&&(o&&r===V.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==V.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(e=this.scrollParent)==null||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:n,styles:r}=this.props;let o=r.overlay;return $o()&&(o=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:t?"default":"pointer",height:Ch(),pointerEvents:e?"none":"auto",...o}}get spotlightStyles(){var e,t,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:o=!1,spotlightClicks:i,spotlightPadding:s=0,styles:a,target:l}=this.props,u=Be(l),d=za(u),c=xt(u),f=Rh(u,s,o);return{...$o()?a.spotlightLegacy:a.spotlight,height:Math.round(((e=d==null?void 0:d.height)!=null?e:0)+s*2),left:Math.round(((t=d==null?void 0:d.left)!=null?t:0)-s),opacity:r?1:0,pointerEvents:i?"none":"auto",position:c?"fixed":"absolute",top:f,transition:"opacity 0.2s",width:Math.round(((n=d==null?void 0:d.width)!=null?n:0)+s*2)}}updateState(e){this.isActive&&this.setState(t=>({...t,...e}))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:t,placement:n}=this.props,{hideSpotlight:r,overlayStyles:o,spotlightStyles:i}=this;if(r())return null;let s=n!=="center"&&e&&h.createElement(Vh,{styles:i});if($a()==="safari"){const{mixBlendMode:a,zIndex:l,...u}=o;s=h.createElement("div",{style:{...u}},s),delete o.backgroundColor}return h.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:t,role:"presentation",style:o},s)}},Yh=class extends h.Component{constructor(){super(...arguments),L(this,"node",null)}componentDidMount(){const{id:e}=this.props;Ye()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),Tt||this.renderReact15())}componentDidUpdate(){Ye()&&(Tt||this.renderReact15())}componentWillUnmount(){!Ye()||!this.node||(Tt||an.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!Ye())return;const{children:e}=this.props;this.node&&an.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!Ye()||!Tt)return null;const{children:e}=this.props;return this.node?an.createPortal(e,this.node):null}render(){return Tt?this.renderReact16():null}},qh=class{constructor(e,t){if(L(this,"element"),L(this,"options"),L(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),L(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,o=n.nodeName.toLowerCase();return(r.test(o)&&!n.getAttribute("disabled")||o==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),L(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),L(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),L(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:o}=n;if(!r.length)return;let i=document.activeElement?r.indexOf(document.activeElement):0;i===-1||!o&&i+1===r.length?i=0:o&&i===0?i=r.length-1:i+=o?-1:1,r[i].focus()}),L(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,o=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&o.getPropertyValue("overflow")!=="visible"||o.getPropertyValue("display")==="none"}),L(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),L(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),L(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),L(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},Xh=class extends h.Component{constructor(e){if(super(e),L(this,"beacon",null),L(this,"setBeaconRef",o=>{this.beacon=o}),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",e.nonce&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),t.appendChild(n)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{k.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");e!=null&&e.parentNode&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:n,isLastStep:r,locale:o,onClickOrHover:i,size:s,step:a,styles:l}=this.props,u=je(o.open),d={"aria-label":u,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:u};let c;if(e){const f=e;c=h.createElement(f,{continuous:t,index:n,isLastStep:r,size:s,step:a,...d})}else c=h.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:l.beacon,type:"button",...d},h.createElement("span",{style:l.beaconInner}),h.createElement("span",{style:l.beaconOuter}));return c}};function Jh({styles:e,...t}){const{color:n,height:r,width:o,...i}=e;return B.createElement("button",{style:i,type:"button",...t},B.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof o=="number"?`${o}px`:o,xmlns:"http://www.w3.org/2000/svg"},B.createElement("g",null,B.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var Zh=Jh;function Qh(e){const{backProps:t,closeProps:n,index:r,isLastStep:o,primaryProps:i,skipProps:s,step:a,tooltipProps:l}=e,{content:u,hideBackButton:d,hideCloseButton:c,hideFooter:f,showSkipButton:m,styles:g,title:b}=a,v={};return v.primary=h.createElement("button",{"data-test-id":"button-primary",style:g.buttonNext,type:"button",...i}),m&&!o&&(v.skip=h.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:g.buttonSkip,type:"button",...s})),!d&&r>0&&(v.back=h.createElement("button",{"data-test-id":"button-back",style:g.buttonBack,type:"button",...t})),v.close=!c&&h.createElement(Zh,{"data-test-id":"button-close",styles:g.buttonClose,...n}),h.createElement("div",{key:"JoyrideTooltip","aria-label":je(b??u),className:"react-joyride__tooltip",style:g.tooltip,...l},h.createElement("div",{style:g.tooltipContainer},b&&h.createElement("h1",{"aria-label":je(b),style:g.tooltipTitle},b),h.createElement("div",{style:g.tooltipContent},u)),!f&&h.createElement("div",{style:g.tooltipFooter},h.createElement("div",{style:g.tooltipFooterSpacer},v.skip),v.back,v.primary),v.close)}var em=Qh,tm=class extends h.Component{constructor(){super(...arguments),L(this,"handleClickBack",e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()}),L(this,"handleClickClose",e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")}),L(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:t,helpers:n}=this.props;if(!t){n.close("button_primary");return}n.next()}),L(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()}),L(this,"getElementsProps",()=>{const{continuous:e,index:t,isLastStep:n,setTooltipRef:r,size:o,step:i}=this.props,{back:s,close:a,last:l,next:u,nextLabelWithProgress:d,skip:c}=i.locale,f=je(s),m=je(a),g=je(l),b=je(u),v=je(c);let y=a,x=m;if(e){if(y=u,x=b,i.showProgress&&!n){const w=je(d,{step:t+1,steps:o});y=cr(d,t+1,o),x=w}n&&(y=l,x=g)}return{backProps:{"aria-label":f,children:s,"data-action":"back",onClick:this.handleClickBack,role:"button",title:f},closeProps:{"aria-label":m,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:m},primaryProps:{"aria-label":x,children:y,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:x},skipProps:{"aria-label":v,children:c,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:v},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:e,index:t,isLastStep:n,setTooltipRef:r,size:o,step:i}=this.props,{beaconComponent:s,tooltipComponent:a,...l}=i;let u;if(a){const d={...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:o,step:l,setTooltipRef:r},c=a;u=h.createElement(c,{...d})}else u=h.createElement(em,{...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:o,step:i});return u}},nm=class extends h.Component{constructor(){super(...arguments),L(this,"scope",null),L(this,"tooltip",null),L(this,"handleClickHoverBeacon",e=>{const{step:t,store:n}=this.props;e.type==="mouseenter"&&t.event!=="hover"||n.update({lifecycle:V.TOOLTIP})}),L(this,"setTooltipRef",e=>{this.tooltip=e}),L(this,"setPopper",(e,t)=>{var n;const{action:r,lifecycle:o,step:i,store:s}=this.props;t==="wrapper"?s.setPopper("beacon",e):s.setPopper("tooltip",e),s.getPopper("beacon")&&(s.getPopper("tooltip")||i.placement==="center")&&o===V.INIT&&s.update({action:r,lifecycle:V.READY}),(n=i.floaterProps)!=null&&n.getPopper&&i.floaterProps.getPopper(e,t)}),L(this,"renderTooltip",e=>{const{continuous:t,helpers:n,index:r,size:o,step:i}=this.props;return h.createElement(tm,{continuous:t,helpers:n,index:r,isLastStep:r+1===o,setTooltipRef:this.setTooltipRef,size:o,step:i,...e})})}componentDidMount(){const{debug:e,index:t}=this.props;it({title:`step:${t}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:n,callback:r,continuous:o,controlled:i,debug:s,helpers:a,index:l,lifecycle:u,shouldScroll:d,status:c,step:f,store:m}=this.props,{changed:g,changedFrom:b}=yn(e,this.props),v=a.info(),y=o&&n!==te.CLOSE&&(l>0||n===te.PREV),x=g("action")||g("index")||g("lifecycle")||g("status"),w=b("lifecycle",[V.TOOLTIP,V.INIT],V.INIT),E=g("action",[te.NEXT,te.PREV,te.SKIP,te.CLOSE]),N=i&&l===e.index;if(E&&(w||N)&&r({...v,index:e.index,lifecycle:V.COMPLETE,step:e.step,type:Oe.STEP_AFTER}),f.placement==="center"&&c===J.RUNNING&&g("index")&&n!==te.START&&u===V.INIT&&m.update({lifecycle:V.READY}),x){const O=Be(f.target),C=!!O;C&&Ih(O)?(b("status",J.READY,J.RUNNING)||b("lifecycle",V.INIT,V.READY))&&r({...v,step:f,type:Oe.STEP_BEFORE}):(console.warn(C?"Target not visible":"Target not mounted",f),r({...v,type:Oe.TARGET_NOT_FOUND,step:f}),i||m.update({index:l+(n===te.PREV?-1:1)}))}b("lifecycle",V.INIT,V.READY)&&m.update({lifecycle:zo(f)||y?V.TOOLTIP:V.BEACON}),g("index")&&it({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:s}),g("lifecycle",V.BEACON)&&r({...v,step:f,type:Oe.BEACON}),g("lifecycle",V.TOOLTIP)&&(r({...v,step:f,type:Oe.TOOLTIP}),d&&this.tooltip&&(this.scope=new qh(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),b("lifecycle",[V.TOOLTIP,V.INIT],V.INIT)&&((t=this.scope)==null||t.removeScope(),m.cleanupPoppers())}componentWillUnmount(){var e;(e=this.scope)==null||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return zo(t)||e===V.TOOLTIP}render(){const{continuous:e,debug:t,index:n,nonce:r,shouldScroll:o,size:i,step:s}=this.props,a=Be(s.target);return!Wa(s)||!k.domElement(a)?null:h.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},h.createElement(Br,{...s.floaterProps,component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:s.placement,target:s.target},h.createElement(Xh,{beaconComponent:s.beaconComponent,continuous:e,index:n,isLastStep:n+1===i,locale:s.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:o,size:i,step:s,styles:s.styles})))}},Ua=class extends h.Component{constructor(e){super(e),L(this,"helpers"),L(this,"store"),L(this,"callback",s=>{const{callback:a}=this.props;k.function(a)&&a(s)}),L(this,"handleKeyboard",s=>{const{index:a,lifecycle:l}=this.state,{steps:u}=this.props,d=u[a];l===V.TOOLTIP&&s.code==="Escape"&&d&&!d.disableCloseOnEsc&&this.store.close("keyboard")}),L(this,"handleClickOverlay",()=>{const{index:s}=this.state,{steps:a}=this.props;dt(this.props,a[s]).disableOverlayClose||this.helpers.close("overlay")}),L(this,"syncState",s=>{this.setState(s)});const{debug:t,getHelpers:n,run:r=!0,stepIndex:o}=e;this.store=Gh({...e,controlled:r&&k.number(o)}),this.helpers=this.store.getHelpers();const{addListener:i}=this.store;it({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),i(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!Ye())return;const{debug:e,disableCloseOnEsc:t,run:n,steps:r}=this.props,{start:o}=this.store;Bo(r,e)&&n&&o(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!Ye())return;const{action:n,controlled:r,index:o,status:i}=this.state,{debug:s,run:a,stepIndex:l,steps:u}=this.props,{stepIndex:d,steps:c}=e,{reset:f,setSteps:m,start:g,stop:b,update:v}=this.store,{changed:y}=yn(e,this.props),{changed:x,changedFrom:w}=yn(t,this.state),E=dt(this.props,u[o]),N=!ve(c,u),O=k.number(l)&&y("stepIndex"),C=Be(E.target);if(N&&(Bo(u,s)?m(u):console.warn("Steps are not valid",u)),y("run")&&(a?g(l):b()),O){let S=k.number(d)&&d<l?te.NEXT:te.PREV;n===te.STOP&&(S=te.START),[J.FINISHED,J.SKIPPED].includes(i)||v({action:n===te.CLOSE?te.CLOSE:S,index:l,lifecycle:V.INIT})}!r&&i===J.RUNNING&&o===0&&!C&&(this.store.update({index:o+1}),this.callback({...this.state,type:Oe.TARGET_NOT_FOUND,step:E}));const T={...this.state,index:o,step:E};if(x("action",[te.NEXT,te.PREV,te.SKIP,te.CLOSE])&&x("status",J.PAUSED)){const S=dt(this.props,u[t.index]);this.callback({...T,index:t.index,lifecycle:V.COMPLETE,step:S,type:Oe.STEP_AFTER})}if(x("status",[J.FINISHED,J.SKIPPED])){const S=dt(this.props,u[t.index]);r||this.callback({...T,index:t.index,lifecycle:V.COMPLETE,step:S,type:Oe.STEP_AFTER}),this.callback({...T,type:Oe.TOUR_END,step:S,index:t.index}),f()}else w("status",[J.IDLE,J.READY],J.RUNNING)?this.callback({...T,type:Oe.TOUR_START}):(x("status")||x("action",te.RESET))&&this.callback({...T,type:Oe.TOUR_STATUS});this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:n,status:r}=this.state,{debug:o,disableScrollParentFix:i=!1,scrollDuration:s,scrollOffset:a=20,scrollToFirstStep:l=!1,steps:u}=this.props,d=dt(this.props,u[t]),c=Be(d.target),f=Lh({isFirstStep:t===0,lifecycle:n,previousLifecycle:e.lifecycle,scrollToFirstStep:l,step:d,target:c});if(r===J.RUNNING&&f){const m=_n(c,i),g=Ut(c,i);let b=Math.floor(Th(c,a,i))||0;it({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:n},{key:"status",value:r}],debug:o});const v=this.store.getPopper("beacon"),y=this.store.getPopper("tooltip");if(n===V.BEACON&&v){const{offsets:x,placement:w}=v;!["bottom"].includes(w)&&!m&&(b=Math.floor(x.popper.top-a))}else if(n===V.TOOLTIP&&y){const{flipped:x,offsets:w,placement:E}=y;["top","right","left"].includes(E)&&!x&&!m?b=Math.floor(w.popper.top-a):b-=d.spotlightPadding}b=b>=0?b:0,r===J.RUNNING&&Mh(b,{element:g,duration:s}).then(()=>{setTimeout(()=>{var x;(x=this.store.getPopper("tooltip"))==null||x.instance.update()},10)})}}render(){if(!Ye())return null;const{index:e,lifecycle:t,status:n}=this.state,{continuous:r=!1,debug:o=!1,nonce:i,scrollToFirstStep:s=!1,steps:a}=this.props,l=n===J.RUNNING,u={};if(l&&a[e]){const d=dt(this.props,a[e]);u.step=h.createElement(nm,{...this.state,callback:this.callback,continuous:r,debug:o,helpers:this.helpers,nonce:i,shouldScroll:!d.disableScrolling&&(e!==0||s),step:d,store:this.store}),u.overlay=h.createElement(Yh,{id:"react-joyride-portal"},h.createElement(Kh,{...d,continuous:r,debug:o,lifecycle:t,onClickOverlay:this.handleClickOverlay}))}return h.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};L(Ua,"defaultProps",zh);var rm=Ua;function om({onClose:e}){const t=[{title:"Welcome to our game!",content:"This is a short tutorial to help you get started.",target:"#reset-level",placement:"center",disableBeacon:!0},{title:"The Game Window!",content:"This is the game window which shows your character and the game world. Here you'll be able to test all the features you implemented in the node editor.",target:"#game-panel",disableBeacon:!0},{title:"The Node Editor!",content:"This is the node editor where you can create and edit your game logic. Everything you create here will be executed in the game window.",target:"#nodes-panel",disableBeacon:!0},{title:"Add Nodes!",content:"You can add nodes to the editor by right-clicking on the canvas. Each node represents a specific action or condition in your game logic.",target:"#nodes-panel",disableBeacon:!0},{title:"Add more Nodes!",content:"You can also add nodes by clicking the plus icon in the top right corner of the node editor. This will open the same menu as right-clicking on the canvas.",target:"#add-nodes",disableBeacon:!0},{title:"Export Flow!",content:"Once you have created your game logic, you can export it to the game window by connecting your node tree(s) to the export node(s). This will allow you to test your logic in the game.",target:"#nodes-panel",placement:"center",disableBeacon:!0},{title:"Hints!",content:"Here you can find hints and get a full solution to the current level if you are stuck. Remember, there is also a question mark icon in the right corner of each node that provides additional information about the node's functionality.",target:"#help-menu",disableBeacon:!0},{title:"Reset!",content:"Be careful with this button! It will reset the whole level and all your nodes will be deleted.",target:"#reset-level",disableBeacon:!0},{title:"Navigation!",content:"Use these buttons to navigate in between the different levels of the game. You can also use the home button to return to the main menu.",target:"#center-panel",disableBeacon:!0}],n=r=>{r.status,(r.status==="finished"||r.status==="skipped")&&e()};return p.jsx(rm,{steps:t,tooltipComponent:im,continuous:!0,callback:n,styles:{spotlight:{border:"2px solid var(--color-blue-200)"}},floaterProps:{styles:{arrow:{color:"var(--color-blue-300)"}}}})}function im({backProps:e,closeProps:t,index:n,primaryProps:r,skipProps:o,isLastStep:i,step:s,tooltipProps:a,size:l}){return p.jsxs("div",{className:"z-[10001] max-w-2xl rounded-lg border-2 border-blue-300 bg-slate-800/90 p-8 font-mono text-white shadow-lg",...a,children:[p.jsx("h1",{className:"mb-2 text-2xl font-bold",children:s.title}),p.jsx("div",{className:"mb-4",children:s.content}),(n===0||i)&&p.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",onChange:u=>localStorage.setItem("hideTutorial",u.target.checked.toString()),id:"dontShowAgain"}),p.jsx("label",{htmlFor:"dontShowAgain",className:"select-none",children:"Don't show again"})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[n+1," / ",l]}),p.jsxs("div",{className:"flex justify-end gap-5",children:[n===0&&p.jsx("button",{className:"cursor-pointer rounded-lg bg-slate-700 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",...o,children:"Skip"}),p.jsx("button",{disabled:n===0,className:"rounded-lg bg-slate-700 px-3 py-2 focus:outline-1 focus:outline-blue-300"+(n===0?" opacity-50":" cursor-pointer hover:bg-slate-600"),...e,children:"Back"}),i?p.jsx("button",{className:"cursor-pointer rounded-lg bg-slate-700 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",...t,children:"Start"}):p.jsx("button",{className:"cursor-pointer rounded-lg bg-slate-700 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",autoFocus:n===0,...r,children:"Next"})]})]})]})}const sm=({params:e})=>{const t=h.useRef(null),n=e.id||"calculator";if(!(n in Le))throw new Error(`Level ${n} not found`);const[r,o]=h.useState(!JSON.parse(localStorage.getItem("hideTutorial")??"false")),[i,s]=h.useState(!r);return h.useEffect(()=>{if(!t.current)return;ge.init(),ml(t.current),bc(n);const a=setInterval(()=>{st.getState().save(),He.getState().save(),zt.getState().save(),qe.getState().save()},1e3);return()=>{gl(),clearInterval(a),s(!0),ge.cleanup()}},[n]),p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"absolute top-0 left-0 z-10 h-full w-full bg-slate-900 p-8 text-center md:hidden",children:p.jsx("div",{className:"flex h-full w-full items-center justify-center",children:p.jsx("h1",{className:"text-2xl font-bold text-white",children:"Please use a desktop browser to play the game."})})}),r&&p.jsx(om,{onClose:()=>o(!1)}),p.jsx(ls,{open:!r&&i,onOpenChange:s}),p.jsx(Mf,{open:!r&&!i}),p.jsx(jf,{}),p.jsxs(Di,{direction:"horizontal",children:[p.jsx(Qn,{id:"game-panel",minSize:25,order:1,children:p.jsx("canvas",{id:"game-canvas",ref:t,className:"w-1/2"})}),p.jsx(Fi,{className:"flex w-2 items-center justify-center bg-slate-800",children:p.jsx(ul,{width:32,height:32,className:"scale-125 text-slate-400"})}),p.jsx(Qn,{id:"nodes-panel",minSize:25,order:2,children:p.jsx(Tf,{})})]})]})},vm=Ya(sm);export{vm as default};
