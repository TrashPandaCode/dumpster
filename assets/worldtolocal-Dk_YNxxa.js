import{o as e}from"./chunk-AYJ5UCUI-BS9SflA5.js";const c={title:"World To Local"};function l(a){const s={annotation:"annotation",em:"em",h1:"h1",h2:"h2",li:"li",math:"math",mi:"mi",mo:"mo",mrow:"mrow",mspace:"mspace",mtext:"mtext",ol:"ol",p:"p",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...a.components},{DocsNodeEditor:n}=s;return n||m("DocsNodeEditor"),e.jsxs(e.Fragment,{children:[e.jsx(s.h1,{children:"World To Local"}),`
`,e.jsxs(s.p,{children:["The ",e.jsx(s.em,{children:"World To Local"})," node transforms a point from world space into a local coordinate system defined by an origin and a rotation."]}),`
`,e.jsx(s.h2,{children:"Properties"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"x"}),": The local-space X coordinate (output)."]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"y"}),": The local-space Y coordinate (output)."]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"Point X"}),": The world-space X coordinate of the point to transform."]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"Point Y"}),": The world-space Y coordinate of the point to transform."]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"Origin X"}),": The world-space X position of the origin."]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"Origin Y"}),": The world-space Y position of the origin."]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"Origin Rot"}),": The world-space rotation (in radians) of the origin."]}),`
`]}),`
`,e.jsx(s.h2,{children:"Transformation"}),`
`,e.jsx(s.p,{children:"The transformation involves:"}),`
`,e.jsxs(s.ol,{children:[`
`,e.jsxs(s.li,{children:[`
`,e.jsxs(s.p,{children:[e.jsx(s.strong,{children:"Translation"}),": Move the point relative to the origin:"]}),`
`,e.jsx(s.span,{className:"katex-display",children:e.jsxs(s.span,{className:"katex",children:[e.jsx(s.span,{className:"katex-mathml",children:e.jsx(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:e.jsxs(s.semantics,{children:[e.jsxs(s.mrow,{children:[e.jsx(s.mi,{children:"d"}),e.jsx(s.mi,{children:"x"}),e.jsx(s.mo,{children:"="}),e.jsx(s.mi,{children:"p"}),e.jsx(s.mi,{children:"x"}),e.jsx(s.mo,{children:"−"}),e.jsx(s.mi,{children:"o"}),e.jsx(s.mi,{children:"x"}),e.jsx(s.mspace,{linebreak:"newline"}),e.jsx(s.mi,{children:"d"}),e.jsx(s.mi,{children:"y"}),e.jsx(s.mo,{children:"="}),e.jsx(s.mi,{children:"p"}),e.jsx(s.mi,{children:"y"}),e.jsx(s.mo,{children:"−"}),e.jsx(s.mi,{children:"o"}),e.jsx(s.mi,{children:"y"})]}),e.jsx(s.annotation,{encoding:"application/x-tex",children:`dx = px - ox \\\\
dy = py - oy`})]})})}),e.jsxs(s.span,{className:"katex-html","aria-hidden":"true",children:[e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.6944em"}}),e.jsx(s.span,{className:"mord mathnormal",children:"d"}),e.jsx(s.span,{className:"mord mathnormal",children:"x"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),e.jsx(s.span,{className:"mrel",children:"="}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.7778em",verticalAlign:"-0.1944em"}}),e.jsx(s.span,{className:"mord mathnormal",children:"p"}),e.jsx(s.span,{className:"mord mathnormal",children:"x"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),e.jsx(s.span,{className:"mbin",children:"−"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.4306em"}}),e.jsx(s.span,{className:"mord mathnormal",children:"o"}),e.jsx(s.span,{className:"mord mathnormal",children:"x"})]}),e.jsx(s.span,{className:"mspace newline"}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),e.jsx(s.span,{className:"mord mathnormal",children:"d"}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),e.jsx(s.span,{className:"mrel",children:"="}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.7778em",verticalAlign:"-0.1944em"}}),e.jsx(s.span,{className:"mord mathnormal",children:"p"}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),e.jsx(s.span,{className:"mbin",children:"−"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"oy"})]})]})]})}),`
`]}),`
`,e.jsxs(s.li,{children:[`
`,e.jsxs(s.p,{children:[e.jsx(s.strong,{children:"Rotation"}),": Negate the origin rotation:"]}),`
`,e.jsx(s.span,{className:"katex-display",children:e.jsxs(s.span,{className:"katex",children:[e.jsx(s.span,{className:"katex-mathml",children:e.jsx(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:e.jsxs(s.semantics,{children:[e.jsxs(s.mrow,{children:[e.jsx(s.mi,{children:"θ"}),e.jsx(s.mo,{children:"="}),e.jsx(s.mo,{children:"−"}),e.jsx(s.mtext,{children:"Origin Rot"})]}),e.jsx(s.annotation,{encoding:"application/x-tex",children:"\\theta = -\\text{Origin Rot}"})]})})}),e.jsxs(s.span,{className:"katex-html","aria-hidden":"true",children:[e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.6944em"}}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"θ"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),e.jsx(s.span,{className:"mrel",children:"="}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),e.jsx(s.span,{className:"mord",children:"−"}),e.jsx(s.span,{className:"mord text",children:e.jsx(s.span,{className:"mord",children:"Origin Rot"})})]})]})]})}),`
`]}),`
`]}),`
`,e.jsx(s.p,{children:"This happens because the world coordinate system has the y-axis pointing down."}),`
`,e.jsxs(s.ol,{start:"3",children:[`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"Compute Local Coordinates"}),":",`
`,e.jsx(s.span,{className:"katex-display",children:e.jsxs(s.span,{className:"katex",children:[e.jsx(s.span,{className:"katex-mathml",children:e.jsx(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:e.jsxs(s.semantics,{children:[e.jsxs(s.mrow,{children:[e.jsx(s.mi,{children:"x"}),e.jsx(s.mo,{children:"="}),e.jsx(s.mi,{children:"d"}),e.jsx(s.mi,{children:"x"}),e.jsx(s.mo,{children:"⋅"}),e.jsx(s.mi,{children:"cos"}),e.jsx(s.mo,{children:"⁡"}),e.jsx(s.mo,{stretchy:"false",children:"("}),e.jsx(s.mi,{children:"θ"}),e.jsx(s.mo,{stretchy:"false",children:")"}),e.jsx(s.mo,{children:"−"}),e.jsx(s.mi,{children:"d"}),e.jsx(s.mi,{children:"y"}),e.jsx(s.mo,{children:"⋅"}),e.jsx(s.mi,{children:"sin"}),e.jsx(s.mo,{children:"⁡"}),e.jsx(s.mo,{stretchy:"false",children:"("}),e.jsx(s.mi,{children:"θ"}),e.jsx(s.mo,{stretchy:"false",children:")"}),e.jsx(s.mspace,{linebreak:"newline"}),e.jsx(s.mi,{children:"y"}),e.jsx(s.mo,{children:"="}),e.jsx(s.mi,{children:"d"}),e.jsx(s.mi,{children:"x"}),e.jsx(s.mo,{children:"⋅"}),e.jsx(s.mi,{children:"sin"}),e.jsx(s.mo,{children:"⁡"}),e.jsx(s.mo,{stretchy:"false",children:"("}),e.jsx(s.mi,{children:"θ"}),e.jsx(s.mo,{stretchy:"false",children:")"}),e.jsx(s.mo,{children:"+"}),e.jsx(s.mi,{children:"d"}),e.jsx(s.mi,{children:"y"}),e.jsx(s.mo,{children:"⋅"}),e.jsx(s.mi,{children:"cos"}),e.jsx(s.mo,{children:"⁡"}),e.jsx(s.mo,{stretchy:"false",children:"("}),e.jsx(s.mi,{children:"θ"}),e.jsx(s.mo,{stretchy:"false",children:")"})]}),e.jsx(s.annotation,{encoding:"application/x-tex",children:`x = dx \\cdot \\cos(\\theta) - dy \\cdot \\sin(\\theta) \\\\
y = dx \\cdot \\sin(\\theta) + dy \\cdot \\cos(\\theta)`})]})})}),e.jsxs(s.span,{className:"katex-html","aria-hidden":"true",children:[e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.4306em"}}),e.jsx(s.span,{className:"mord mathnormal",children:"x"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),e.jsx(s.span,{className:"mrel",children:"="}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.6944em"}}),e.jsx(s.span,{className:"mord mathnormal",children:"d"}),e.jsx(s.span,{className:"mord mathnormal",children:"x"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),e.jsx(s.span,{className:"mbin",children:"⋅"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),e.jsx(s.span,{className:"mop",children:"cos"}),e.jsx(s.span,{className:"mopen",children:"("}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"θ"}),e.jsx(s.span,{className:"mclose",children:")"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),e.jsx(s.span,{className:"mbin",children:"−"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),e.jsx(s.span,{className:"mord mathnormal",children:"d"}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),e.jsx(s.span,{className:"mbin",children:"⋅"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),e.jsx(s.span,{className:"mop",children:"sin"}),e.jsx(s.span,{className:"mopen",children:"("}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"θ"}),e.jsx(s.span,{className:"mclose",children:")"})]}),e.jsx(s.span,{className:"mspace newline"}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),e.jsx(s.span,{className:"mrel",children:"="}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.6944em"}}),e.jsx(s.span,{className:"mord mathnormal",children:"d"}),e.jsx(s.span,{className:"mord mathnormal",children:"x"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),e.jsx(s.span,{className:"mbin",children:"⋅"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),e.jsx(s.span,{className:"mop",children:"sin"}),e.jsx(s.span,{className:"mopen",children:"("}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"θ"}),e.jsx(s.span,{className:"mclose",children:")"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),e.jsx(s.span,{className:"mbin",children:"+"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),e.jsx(s.span,{className:"mord mathnormal",children:"d"}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),e.jsx(s.span,{className:"mbin",children:"⋅"}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),e.jsx(s.span,{className:"mop",children:"cos"}),e.jsx(s.span,{className:"mopen",children:"("}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"θ"}),e.jsx(s.span,{className:"mclose",children:")"})]})]})]})}),`
`]}),`
`]}),`
`,e.jsx(s.p,{children:"Where:"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:[e.jsxs(s.span,{className:"katex",children:[e.jsx(s.span,{className:"katex-mathml",children:e.jsx(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:e.jsxs(s.semantics,{children:[e.jsxs(s.mrow,{children:[e.jsx(s.mo,{stretchy:"false",children:"("}),e.jsx(s.mi,{children:"p"}),e.jsx(s.mi,{children:"x"}),e.jsx(s.mo,{separator:"true",children:","}),e.jsx(s.mi,{children:"p"}),e.jsx(s.mi,{children:"y"}),e.jsx(s.mo,{stretchy:"false",children:")"})]}),e.jsx(s.annotation,{encoding:"application/x-tex",children:"(px, py)"})]})})}),e.jsx(s.span,{className:"katex-html","aria-hidden":"true",children:e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),e.jsx(s.span,{className:"mopen",children:"("}),e.jsx(s.span,{className:"mord mathnormal",children:"p"}),e.jsx(s.span,{className:"mord mathnormal",children:"x"}),e.jsx(s.span,{className:"mpunct",children:","}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),e.jsx(s.span,{className:"mord mathnormal",children:"p"}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),e.jsx(s.span,{className:"mclose",children:")"})]})})]})," is the point in world space."]}),`
`,e.jsxs(s.li,{children:[e.jsxs(s.span,{className:"katex",children:[e.jsx(s.span,{className:"katex-mathml",children:e.jsx(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:e.jsxs(s.semantics,{children:[e.jsxs(s.mrow,{children:[e.jsx(s.mo,{stretchy:"false",children:"("}),e.jsx(s.mi,{children:"o"}),e.jsx(s.mi,{children:"x"}),e.jsx(s.mo,{separator:"true",children:","}),e.jsx(s.mi,{children:"o"}),e.jsx(s.mi,{children:"y"}),e.jsx(s.mo,{stretchy:"false",children:")"})]}),e.jsx(s.annotation,{encoding:"application/x-tex",children:"(ox, oy)"})]})})}),e.jsx(s.span,{className:"katex-html","aria-hidden":"true",children:e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),e.jsx(s.span,{className:"mopen",children:"("}),e.jsx(s.span,{className:"mord mathnormal",children:"o"}),e.jsx(s.span,{className:"mord mathnormal",children:"x"}),e.jsx(s.span,{className:"mpunct",children:","}),e.jsx(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"oy"}),e.jsx(s.span,{className:"mclose",children:")"})]})})]})," is the origin."]}),`
`,e.jsxs(s.li,{children:[e.jsxs(s.span,{className:"katex",children:[e.jsx(s.span,{className:"katex-mathml",children:e.jsx(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:e.jsxs(s.semantics,{children:[e.jsx(s.mrow,{children:e.jsx(s.mi,{children:"θ"})}),e.jsx(s.annotation,{encoding:"application/x-tex",children:"\\theta"})]})})}),e.jsx(s.span,{className:"katex-html","aria-hidden":"true",children:e.jsxs(s.span,{className:"base",children:[e.jsx(s.span,{className:"strut",style:{height:"0.6944em"}}),e.jsx(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"θ"})]})})]})," is the negative of the origin's rotation angle."]}),`
`]}),`
`,e.jsx(n,{type:"WorldToLocal"})]})}function r(a={}){const{wrapper:s}=a.components||{};return s?e.jsx(s,{...a,children:e.jsx(l,{...a})}):l(a)}function m(a,s){throw new Error("Expected component `"+a+"` to be defined: you likely forgot to import, pass, or provide it.")}export{r as default,c as frontmatter};
