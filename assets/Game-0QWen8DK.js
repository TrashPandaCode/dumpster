import{w as Nl}from"./with-props-BvcJqoSY.js";import{a as d,t as Rl,o as f,s as B,N as Et,v as jn}from"./chunk-AYJ5UCUI-BS9SflA5.js";import{c as Kt,A as Il,H as Tl,a as jl,b as dt,u as pe,d as Ue,e as qt,f as Mn,g as xn,h as q,P as ft,i as ss,R as is,j as Ml,k as as,l as Al,m as _l,n as kl,T as Ll,o as Dl,p as ro,q as Fl,r as nn,s as $l,Q as zl,_ as Se,t as Hl,v as Bl,w as Wl,D as Gl}from"./index-BvJ9-75e.js";import{u as ce,a as pt,b as He,c as Be,L as ye,d as ls,v as ur,e as Ul,t as Vl,T as Kl,g as oo,i as ql,f as Yl}from"./levels-DtUqQQzV.js";import{u as Yt,g as Xl,a as Ee,B as Jl,E as Zl,T as cs,b as us,c as ds,P as An,d as Cr,e as fs,o as ps,s as hs,f as ms,h as gs,i as vs,j as ys,l as bs,k as xs,m as ws,n as Es,M as so,p as Ql,I as Xe,q as Cs,r as Ss,t as ec,v as tc,w as Ps,x as Os,y as dr,z as wn,N as Ns,A as Rs,C as En,D as Is,L as Ts,F as nc,G as rc,H as oc,J as sc,K as ic,S as ac,W as lc,O as cc,Q as uc,R as dc,U as fc,V as pc,X as hc,Y as mc,Z as gc,_ as vc,$ as yc,a0 as T}from"./WorldToLocal-DnCJWiGD.js";import{P as Ve,a as bc,F as xc,D as wc,b as js,c as Ec,d as Ms,e as Cc,f as As,g as _s,h as ks,i as Gt}from"./index-DGjER50n.js";import{a as Ut,R as Vt}from"./index-Bls3tRF3.js";const _n=d.createContext(null);_n.displayName="PanelGroupContext";const ae={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Sr=10,lt=d.useLayoutEffect,io=Rl.useId,Sc=typeof io=="function"?io:()=>null;let Pc=0;function Pr(e=null){const t=Sc(),n=d.useRef(e||t||null);return n.current===null&&(n.current=""+Pc++),e??n.current}function Ls({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:o,forwardedRef:s,id:i,maxSize:a,minSize:l,onCollapse:u,onExpand:p,onResize:c,order:h,style:g,tagName:m="div",...v}){const w=d.useContext(_n);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:y,expandPanel:b,getPanelSize:E,getPanelStyle:C,groupId:x,isPanelCollapsed:S,reevaluatePanelConstraints:O,registerPanel:I,resizePanel:R,unregisterPanel:P}=w,j=Pr(i),M=d.useRef({callbacks:{onCollapse:u,onExpand:p,onResize:c},constraints:{collapsedSize:n,collapsible:r,defaultSize:o,maxSize:a,minSize:l},id:j,idIsFromProps:i!==void 0,order:h});d.useRef({didLogMissingDefaultSizeWarning:!1}),lt(()=>{const{callbacks:K,constraints:G}=M.current,J={...G};M.current.id=j,M.current.idIsFromProps=i!==void 0,M.current.order=h,K.onCollapse=u,K.onExpand=p,K.onResize=c,G.collapsedSize=n,G.collapsible=r,G.defaultSize=o,G.maxSize=a,G.minSize=l,(J.collapsedSize!==G.collapsedSize||J.collapsible!==G.collapsible||J.maxSize!==G.maxSize||J.minSize!==G.minSize)&&O(M.current,J)}),lt(()=>{const K=M.current;return I(K),()=>{P(K)}},[h,j,I,P]),d.useImperativeHandle(s,()=>({collapse:()=>{y(M.current)},expand:K=>{b(M.current,K)},getId(){return j},getSize(){return E(M.current)},isCollapsed(){return S(M.current)},isExpanded(){return!S(M.current)},resize:K=>{R(M.current,K)}}),[y,b,E,S,j,R]);const X=C(M.current,o);return d.createElement(m,{...v,children:e,className:t,id:j,style:{...X,...g},[ae.groupId]:x,[ae.panel]:"",[ae.panelCollapsible]:r||void 0,[ae.panelId]:j,[ae.panelSize]:parseFloat(""+X.flexGrow).toFixed(1)})}const fr=d.forwardRef((e,t)=>d.createElement(Ls,{...e,forwardedRef:t}));Ls.displayName="Panel";fr.displayName="forwardRef(Panel)";let pr=null,vn=-1,Je=null;function Oc(e,t){if(t){const n=(t&Hs)!==0,r=(t&Bs)!==0,o=(t&Ws)!==0,s=(t&Gs)!==0;if(n)return o?"se-resize":s?"ne-resize":"e-resize";if(r)return o?"sw-resize":s?"nw-resize":"w-resize";if(o)return"s-resize";if(s)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Nc(){Je!==null&&(document.head.removeChild(Je),pr=null,Je=null,vn=-1)}function Vn(e,t){var n,r;const o=Oc(e,t);if(pr!==o){if(pr=o,Je===null&&(Je=document.createElement("style"),document.head.appendChild(Je)),vn>=0){var s;(s=Je.sheet)===null||s===void 0||s.removeRule(vn)}vn=(n=(r=Je.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${o} !important;}`))!==null&&n!==void 0?n:-1}}function Ds(e){return e.type==="keydown"}function Fs(e){return e.type.startsWith("pointer")}function $s(e){return e.type.startsWith("mouse")}function kn(e){if(Fs(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if($s(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Rc(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Ic(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Tc(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:co(e),b:co(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;Y(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:lo(ao(n.a)),b:lo(ao(n.b))};if(o.a===o.b){const s=r.childNodes,i={a:n.a.at(-1),b:n.b.at(-1)};let a=s.length;for(;a--;){const l=s[a];if(l===i.a)return 1;if(l===i.b)return-1}}return Math.sign(o.a-o.b)}const jc=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Mc(e){var t;const n=getComputedStyle((t=zs(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function Ac(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Mc(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||jc.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function ao(e){let t=e.length;for(;t--;){const n=e[t];if(Y(n,"Missing node"),Ac(n))return n}return null}function lo(e){return e&&Number(getComputedStyle(e).zIndex)||0}function co(e){const t=[];for(;e;)t.push(e),e=zs(e);return t}function zs(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Hs=1,Bs=2,Ws=4,Gs=8,_c=Rc()==="coarse";let Te=[],Ct=!1,it=new Map,Ln=new Map;const Xt=new Set;function kc(e,t,n,r,o){var s;const{ownerDocument:i}=t,a={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:o},l=(s=it.get(i))!==null&&s!==void 0?s:0;return it.set(i,l+1),Xt.add(a),Cn(),function(){var p;Ln.delete(e),Xt.delete(a);const c=(p=it.get(i))!==null&&p!==void 0?p:1;if(it.set(i,c-1),Cn(),c===1&&it.delete(i),Te.includes(a)){const h=Te.indexOf(a);h>=0&&Te.splice(h,1),Nr(),o("up",!0,null)}}}function Lc(e){const{target:t}=e,{x:n,y:r}=kn(e);Ct=!0,Or({target:t,x:n,y:r}),Cn(),Te.length>0&&(Sn("down",e),e.preventDefault(),Us(t)||e.stopImmediatePropagation())}function Kn(e){const{x:t,y:n}=kn(e);if(Ct&&e.buttons===0&&(Ct=!1,Sn("up",e)),!Ct){const{target:r}=e;Or({target:r,x:t,y:n})}Sn("move",e),Nr(),Te.length>0&&e.preventDefault()}function qn(e){const{target:t}=e,{x:n,y:r}=kn(e);Ln.clear(),Ct=!1,Te.length>0&&(e.preventDefault(),Us(t)||e.stopImmediatePropagation()),Sn("up",e),Or({target:t,x:n,y:r}),Nr(),Cn()}function Us(e){let t=e;for(;t;){if(t.hasAttribute(ae.resizeHandle))return!0;t=t.parentElement}return!1}function Or({target:e,x:t,y:n}){Te.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Xt.forEach(o=>{const{element:s,hitAreaMargins:i}=o,a=s.getBoundingClientRect(),{bottom:l,left:u,right:p,top:c}=a,h=_c?i.coarse:i.fine;if(t>=u-h&&t<=p+h&&n>=c-h&&n<=l+h){if(r!==null&&document.contains(r)&&s!==r&&!s.contains(r)&&!r.contains(s)&&Tc(r,s)>0){let m=r,v=!1;for(;m&&!m.contains(s);){if(Ic(m.getBoundingClientRect(),a)){v=!0;break}m=m.parentElement}if(v)return}Te.push(o)}})}function Yn(e,t){Ln.set(e,t)}function Nr(){let e=!1,t=!1;Te.forEach(r=>{const{direction:o}=r;o==="horizontal"?e=!0:t=!0});let n=0;Ln.forEach(r=>{n|=r}),e&&t?Vn("intersection",n):e?Vn("horizontal",n):t?Vn("vertical",n):Nc()}let Xn=new AbortController;function Cn(){Xn.abort(),Xn=new AbortController;const e={capture:!0,signal:Xn.signal};Xt.size&&(Ct?(Te.length>0&&it.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",qn,e),r.addEventListener("pointerleave",Kn,e),r.addEventListener("pointermove",Kn,e))}),window.addEventListener("pointerup",qn,e),window.addEventListener("pointercancel",qn,e)):it.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",Lc,e),r.addEventListener("pointermove",Kn,e))}))}function Sn(e,t){Xt.forEach(n=>{const{setResizeHandlerState:r}=n,o=Te.includes(n);r(e,o,t)})}function Dc(){const[e,t]=d.useState(0);return d.useCallback(()=>t(n=>n+1),[])}function Y(e,t){if(!e)throw console.error(t),Error(t)}function ct(e,t,n=Sr){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function ze(e,t,n=Sr){return ct(e,t,n)===0}function we(e,t,n){return ct(e,t,n)===0}function Fc(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const o=e[r],s=t[r];if(!we(o,s,n))return!1}return!0}function wt({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];Y(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:o=0,collapsible:s,maxSize:i=100,minSize:a=0}=r;if(ct(n,a)<0)if(s){const l=(o+a)/2;ct(n,l)<0?n=o:n=a}else n=a;return n=Math.min(i,n),n=parseFloat(n.toFixed(Sr)),n}function Ht({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:o,trigger:s}){if(we(e,0))return t;const i=[...t],[a,l]=r;Y(a!=null,"Invalid first pivot index"),Y(l!=null,"Invalid second pivot index");let u=0;if(s==="keyboard"){{const c=e<0?l:a,h=n[c];Y(h,`Panel constraints not found for index ${c}`);const{collapsedSize:g=0,collapsible:m,minSize:v=0}=h;if(m){const w=t[c];if(Y(w!=null,`Previous layout not found for panel index ${c}`),we(w,g)){const y=v-w;ct(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}{const c=e<0?a:l,h=n[c];Y(h,`No panel constraints found for index ${c}`);const{collapsedSize:g=0,collapsible:m,minSize:v=0}=h;if(m){const w=t[c];if(Y(w!=null,`Previous layout not found for panel index ${c}`),we(w,v)){const y=w-g;ct(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}}{const c=e<0?1:-1;let h=e<0?l:a,g=0;for(;;){const v=t[h];Y(v!=null,`Previous layout not found for panel index ${h}`);const y=wt({panelConstraints:n,panelIndex:h,size:100})-v;if(g+=y,h+=c,h<0||h>=n.length)break}const m=Math.min(Math.abs(e),Math.abs(g));e=e<0?0-m:m}{let h=e<0?a:l;for(;h>=0&&h<n.length;){const g=Math.abs(e)-Math.abs(u),m=t[h];Y(m!=null,`Previous layout not found for panel index ${h}`);const v=m-g,w=wt({panelConstraints:n,panelIndex:h,size:v});if(!we(m,w)&&(u+=m-w,i[h]=w,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?h--:h++}}if(Fc(o,i))return o;{const c=e<0?l:a,h=t[c];Y(h!=null,`Previous layout not found for panel index ${c}`);const g=h+u,m=wt({panelConstraints:n,panelIndex:c,size:g});if(i[c]=m,!we(m,g)){let v=g-m,y=e<0?l:a;for(;y>=0&&y<n.length;){const b=i[y];Y(b!=null,`Previous layout not found for panel index ${y}`);const E=b+v,C=wt({panelConstraints:n,panelIndex:y,size:E});if(we(b,C)||(v-=C-b,i[y]=C),we(v,0))break;e>0?y--:y++}}}const p=i.reduce((c,h)=>h+c,0);return we(p,100)?i:o}function $c({layout:e,panelsArray:t,pivotIndices:n}){let r=0,o=100,s=0,i=0;const a=n[0];Y(a!=null,"No pivot index found"),t.forEach((c,h)=>{const{constraints:g}=c,{maxSize:m=100,minSize:v=0}=g;h===a?(r=v,o=m):(s+=v,i+=m)});const l=Math.min(o,100-s),u=Math.max(r,100-i),p=e[a];return{valueMax:l,valueMin:u,valueNow:p}}function Jt(e,t=document){return Array.from(t.querySelectorAll(`[${ae.resizeHandleId}][data-panel-group-id="${e}"]`))}function Vs(e,t,n=document){const o=Jt(e,n).findIndex(s=>s.getAttribute(ae.resizeHandleId)===t);return o??null}function Ks(e,t,n){const r=Vs(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function qs(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Dn(e,t=document){const n=t.querySelector(`[${ae.resizeHandleId}="${e}"]`);return n||null}function zc(e,t,n,r=document){var o,s,i,a;const l=Dn(t,r),u=Jt(e,r),p=l?u.indexOf(l):-1,c=(o=(s=n[p])===null||s===void 0?void 0:s.id)!==null&&o!==void 0?o:null,h=(i=(a=n[p+1])===null||a===void 0?void 0:a.id)!==null&&i!==void 0?i:null;return[c,h]}function Hc({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:o,panelGroupElement:s,setLayout:i}){d.useRef({didWarnAboutMissingResizeHandle:!1}),lt(()=>{if(!s)return;const a=Jt(n,s);for(let l=0;l<o.length-1;l++){const{valueMax:u,valueMin:p,valueNow:c}=$c({layout:r,panelsArray:o,pivotIndices:[l,l+1]}),h=a[l];if(h!=null){const g=o[l];Y(g,`No panel data found for index "${l}"`),h.setAttribute("aria-controls",g.id),h.setAttribute("aria-valuemax",""+Math.round(u)),h.setAttribute("aria-valuemin",""+Math.round(p)),h.setAttribute("aria-valuenow",c!=null?""+Math.round(c):"")}}return()=>{a.forEach((l,u)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,o,s]),d.useEffect(()=>{if(!s)return;const a=t.current;Y(a,"Eager values not found");const{panelDataArray:l}=a,u=qs(n,s);Y(u!=null,`No group found for id "${n}"`);const p=Jt(n,s);Y(p,`No resize handles found for group id "${n}"`);const c=p.map(h=>{const g=h.getAttribute(ae.resizeHandleId);Y(g,"Resize handle element has no handle id attribute");const[m,v]=zc(n,g,l,s);if(m==null||v==null)return()=>{};const w=y=>{if(!y.defaultPrevented)switch(y.key){case"Enter":{y.preventDefault();const b=l.findIndex(E=>E.id===m);if(b>=0){const E=l[b];Y(E,`No panel data found for index ${b}`);const C=r[b],{collapsedSize:x=0,collapsible:S,minSize:O=0}=E.constraints;if(C!=null&&S){const I=Ht({delta:we(C,x)?O-x:x-C,initialLayout:r,panelConstraints:l.map(R=>R.constraints),pivotIndices:Ks(n,g,s),prevLayout:r,trigger:"keyboard"});r!==I&&i(I)}}break}}};return h.addEventListener("keydown",w),()=>{h.removeEventListener("keydown",w)}});return()=>{c.forEach(h=>h())}},[s,e,t,n,r,o,i])}function uo(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ys(e,t){const n=e==="horizontal",{x:r,y:o}=kn(t);return n?r:o}function Bc(e,t,n,r,o){const s=n==="horizontal",i=Dn(t,o);Y(i,`No resize handle element found for id "${t}"`);const a=i.getAttribute(ae.groupId);Y(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const u=Ys(n,e),p=qs(a,o);Y(p,`No group element found for id "${a}"`);const c=p.getBoundingClientRect(),h=s?c.width:c.height;return(u-l)/h*100}function Wc(e,t,n,r,o,s){if(Ds(e)){const i=n==="horizontal";let a=0;e.shiftKey?a=100:o!=null?a=o:a=10;let l=0;switch(e.key){case"ArrowDown":l=i?0:a;break;case"ArrowLeft":l=i?-a:0;break;case"ArrowRight":l=i?a:0;break;case"ArrowUp":l=i?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:Bc(e,t,n,r,s)}function Gc({panelDataArray:e}){const t=Array(e.length),n=e.map(s=>s.constraints);let r=0,o=100;for(let s=0;s<e.length;s++){const i=n[s];Y(i,`Panel constraints not found for index ${s}`);const{defaultSize:a}=i;a!=null&&(r++,t[s]=a,o-=a)}for(let s=0;s<e.length;s++){const i=n[s];Y(i,`Panel constraints not found for index ${s}`);const{defaultSize:a}=i;if(a!=null)continue;const l=e.length-r,u=o/l;r++,t[s]=u,o-=u}return t}function yt(e,t,n){t.forEach((r,o)=>{const s=e[o];Y(s,`Panel data not found for index ${o}`);const{callbacks:i,constraints:a,id:l}=s,{collapsedSize:u=0,collapsible:p}=a,c=n[l];if(c==null||r!==c){n[l]=r;const{onCollapse:h,onExpand:g,onResize:m}=i;m&&m(r,c),p&&(h||g)&&(g&&(c==null||ze(c,u))&&!ze(r,u)&&g(),h&&(c==null||!ze(c,u))&&ze(r,u)&&h())}})}function mn(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Uc({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:o,precision:s=3}){const i=n[o];let a;return i==null?a=e!=null?e.toPrecision(s):"1":r.length===1?a="1":a=i.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Vc(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function fo(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Xs(e){return`react-resizable-panels:${e}`}function Js(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:o,order:s}=t;return o?r:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Zs(e,t){try{const n=Xs(e),r=t.getItem(n);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function Kc(e,t,n){var r,o;const s=(r=Zs(e,n))!==null&&r!==void 0?r:{},i=Js(t);return(o=s[i])!==null&&o!==void 0?o:null}function qc(e,t,n,r,o){var s;const i=Xs(e),a=Js(t),l=(s=Zs(e,o))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{o.setItem(i,JSON.stringify(l))}catch(u){console.error(u)}}function po({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((s,i)=>s+i,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!we(r,100)&&n.length>0)for(let s=0;s<t.length;s++){const i=n[s];Y(i!=null,`No layout data found for index ${s}`);const a=100/r*i;n[s]=a}let o=0;for(let s=0;s<t.length;s++){const i=n[s];Y(i!=null,`No layout data found for index ${s}`);const a=wt({panelConstraints:t,panelIndex:s,size:i});i!=a&&(o+=i-a,n[s]=a)}if(!we(o,0))for(let s=0;s<t.length;s++){const i=n[s];Y(i!=null,`No layout data found for index ${s}`);const a=i+o,l=wt({panelConstraints:t,panelIndex:s,size:a});if(i!==l&&(o-=l-i,n[s]=l,we(o,0)))break}return n}const Yc=100,Bt={getItem:e=>(fo(Bt),Bt.getItem(e)),setItem:(e,t)=>{fo(Bt),Bt.setItem(e,t)}},ho={};function Qs({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:o,id:s=null,onLayout:i=null,keyboardResizeBy:a=null,storage:l=Bt,style:u,tagName:p="div",...c}){const h=Pr(s),g=d.useRef(null),[m,v]=d.useState(null),[w,y]=d.useState([]),b=Dc(),E=d.useRef({}),C=d.useRef(new Map),x=d.useRef(0),S=d.useRef({autoSaveId:e,direction:r,dragState:m,id:h,keyboardResizeBy:a,onLayout:i,storage:l}),O=d.useRef({layout:w,panelDataArray:[],panelDataArrayChanged:!1});d.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),d.useImperativeHandle(o,()=>({getId:()=>S.current.id,getLayout:()=>{const{layout:_}=O.current;return _},setLayout:_=>{const{onLayout:z}=S.current,{layout:W,panelDataArray:F}=O.current,k=po({layout:_,panelConstraints:F.map(H=>H.constraints)});uo(W,k)||(y(k),O.current.layout=k,z&&z(k),yt(F,k,E.current))}}),[]),lt(()=>{S.current.autoSaveId=e,S.current.direction=r,S.current.dragState=m,S.current.id=h,S.current.onLayout=i,S.current.storage=l}),Hc({committedValuesRef:S,eagerValuesRef:O,groupId:h,layout:w,panelDataArray:O.current.panelDataArray,setLayout:y,panelGroupElement:g.current}),d.useEffect(()=>{const{panelDataArray:_}=O.current;if(e){if(w.length===0||w.length!==_.length)return;let z=ho[e];z==null&&(z=Vc(qc,Yc),ho[e]=z);const W=[..._],F=new Map(C.current);z(e,W,F,w,l)}},[e,w,l]),d.useEffect(()=>{});const I=d.useCallback(_=>{const{onLayout:z}=S.current,{layout:W,panelDataArray:F}=O.current;if(_.constraints.collapsible){const k=F.map(he=>he.constraints),{collapsedSize:H=0,panelSize:U,pivotIndices:ne}=st(F,_,W);if(Y(U!=null,`Panel size not found for panel "${_.id}"`),!ze(U,H)){C.current.set(_.id,U);const me=xt(F,_)===F.length-1?U-H:H-U,Q=Ht({delta:me,initialLayout:W,panelConstraints:k,pivotIndices:ne,prevLayout:W,trigger:"imperative-api"});mn(W,Q)||(y(Q),O.current.layout=Q,z&&z(Q),yt(F,Q,E.current))}}},[]),R=d.useCallback((_,z)=>{const{onLayout:W}=S.current,{layout:F,panelDataArray:k}=O.current;if(_.constraints.collapsible){const H=k.map(fe=>fe.constraints),{collapsedSize:U=0,panelSize:ne=0,minSize:he=0,pivotIndices:me}=st(k,_,F),Q=z??he;if(ze(ne,U)){const fe=C.current.get(_.id),Fe=fe!=null&&fe>=Q?fe:Q,ot=xt(k,_)===k.length-1?ne-Fe:Fe-ne,de=Ht({delta:ot,initialLayout:F,panelConstraints:H,pivotIndices:me,prevLayout:F,trigger:"imperative-api"});mn(F,de)||(y(de),O.current.layout=de,W&&W(de),yt(k,de,E.current))}}},[]),P=d.useCallback(_=>{const{layout:z,panelDataArray:W}=O.current,{panelSize:F}=st(W,_,z);return Y(F!=null,`Panel size not found for panel "${_.id}"`),F},[]),j=d.useCallback((_,z)=>{const{panelDataArray:W}=O.current,F=xt(W,_);return Uc({defaultSize:z,dragState:m,layout:w,panelData:W,panelIndex:F})},[m,w]),M=d.useCallback(_=>{const{layout:z,panelDataArray:W}=O.current,{collapsedSize:F=0,collapsible:k,panelSize:H}=st(W,_,z);return Y(H!=null,`Panel size not found for panel "${_.id}"`),k===!0&&ze(H,F)},[]),X=d.useCallback(_=>{const{layout:z,panelDataArray:W}=O.current,{collapsedSize:F=0,collapsible:k,panelSize:H}=st(W,_,z);return Y(H!=null,`Panel size not found for panel "${_.id}"`),!k||ct(H,F)>0},[]),K=d.useCallback(_=>{const{panelDataArray:z}=O.current;z.push(_),z.sort((W,F)=>{const k=W.order,H=F.order;return k==null&&H==null?0:k==null?-1:H==null?1:k-H}),O.current.panelDataArrayChanged=!0,b()},[b]);lt(()=>{if(O.current.panelDataArrayChanged){O.current.panelDataArrayChanged=!1;const{autoSaveId:_,onLayout:z,storage:W}=S.current,{layout:F,panelDataArray:k}=O.current;let H=null;if(_){const ne=Kc(_,k,W);ne&&(C.current=new Map(Object.entries(ne.expandToSizes)),H=ne.layout)}H==null&&(H=Gc({panelDataArray:k}));const U=po({layout:H,panelConstraints:k.map(ne=>ne.constraints)});uo(F,U)||(y(U),O.current.layout=U,z&&z(U),yt(k,U,E.current))}}),lt(()=>{const _=O.current;return()=>{_.layout=[]}},[]);const G=d.useCallback(_=>{let z=!1;const W=g.current;return W&&window.getComputedStyle(W,null).getPropertyValue("direction")==="rtl"&&(z=!0),function(k){k.preventDefault();const H=g.current;if(!H)return()=>null;const{direction:U,dragState:ne,id:he,keyboardResizeBy:me,onLayout:Q}=S.current,{layout:fe,panelDataArray:Fe}=O.current,{initialLayout:qe}=ne??{},ot=Ks(he,_,H);let de=Wc(k,_,U,ne,me,H);const Ce=U==="horizontal";Ce&&z&&(de=-de);const Pl=Fe.map(Ol=>Ol.constraints),kt=Ht({delta:de,initialLayout:qe??fe,panelConstraints:Pl,pivotIndices:ot,prevLayout:fe,trigger:Ds(k)?"keyboard":"mouse-or-touch"}),no=!mn(fe,kt);(Fs(k)||$s(k))&&x.current!=de&&(x.current=de,!no&&de!==0?Ce?Yn(_,de<0?Hs:Bs):Yn(_,de<0?Ws:Gs):Yn(_,0)),no&&(y(kt),O.current.layout=kt,Q&&Q(kt),yt(Fe,kt,E.current))}},[]),J=d.useCallback((_,z)=>{const{onLayout:W}=S.current,{layout:F,panelDataArray:k}=O.current,H=k.map(fe=>fe.constraints),{panelSize:U,pivotIndices:ne}=st(k,_,F);Y(U!=null,`Panel size not found for panel "${_.id}"`);const me=xt(k,_)===k.length-1?U-z:z-U,Q=Ht({delta:me,initialLayout:F,panelConstraints:H,pivotIndices:ne,prevLayout:F,trigger:"imperative-api"});mn(F,Q)||(y(Q),O.current.layout=Q,W&&W(Q),yt(k,Q,E.current))},[]),se=d.useCallback((_,z)=>{const{layout:W,panelDataArray:F}=O.current,{collapsedSize:k=0,collapsible:H}=z,{collapsedSize:U=0,collapsible:ne,maxSize:he=100,minSize:me=0}=_.constraints,{panelSize:Q}=st(F,_,W);Q!=null&&(H&&ne&&ze(Q,k)?ze(k,U)||J(_,U):Q<me?J(_,me):Q>he&&J(_,he))},[J]),oe=d.useCallback((_,z)=>{const{direction:W}=S.current,{layout:F}=O.current;if(!g.current)return;const k=Dn(_,g.current);Y(k,`Drag handle element not found for id "${_}"`);const H=Ys(W,z);v({dragHandleId:_,dragHandleRect:k.getBoundingClientRect(),initialCursorPosition:H,initialLayout:F})},[]),$=d.useCallback(()=>{v(null)},[]),le=d.useCallback(_=>{const{panelDataArray:z}=O.current,W=xt(z,_);W>=0&&(z.splice(W,1),delete E.current[_.id],O.current.panelDataArrayChanged=!0,b())},[b]),re=d.useMemo(()=>({collapsePanel:I,direction:r,dragState:m,expandPanel:R,getPanelSize:P,getPanelStyle:j,groupId:h,isPanelCollapsed:M,isPanelExpanded:X,reevaluatePanelConstraints:se,registerPanel:K,registerResizeHandle:G,resizePanel:J,startDragging:oe,stopDragging:$,unregisterPanel:le,panelGroupElement:g.current}),[I,m,r,R,P,j,h,M,X,se,K,G,J,oe,$,le]),ue={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return d.createElement(_n.Provider,{value:re},d.createElement(p,{...c,children:t,className:n,id:s,ref:g,style:{...ue,...u},[ae.group]:"",[ae.groupDirection]:r,[ae.groupId]:h}))}const ei=d.forwardRef((e,t)=>d.createElement(Qs,{...e,forwardedRef:t}));Qs.displayName="PanelGroup";ei.displayName="forwardRef(PanelGroup)";function xt(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function st(e,t,n){const r=xt(e,t),s=r===e.length-1?[r-1,r]:[r,r+1],i=n[r];return{...t.constraints,panelSize:i,pivotIndices:s}}function Xc({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){d.useEffect(()=>{if(e||n==null||r==null)return;const o=Dn(t,r);if(o==null)return;const s=i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{i.preventDefault(),n(i);break}case"F6":{i.preventDefault();const a=o.getAttribute(ae.groupId);Y(a,`No group element found for id "${a}"`);const l=Jt(a,r),u=Vs(a,t,r);Y(u!==null,`No resize element found for id "${t}"`);const p=i.shiftKey?u>0?u-1:l.length-1:u+1<l.length?u+1:0;l[p].focus();break}}};return o.addEventListener("keydown",s),()=>{o.removeEventListener("keydown",s)}},[r,e,t,n])}function ti({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:o,onBlur:s,onClick:i,onDragging:a,onFocus:l,onPointerDown:u,onPointerUp:p,style:c={},tabIndex:h=0,tagName:g="div",...m}){var v,w;const y=d.useRef(null),b=d.useRef({onClick:i,onDragging:a,onPointerDown:u,onPointerUp:p});d.useEffect(()=>{b.current.onClick=i,b.current.onDragging=a,b.current.onPointerDown=u,b.current.onPointerUp=p});const E=d.useContext(_n);if(E===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:C,groupId:x,registerResizeHandle:S,startDragging:O,stopDragging:I,panelGroupElement:R}=E,P=Pr(o),[j,M]=d.useState("inactive"),[X,K]=d.useState(!1),[G,J]=d.useState(null),se=d.useRef({state:j});lt(()=>{se.current.state=j}),d.useEffect(()=>{if(n)J(null);else{const re=S(P);J(()=>re)}},[n,P,S]);const oe=(v=r==null?void 0:r.coarse)!==null&&v!==void 0?v:15,$=(w=r==null?void 0:r.fine)!==null&&w!==void 0?w:5;d.useEffect(()=>{if(n||G==null)return;const re=y.current;Y(re,"Element ref not attached");let ue=!1;return kc(P,re,C,{coarse:oe,fine:$},(z,W,F)=>{if(!W){M("inactive");return}switch(z){case"down":{M("drag"),ue=!1,Y(F,'Expected event to be defined for "down" action'),O(P,F);const{onDragging:k,onPointerDown:H}=b.current;k==null||k(!0),H==null||H();break}case"move":{const{state:k}=se.current;ue=!0,k!=="drag"&&M("hover"),Y(F,'Expected event to be defined for "move" action'),G(F);break}case"up":{M("hover"),I();const{onClick:k,onDragging:H,onPointerUp:U}=b.current;H==null||H(!1),U==null||U(),ue||k==null||k();break}}})},[oe,C,n,$,S,P,G,O,I]),Xc({disabled:n,handleId:P,resizeHandler:G,panelGroupElement:R});const le={touchAction:"none",userSelect:"none"};return d.createElement(g,{...m,children:e,className:t,id:o,onBlur:()=>{K(!1),s==null||s()},onFocus:()=>{K(!0),l==null||l()},ref:y,role:"separator",style:{...le,...c},tabIndex:h,[ae.groupDirection]:C,[ae.groupId]:x,[ae.resizeHandle]:"",[ae.resizeHandleActive]:j==="drag"?"pointer":X?"keyboard":void 0,[ae.resizeHandleEnabled]:!n,[ae.resizeHandleId]:P,[ae.resizeHandleState]:j})}ti.displayName="PanelResizeHandle";const Jc=e=>{const t=ye[e];ce.getState().init(e),pt.getState().init(e),He.getState().init(),Yt.getState().init(),Be.getState().init(e),t.initialState()};let Jn=!1;const St=ls((e,t)=>({mousePosition:null,setMousePosition:n=>e({mousePosition:n}),initMouseTracking:n=>{if(Jn)return;Jn=!0,e({canvasContainer:n});const r=s=>{const i=n.getBoundingClientRect(),a=s.clientX-i.left,l=s.clientY-i.top;a>=0&&l>=0&&a<=i.width&&l<=i.height?t().setMousePosition({x:a,y:l,clientX:s.clientX,clientY:s.clientY}):t().setMousePosition(null)},o=()=>{t().setMousePosition(null)};return n.addEventListener("mousemove",r),n.addEventListener("mouseleave",o),()=>{n.removeEventListener("mousemove",r),n.removeEventListener("mouseleave",o),Jn=!1,t().setMousePosition(null),e({canvasContainer:null})}},menuX:0,menuY:0,visible:!1,lastMenuPosition:null,canvasContainer:null,openAddMenu:(n,r)=>{const o=t();let s,i;if(n!==void 0&&r!==void 0)s=n,i=r;else if(o.mousePosition)s=o.mousePosition.clientX,i=o.mousePosition.clientY;else if(o.lastMenuPosition)s=o.lastMenuPosition.x,i=o.lastMenuPosition.y;else if(o.canvasContainer){const a=o.canvasContainer.getBoundingClientRect();s=a.left+a.width/2,i=a.top+a.height/2}else{console.warn("Cannot open add menu: no coordinates available and canvas container not found");return}s=s>window.innerWidth-274?window.innerWidth-274:s,i=i>window.innerHeight-284?window.innerHeight-284:i,e({menuX:s,menuY:i,visible:!0,lastMenuPosition:{x:s,y:i}})},closeAddMenu:()=>e({visible:!1})}));function Zc(e){const t=St(n=>n.initMouseTracking);d.useEffect(()=>{if(!e.current)return;const n=t(e.current);return()=>n==null?void 0:n()},[e,t])}function Qc({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:s,targetPosition:i,style:a={},markerEnd:l}){const[u,p,c]=Xl({sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:o,targetPosition:i}),{setEdges:h}=Ee(),g=()=>{h(m=>m.filter(v=>v.id!==e))};return f.jsxs(f.Fragment,{children:[f.jsx(Jl,{path:u,markerEnd:l,style:a}),f.jsx(Zl,{children:f.jsx("div",{className:"nodrag nopan pointer-events-auto absolute",style:{transform:`translate(-50%, -50%) translate(${p}px,${c}px)`},children:f.jsx("button",{className:"flex h-5 w-5 cursor-pointer items-center justify-center rounded-full border-3 border-[#14141d] bg-slate-800 text-xs text-slate-400 hover:bg-slate-900",onClick:g,children:"×"})})})]})}const eu={Deletable:Qc};function ni(e){const t=Object.keys(ye),n=t.indexOf(e);if(n!==-1)return{prev:n===0?void 0:t[n-1],next:n===t.length-1?void 0:t[n+1]}}const ke=B.forwardRef(({tooltip:e,className:t,children:n,side:r,...o},s)=>f.jsxs(cs,{children:[f.jsx(us,{asChild:!0,children:f.jsx("button",{ref:s,className:Kt("cursor-pointer rounded bg-slate-800 p-2 outline outline-slate-500 hover:bg-slate-900",t),...o,children:n})}),f.jsx(ds,{side:r,children:typeof e=="string"?f.jsx("p",{children:e}):e})]})),tu=()=>{const e=ce(r=>r.currentLevel),t=ni(e),n=ce(r=>r.pause);return f.jsxs(An,{position:"top-center",className:"flex flex-row items-center justify-center gap-2",id:"center-panel",children:[(t==null?void 0:t.prev)&&f.jsx(Et,{to:`/levels/${t==null?void 0:t.prev}`,onClick:()=>n(),children:f.jsx(ke,{tooltip:"Previous Level",side:"left",className:"text-white",children:f.jsx(Il,{className:"text-white"})})}),f.jsx(Et,{to:"/",children:f.jsx(ke,{tooltip:"Home",side:"bottom",children:f.jsx(Tl,{className:"text-white"})})}),(t==null?void 0:t.next)&&f.jsx(Et,{to:`/levels/${t==null?void 0:t.next}`,onClick:()=>n(),children:f.jsx(ke,{tooltip:"Next Level",side:"right",children:f.jsx(jl,{className:"text-white"})})})]})};var nu="Arrow",ri=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return f.jsx(Ve.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});ri.displayName=nu;var ru=ri,Rr="Popper",[oi,si]=dt(Rr),[ou,ii]=oi(Rr),ai=e=>{const{__scopePopper:t,children:n}=e,[r,o]=d.useState(null);return f.jsx(ou,{scope:t,anchor:r,onAnchorChange:o,children:n})};ai.displayName=Rr;var li="PopperAnchor",ci=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=ii(li,n),i=d.useRef(null),a=pe(t,i);return d.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:f.jsx(Ve.div,{...o,ref:a})});ci.displayName=li;var Ir="PopperContent",[su,iu]=oi(Ir),ui=d.forwardRef((e,t)=>{var k,H,U,ne,he,me;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:p=0,sticky:c="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:m,...v}=e,w=ii(Ir,n),[y,b]=d.useState(null),E=pe(t,Q=>b(Q)),[C,x]=d.useState(null),S=Cr(C),O=(S==null?void 0:S.width)??0,I=(S==null?void 0:S.height)??0,R=r+(s!=="center"?"-"+s:""),P=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},j=Array.isArray(u)?u:[u],M=j.length>0,X={padding:P,boundary:j.filter(lu),altBoundary:M},{refs:K,floatingStyles:G,placement:J,isPositioned:se,middlewareData:oe}=fs({strategy:"fixed",placement:R,whileElementsMounted:(...Q)=>xs(...Q,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[ps({mainAxis:o+I,alignmentAxis:i}),l&&hs({mainAxis:!0,crossAxis:!1,limiter:c==="partial"?bs():void 0,...X}),l&&ms({...X}),gs({...X,apply:({elements:Q,rects:fe,availableWidth:Fe,availableHeight:qe})=>{const{width:ot,height:de}=fe.reference,Ce=Q.floating.style;Ce.setProperty("--radix-popper-available-width",`${Fe}px`),Ce.setProperty("--radix-popper-available-height",`${qe}px`),Ce.setProperty("--radix-popper-anchor-width",`${ot}px`),Ce.setProperty("--radix-popper-anchor-height",`${de}px`)}}),C&&vs({element:C,padding:a}),cu({arrowWidth:O,arrowHeight:I}),h&&ys({strategy:"referenceHidden",...X})]}),[$,le]=pi(J),re=Ue(m);qt(()=>{se&&(re==null||re())},[se,re]);const ue=(k=oe.arrow)==null?void 0:k.x,_=(H=oe.arrow)==null?void 0:H.y,z=((U=oe.arrow)==null?void 0:U.centerOffset)!==0,[W,F]=d.useState();return qt(()=>{y&&F(window.getComputedStyle(y).zIndex)},[y]),f.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:se?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(ne=oe.transformOrigin)==null?void 0:ne.x,(he=oe.transformOrigin)==null?void 0:he.y].join(" "),...((me=oe.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(su,{scope:n,placedSide:$,onArrowChange:x,arrowX:ue,arrowY:_,shouldHideArrow:z,children:f.jsx(Ve.div,{"data-side":$,"data-align":le,...v,ref:E,style:{...v.style,animation:se?void 0:"none"}})})})});ui.displayName=Ir;var di="PopperArrow",au={top:"bottom",right:"left",bottom:"top",left:"right"},fi=d.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=iu(di,r),i=au[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(ru,{...o,ref:n,style:{...o.style,display:"block"}})})});fi.displayName=di;function lu(e){return e!==null}var cu=e=>({name:"transformOrigin",options:e,fn(t){var w,y,b;const{placement:n,rects:r,middlewareData:o}=t,i=((w=o.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,p]=pi(n),c={start:"0%",center:"50%",end:"100%"}[p],h=(((y=o.arrow)==null?void 0:y.x)??0)+a/2,g=(((b=o.arrow)==null?void 0:b.y)??0)+l/2;let m="",v="";return u==="bottom"?(m=i?c:`${h}px`,v=`${-l}px`):u==="top"?(m=i?c:`${h}px`,v=`${r.floating.height+l}px`):u==="right"?(m=`${-l}px`,v=i?c:`${g}px`):u==="left"&&(m=`${r.floating.width+l}px`,v=i?c:`${g}px`),{data:{x:m,y:v}}}});function pi(e){const[t,n="center"]=e.split("-");return[t,n]}var uu=ai,hi=ci,du=ui,fu=fi,Fn="Popover",[mi,Eg]=dt(Fn,[si]),rn=si(),[pu,rt]=mi(Fn),Tr=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!1}=e,a=rn(t),l=d.useRef(null),[u,p]=d.useState(!1),[c,h]=Mn({prop:r,defaultProp:o??!1,onChange:s,caller:Fn});return f.jsx(uu,{...a,children:f.jsx(pu,{scope:t,contentId:xn(),triggerRef:l,open:c,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:u,onCustomAnchorAdd:d.useCallback(()=>p(!0),[]),onCustomAnchorRemove:d.useCallback(()=>p(!1),[]),modal:i,children:n})})};Tr.displayName=Fn;var gi="PopoverAnchor",hu=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=rt(gi,n),s=rn(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=o;return d.useEffect(()=>(i(),()=>a()),[i,a]),f.jsx(hi,{...s,...r,ref:t})});hu.displayName=gi;var vi="PopoverTrigger",jr=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=rt(vi,n),s=rn(n),i=pe(t,o.triggerRef),a=f.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":wi(o.open),...r,ref:i,onClick:q(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?a:f.jsx(hi,{asChild:!0,...s,children:a})});jr.displayName=vi;var Mr="PopoverPortal",[mu,gu]=mi(Mr,{forceMount:void 0}),Ar=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,s=rt(Mr,t);return f.jsx(mu,{scope:t,forceMount:n,children:f.jsx(ft,{present:n||s.open,children:f.jsx(bc,{asChild:!0,container:o,children:r})})})};Ar.displayName=Mr;var Pt="PopoverContent",_r=d.forwardRef((e,t)=>{const n=gu(Pt,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,s=rt(Pt,e.__scopePopover);return f.jsx(ft,{present:r||s.open,children:s.modal?f.jsx(yu,{...o,ref:t}):f.jsx(bu,{...o,ref:t})})});_r.displayName=Pt;var vu=Ml("PopoverContent.RemoveScroll"),yu=d.forwardRef((e,t)=>{const n=rt(Pt,e.__scopePopover),r=d.useRef(null),o=pe(t,r),s=d.useRef(!1);return d.useEffect(()=>{const i=r.current;if(i)return ss(i)},[]),f.jsx(is,{as:vu,allowPinchZoom:!0,children:f.jsx(yi,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:q(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:q(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:q(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),bu=d.forwardRef((e,t)=>{const n=rt(Pt,e.__scopePopover),r=d.useRef(!1),o=d.useRef(!1);return f.jsx(yi,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),yi=d.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:p,...c}=e,h=rt(Pt,n),g=rn(n);return as(),f.jsx(xc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:f.jsx(wc,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:p,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:f.jsx(du,{"data-state":wi(h.open),role:"dialog",id:h.contentId,...g,...c,ref:t,style:{...c.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bi="PopoverClose",xi=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=rt(bi,n);return f.jsx(Ve.button,{type:"button",...r,ref:t,onClick:q(e.onClick,()=>o.onOpenChange(!1))})});xi.displayName=bi;var xu="PopoverArrow",wu=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=rn(n);return f.jsx(fu,{...o,...r,ref:t})});wu.displayName=xu;function wi(e){return e?"open":"closed"}var Eu=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Cu="VisuallyHidden",kr=d.forwardRef((e,t)=>f.jsx(Ve.span,{...e,ref:t,style:{...Eu,...e.style}}));kr.displayName=Cu;const Ei=({title:e,trigger:t,defaultOpen:n,open:r,onOpenChange:o,desc:s,children:i})=>f.jsxs(js,{defaultOpen:n,open:r,onOpenChange:o,children:[f.jsx(Ec,{asChild:!0,children:t}),f.jsxs(Ms,{children:[f.jsx(Cc,{className:"fixed inset-0 bg-black/25"}),f.jsxs(As,{className:"fixed top-1/2 left-1/2 flex w-1/2 -translate-x-1/2 -translate-y-1/2 flex-col gap-6 rounded-lg border-2 border-blue-300 bg-slate-800/85 p-8 font-mono text-white",children:[f.jsx(kr,{asChild:!0,children:f.jsx(_s,{children:s})}),f.jsx(ks,{className:"text-center text-4xl font-bold capitalize",children:e}),f.jsx("div",{id:"dialog",children:i}),f.jsx(Gt,{asChild:!0,children:f.jsx("button",{className:"absolute top-2.5 right-2.5 inline-flex size-[25px] cursor-pointer appearance-none items-center justify-center rounded-full bg-slate-700 focus:outline-1 focus:outline-blue-300","aria-label":"Close",children:f.jsx(Al,{})})})]})]})]}),Ci=({open:e,onOpenChange:t,trigger:n})=>{const r=ce(m=>m.currentLevel),o=ye[r].name,s=ye[r].dialog,[i,a]=d.useState(0),l=s[i],[u,p]=d.useState("");d.useEffect(()=>{let m=0;const v=setInterval(()=>{m<=l.length?(p(l.slice(0,m)),m++):clearInterval(v)},10);return()=>{clearInterval(v),p("")}},[l]);const c=d.useRef(null),h=()=>{if(i<s.length-1){const m=i+1;a(m)}},g=()=>{if(i>0){const m=i-1;a(m)}};return f.jsx(Ei,{title:o,trigger:n,open:e,onOpenChange:t,desc:`This dialog displays the level goals and instructions for the
            ${o} level. You can close it by clicking the close button or
            pressing the escape key.`,children:f.jsxs("div",{className:"flex flex-col gap-5",children:[f.jsxs("div",{className:"flex flex-1 flex-row",children:[f.jsx("div",{className:"my-auto w-1/3",children:f.jsx("div",{style:{aspectRatio:"7 / 6",width:"100%",backgroundImage:"url('/game/sprites/raccoon_spritesheet.png')",backgroundPosition:"0 0",backgroundSize:"400% 400%",backgroundRepeat:"no-repeat",imageRendering:"pixelated"}})}),f.jsxs("div",{className:"relative my-auto h-36 w-full rounded-lg bg-slate-700 p-4 text-white shadow-lg",children:[f.jsx("div",{className:"absolute top-1/2 -left-2.5 h-0 w-0 -translate-y-1/2 border-t-10 border-r-10 border-b-10 border-t-transparent border-r-slate-700 border-b-transparent"}),f.jsx("p",{className:"h-full overflow-auto pr-2 text-lg italic [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-slate-500 [&::-webkit-scrollbar-track]:rounded-full [&::-webkit-scrollbar-track]:bg-slate-900",children:u})]})]}),f.jsxs("div",{className:"flex flex-row justify-end gap-5",children:[f.jsx("button",{onClick:g,disabled:i===0,className:Kt("rounded-lg bg-slate-700/80 px-3 py-2 focus:outline-1 focus:outline-blue-300",i===0?"opacity-50":"cursor-pointer hover:bg-slate-600"),children:"Previous"}),i===s.length-1?f.jsx(Gt,{asChild:!0,children:f.jsx("button",{ref:c,onClick:()=>{a(0)},className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Start"})}):f.jsx("button",{onClick:h,className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Next"})]})]})})};function Si(){pt.temporal.getState().undo(),Oi()}function Pi(){pt.temporal.getState().redo(),Oi()}function Oi(){const e=pt.getState();e.resetHighlight("cycle");const t=He.getState();t.reset(),e.nodes.forEach(n=>{t.replaceNode(n)}),e.edges.forEach(n=>{t.addEdge(n)})}const Ke=()=>{const[e,t]=d.useState(!1);return d.useEffect(()=>{const n=navigator.userAgent.toLowerCase(),r=n.includes("mac")&&!n.includes("iphone")&&!n.includes("ipad");t(r)},[]),e},Su=()=>{const e=ce(s=>s.currentLevel),t=ce(s=>s.isPaused),n=ce(s=>s.play),r=ce(s=>s.pause),o=Ke();return f.jsxs(An,{position:"top-left",className:"flex flex-col items-center justify-center gap-2",children:[f.jsx(ke,{tooltip:"Play/Pause",side:"right",onClick:()=>{t?n():r()},children:t?f.jsx(_l,{className:"text-white"}):f.jsx(kl,{className:"text-white"})}),f.jsxs(Tr,{children:[f.jsx(jr,{asChild:!0,children:f.jsx(ke,{tooltip:"Reset Level",side:"right",id:"reset-level",children:f.jsx(Ll,{className:"text-white"})})}),f.jsx(Ar,{children:f.jsx(_r,{side:"right",sideOffset:10,className:"mr-3",children:f.jsx("div",{className:"flex w-42 flex-col rounded bg-slate-800 p-2 font-mono text-white shadow-lg outline-1 outline-slate-700 outline-solid",children:f.jsx(xi,{asChild:!0,children:f.jsx("button",{className:"hover:bg-jam-600 cursor-pointer rounded bg-slate-700 px-2 py-1 text-left text-sm text-white",onClick:()=>{pt.getState().reset(e),He.getState().reset(),Yt.getState().reset(),Be.getState().reset(e),ce.getState().setLevelCompleted(!1),ce.getState().init(e)},children:"Reset Level?"})})})})})]}),f.jsx(Ci,{trigger:f.jsx(ke,{tooltip:"Level Info",side:"right",children:f.jsx(Dl,{className:"text-white"})})}),f.jsx(ke,{tooltip:f.jsxs("p",{children:["Undo",f.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:o?"⌥+Z":"Ctrl+Z"})]}),side:"right",onClick:()=>{Si()},children:f.jsx(ro,{className:"text-white"})}),f.jsx(ke,{tooltip:f.jsxs("p",{children:["Redo",f.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:o?"⌥+Y":"Ctrl+Y"})]}),side:"right",onClick:()=>{Pi()},children:f.jsx(ro,{className:"-scale-x-100 text-white"})})]})},tt=ls((e,t)=>({copiedNodes:[],lastPastePosition:null,setCopiedNodes:n=>e({copiedNodes:n}),clearClipboard:()=>e({copiedNodes:[]}),hasCopiedNodes:()=>t().copiedNodes.length>0}));function Ot(e,t,n,r,o,s){if(!e||e.length===0)return;const i={x:50,y:50};let a=1/0,l=1/0;s!=null&&s.targetPosition&&e.forEach(x=>{a=Math.min(a,x.position.x),l=Math.min(l,x.position.y)});const u=new Map,p=[],c=[],h=x=>{if(s!=null&&s.targetPosition){const S=x.position.x-a,O=x.position.y-l;return{x:s.targetPosition.x+S,y:s.targetPosition.y+O}}else return{x:x.parentId&&u.has(x.parentId)?x.position.x:x.position.x+i.x,y:x.parentId&&u.has(x.parentId)?x.position.y:x.position.y+i.y}},g=e.filter(x=>x.type==="Group");p.push(...g.map(x=>{const S=ur();return u.set(x.id,S),{...x,id:S,position:h(x),data:{...x.data}}}));const m=e.filter(x=>x.type==="ForStart"),v=e.filter(x=>x.type==="ForEnd"),w=[];m.forEach(x=>{const S=v.find(O=>O.data.loopId===x.data.loopId);S&&w.push({start:x,end:S})}),w.forEach(x=>{const S=h(x.start),O=h(x.end),I=ws(S,O,u.get(x.start.data.parentLoopId)??x.start.data.parentLoopId,u.get(x.start.parentId)??x.start.parentId,u.get(x.end.parentId)??x.end.parentId);p.push(...I.nodes),c.push(I.mainConnectorEdge),u.set(x.start.id,I.startId),u.set(x.end.id,I.endId),u.set(x.start.data.loopId,I.id)}),e.filter(x=>x.type!=="Group"&&x.type!=="ForStart"&&x.type!=="ForEnd").forEach(x=>{const S=ur();u.set(x.id,S),p.push({...x,id:S,parentId:x.parentId?u.get(x.parentId)??x.parentId:void 0,position:h(x),data:{...x.data,parentLoopId:u.get(x.data.parentLoopId)??x.data.parentLoopId}})});const b=Yt.getState().addHandle,E=Yt.getState().getHandles;w.forEach(x=>{const S=u.get(x.start.data.loopId);if(!S)return;E(x.start.data.loopId).forEach((I,R)=>{const P=b(S,R);u.set(I,P)})}),o(x=>x.concat(p).map(O=>({...O,selected:Array.from(u.values()).includes(O.id)}))),p.forEach(x=>{if(x.type==="Group"||x.data.parentLoopId===void 0)return;const S=n().concat(p).filter(O=>O.data.loopId===x.data.parentLoopId);c.push(...Es(S,[x.id]))}),t().filter(x=>x.sourceHandle===so||x.targetHandle===so?!1:u.has(x.source)&&u.has(x.target)).forEach(x=>{const S=u.get(x.source),O=u.get(x.target),I=u.get(x.sourceHandle??"")??x.sourceHandle??null,R=u.get(x.targetHandle??"")??x.targetHandle??null;if(!S||!O)return;const P=Ul({source:S,sourceHandle:I,target:O,targetHandle:R});c.push({...x,id:P,type:x.type,source:S,target:O,sourceHandle:I,targetHandle:R,animated:x.animated??!1,selectable:x.selectable??!0,style:{...x.style}})}),r(x=>x.concat(c).map(O=>({...O})))}function Nt(e,t){const n=new Set;return e.forEach(r=>{const o=t.find(s=>s.id===r);o&&(n.add(o),o.type==="Group"&&t.filter(i=>i.parentId===o.id).forEach(i=>n.add(i)),o.data&&typeof o.data=="object"&&"loopId"in o.data&&o.data.loopId!==void 0&&t.filter(i=>i.data&&typeof i.data=="object"&&"loopId"in i.data&&i.data.loopId===o.data.loopId||i.data&&typeof i.data=="object"&&"parentLoopId"in i.data&&i.data.parentLoopId===o.data.loopId).forEach(i=>n.add(i)))}),Array.from(n)}const Lr=({x:e,y:t,onClose:n,parentLoopId:r,children:o,parentId:s})=>{const i=ce(R=>R.currentLevel),a=r?ye[i].availableNodes.filter(R=>R!="Group"):ye[i].availableNodes,l=Object.values(Ql).flat(),{addNodes:u,addEdges:p,screenToFlowPosition:c,getNodes:h,getNode:g}=Ee(),m=d.useRef(null),[v,w]=d.useState(""),[y,b]=d.useState(0),[E,C]=d.useState(a.map(R=>({nodeType:R}))),x=g(s??"");d.useEffect(()=>{var R;(R=m.current)==null||R.focus()},[]),d.useEffect(()=>{const R=a.filter(M=>M.toLowerCase().includes(v.toLowerCase())).map(M=>({nodeType:M}));if(v===""||!a.some(M=>M==="Math"))return C(R);const P=l.filter(M=>M.toLowerCase().includes(v.toLowerCase())).map(M=>({nodeType:"Math",computeType:M})),j=[...R,...P];C(j),b(0)},[v]);const S=(R,P)=>{const j=c({x:e,y:t}),M={x:x?j.x-x.position.x:j.x,y:x?j.y-x.position.y:j.y},X={x:x?j.x-x.position.x+300:j.x+300,y:x?j.y-x.position.y:j.y},K=[],G=[];if(R==="ForLoop"){const J=ws(M,X,r,s);K.push(J.mainConnectorEdge),G.push(...J.nodes)}else G.push(O(R,P));if(u(G),r){const J=h().filter(se=>se.data.loopId===r);K.push(...Es(J,G.map(se=>se.id)))}p(K),n()},O=(R,P)=>{const j=ur(),M=c({x:e,y:t}),X={x:x?M.x-x.position.x:M.x,y:x?M.y-x.position.y:M.y};return{id:j,type:R,position:X,parentId:s,data:{initialComputeType:P,parentLoopId:r},height:R==="Group"?Xe.height:void 0,width:R==="Group"?Xe.width:void 0,selected:!1,dragging:!1}},I=R=>{if(R.key==="ArrowDown")R.preventDefault(),b(P=>(P+1)%E.length);else if(R.key==="ArrowUp")R.preventDefault(),b(P=>(P-1+E.length)%E.length);else if(R.key==="Enter"){R.preventDefault();const P=E[y];P&&S(P.nodeType,P.computeType)}};return d.useEffect(()=>(window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)),[E,y]),f.jsxs("div",{className:"flex w-65 flex-col gap-2 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:[f.jsx("div",{className:"shadow",children:f.jsx("input",{ref:m,type:"text",spellCheck:"false",placeholder:"Search",className:"w-full rounded bg-slate-900 p-2 text-sm text-white focus:border-gray-300 focus:ring-0 focus:outline-none",onChange:R=>w(R.target.value)})}),f.jsx("div",{className:"flex flex-col gap-1",children:E.map((R,P)=>f.jsx("button",{className:Kt("w-full cursor-pointer rounded px-2 py-1 text-left text-sm text-white",y===P?"bg-slate-700":"hover:bg-slate-700"),onClick:()=>S(R.nodeType,R.computeType),children:R.computeType?f.jsxs("span",{children:[f.jsx("span",{className:"text-slate-400",children:R.nodeType}),f.jsx(Fl,{className:"inline-block h-4 w-4 text-slate-400"}),f.jsx("span",{className:"",children:R.computeType})]}):f.jsx(f.Fragment,{children:R.nodeType})},`add_node_${R}_${P}`))}),v===""&&o&&f.jsxs(f.Fragment,{children:[f.jsx("hr",{className:"mx-auto h-1 w-44 rounded-sm border-0 bg-slate-700"}),o]})]})},Pu=B.forwardRef(({nodeId:e,nodeType:t,nodeLoopId:n,x:r,y:o,onClose:s,nodeParentId:i},a)=>f.jsx("div",{ref:a,style:{position:"absolute",top:o,left:r,zIndex:1e3},children:t==="ForStart"||t==="ForEnd"?f.jsx(Lr,{x:r,y:o,onClose:s,parentLoopId:n,parentId:i,children:f.jsx(mo,{nodeId:e,onClose:s})}):f.jsx("div",{className:"flex w-36 flex-col gap-1 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:f.jsx(mo,{nodeId:e,onClose:s})})})),mo=({nodeId:e,onClose:t})=>{const{getNode:n,getNodes:r,getEdges:o,setNodes:s,setEdges:i,deleteElements:a}=Ee(),{setCopiedNodes:l}=tt(),u=d.useCallback(()=>{const g=r(),m=Nt([e],g);l(m),t()},[r,e,l,t]),p=d.useCallback(()=>{const g=r(),m=Nt([e],g);Ot(m,o,r,i,s),t()},[o,r,e,t,i,s]),c=d.useCallback(()=>{var w;const g=[e];if(((w=n(e))==null?void 0:w.type)==="Group"){const y=r().filter(E=>E.parentId===e),b=n(e);s(E=>E.map(C=>y.some(x=>x.id===C.id)?{...C,position:{x:b?C.position.x+b.position.x:C.position.x,y:b?C.position.y+b.position.y:C.position.y},parentId:void 0}:C))}const m=r(),v=o();a({nodes:m.filter(y=>g.includes(y.id)),edges:v.filter(y=>g.includes(y.source)||g.includes(y.target))}),t()},[a,o,n,r,e,t,s]),h=Ke();return f.jsxs(f.Fragment,{children:[f.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:u,children:[f.jsx("span",{children:"Copy"}),f.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:h?"⌥+C":"Ctrl+C"})]}),f.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:p,children:[f.jsx("span",{children:"Duplicate"}),f.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:h?"⌥+D":"Ctrl+D"})]}),f.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:c,children:[f.jsx("span",{children:"Delete"}),f.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:"Del"})]})]})},Ou=B.forwardRef(({x:e,y:t,onClose:n},r)=>{const{hasCopiedNodes:o}=tt();return f.jsx("div",{ref:r,style:{position:"absolute",top:t,left:e,zIndex:1e3},children:f.jsx(Lr,{x:e,y:t,onClose:n,children:o()&&f.jsx(Nu,{x:e,y:t,onClose:n})})})}),Nu=({x:e,y:t,onClose:n})=>{const{getNodes:r,setNodes:o,getEdges:s,setEdges:i,screenToFlowPosition:a}=Ee(),{copiedNodes:l}=tt(),u=Ke(),p=d.useCallback(()=>{if(l.length===0)return;const c=a({x:e,y:t});Ot(l,s,r,i,o,{targetPosition:c}),tt.setState({lastPastePosition:{x:e,y:t}}),n()},[l,e,t,r,o,s,i,a,n]);return f.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:p,children:[f.jsx("span",{children:"Paste"}),f.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:u?"⌥+V":"Ctrl+V"})]})};function Ru(e){const t=Iu(e),n=d.forwardRef((r,o)=>{const{children:s,...i}=r,a=d.Children.toArray(s),l=a.find(ju);if(l){const u=l.props.children,p=a.map(c=>c===l?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:c);return f.jsx(t,{...i,ref:o,children:d.isValidElement(u)?d.cloneElement(u,void 0,p):null})}return f.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function Iu(e){const t=d.forwardRef((n,r)=>{const{children:o,...s}=n;if(d.isValidElement(o)){const i=Au(o),a=Mu(s,o.props);return o.type!==d.Fragment&&(a.ref=r?nn(r,i):i),d.cloneElement(o,a)}return d.Children.count(o)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tu=Symbol("radix.slottable");function ju(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tu}function Mu(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function Au(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _u=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ku=_u.reduce((e,t)=>{const n=Ru(`Primitive.${t}`),r=d.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ni(e){const t=Lu(e),n=d.forwardRef((r,o)=>{const{children:s,...i}=r,a=d.Children.toArray(s),l=a.find(Fu);if(l){const u=l.props.children,p=a.map(c=>c===l?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:c);return f.jsx(t,{...i,ref:o,children:d.isValidElement(u)?d.cloneElement(u,void 0,p):null})}return f.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function Lu(e){const t=d.forwardRef((n,r)=>{const{children:o,...s}=n;if(d.isValidElement(o)){const i=zu(o),a=$u(s,o.props);return o.type!==d.Fragment&&(a.ref=r?nn(r,i):i),d.cloneElement(o,a)}return d.Children.count(o)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Du=Symbol("radix.slottable");function Fu(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Du}function $u(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function zu(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Hu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=Hu.reduce((e,t)=>{const n=Ni(`Primitive.${t}`),r=d.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ri(e,t){e&&Ut.flushSync(()=>e.dispatchEvent(t))}var Bu="DismissableLayer",hr="dismissableLayer.update",Wu="dismissableLayer.pointerDownOutside",Gu="dismissableLayer.focusOutside",go,Ii=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ti=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,u=d.useContext(Ii),[p,c]=d.useState(null),h=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=d.useState({}),m=pe(t,O=>c(O)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(w),b=p?v.indexOf(p):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,C=b>=y,x=Ku(O=>{const I=O.target,R=[...u.branches].some(P=>P.contains(I));!C||R||(o==null||o(O),i==null||i(O),O.defaultPrevented||a==null||a())},h),S=qu(O=>{const I=O.target;[...u.branches].some(P=>P.contains(I))||(s==null||s(O),i==null||i(O),O.defaultPrevented||a==null||a())},h);return $l(O=>{b===u.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},h),d.useEffect(()=>{if(p)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(go=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(p)),u.layers.add(p),vo(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=go)}},[p,h,n,u]),d.useEffect(()=>()=>{p&&(u.layers.delete(p),u.layersWithOutsidePointerEventsDisabled.delete(p),vo())},[p,u]),d.useEffect(()=>{const O=()=>g({});return document.addEventListener(hr,O),()=>document.removeEventListener(hr,O)},[]),f.jsx(Ne.div,{...l,ref:m,style:{pointerEvents:E?C?"auto":"none":void 0,...e.style},onFocusCapture:q(e.onFocusCapture,S.onFocusCapture),onBlurCapture:q(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:q(e.onPointerDownCapture,x.onPointerDownCapture)})});Ti.displayName=Bu;var Uu="DismissableLayerBranch",Vu=d.forwardRef((e,t)=>{const n=d.useContext(Ii),r=d.useRef(null),o=pe(t,r);return d.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.jsx(Ne.div,{...e,ref:o})});Vu.displayName=Uu;function Ku(e,t=globalThis==null?void 0:globalThis.document){const n=Ue(e),r=d.useRef(!1),o=d.useRef(()=>{});return d.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){ji(Wu,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function qu(e,t=globalThis==null?void 0:globalThis.document){const n=Ue(e),r=d.useRef(!1);return d.useEffect(()=>{const o=s=>{s.target&&!r.current&&ji(Gu,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vo(){const e=new CustomEvent(hr);document.dispatchEvent(e)}function ji(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Ri(o,s):o.dispatchEvent(s)}var Zn="focusScope.autoFocusOnMount",Qn="focusScope.autoFocusOnUnmount",yo={bubbles:!1,cancelable:!0},Yu="FocusScope",Mi=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=d.useState(null),u=Ue(o),p=Ue(s),c=d.useRef(null),h=pe(t,v=>l(v)),g=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let v=function(E){if(g.paused||!a)return;const C=E.target;a.contains(C)?c.current=C:Ye(c.current,{select:!0})},w=function(E){if(g.paused||!a)return;const C=E.relatedTarget;C!==null&&(a.contains(C)||Ye(c.current,{select:!0}))},y=function(E){if(document.activeElement===document.body)for(const x of E)x.removedNodes.length>0&&Ye(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const b=new MutationObserver(y);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),b.disconnect()}}},[r,a,g.paused]),d.useEffect(()=>{if(a){xo.add(g);const v=document.activeElement;if(!a.contains(v)){const y=new CustomEvent(Zn,yo);a.addEventListener(Zn,u),a.dispatchEvent(y),y.defaultPrevented||(Xu(td(Ai(a)),{select:!0}),document.activeElement===v&&Ye(a))}return()=>{a.removeEventListener(Zn,u),setTimeout(()=>{const y=new CustomEvent(Qn,yo);a.addEventListener(Qn,p),a.dispatchEvent(y),y.defaultPrevented||Ye(v??document.body,{select:!0}),a.removeEventListener(Qn,p),xo.remove(g)},0)}}},[a,u,p,g]);const m=d.useCallback(v=>{if(!n&&!r||g.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(w&&y){const b=v.currentTarget,[E,C]=Ju(b);E&&C?!v.shiftKey&&y===C?(v.preventDefault(),n&&Ye(E,{select:!0})):v.shiftKey&&y===E&&(v.preventDefault(),n&&Ye(C,{select:!0})):y===b&&v.preventDefault()}},[n,r,g.paused]);return f.jsx(Ne.div,{tabIndex:-1,...i,ref:h,onKeyDown:m})});Mi.displayName=Yu;function Xu(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ye(r,{select:t}),document.activeElement!==n)return}function Ju(e){const t=Ai(e),n=bo(t,e),r=bo(t.reverse(),e);return[n,r]}function Ai(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function bo(e,t){for(const n of e)if(!Zu(n,{upTo:t}))return n}function Zu(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qu(e){return e instanceof HTMLInputElement&&"select"in e}function Ye(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Qu(e)&&t&&e.select()}}var xo=ed();function ed(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=wo(e,t),e.unshift(t)},remove(t){var n;e=wo(e,t),(n=e[0])==null||n.resume()}}}function wo(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function td(e){return e.filter(t=>t.tagName!=="A")}var nd="Arrow",_i=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return f.jsx(Ne.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});_i.displayName=nd;var rd=_i,Dr="Popper",[ki,Li]=dt(Dr),[od,Di]=ki(Dr),Fi=e=>{const{__scopePopper:t,children:n}=e,[r,o]=d.useState(null);return f.jsx(od,{scope:t,anchor:r,onAnchorChange:o,children:n})};Fi.displayName=Dr;var $i="PopperAnchor",zi=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=Di($i,n),i=d.useRef(null),a=pe(t,i);return d.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:f.jsx(Ne.div,{...o,ref:a})});zi.displayName=$i;var Fr="PopperContent",[sd,id]=ki(Fr),Hi=d.forwardRef((e,t)=>{var k,H,U,ne,he,me;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:p=0,sticky:c="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:m,...v}=e,w=Di(Fr,n),[y,b]=d.useState(null),E=pe(t,Q=>b(Q)),[C,x]=d.useState(null),S=Cr(C),O=(S==null?void 0:S.width)??0,I=(S==null?void 0:S.height)??0,R=r+(s!=="center"?"-"+s:""),P=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},j=Array.isArray(u)?u:[u],M=j.length>0,X={padding:P,boundary:j.filter(ld),altBoundary:M},{refs:K,floatingStyles:G,placement:J,isPositioned:se,middlewareData:oe}=fs({strategy:"fixed",placement:R,whileElementsMounted:(...Q)=>xs(...Q,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[ps({mainAxis:o+I,alignmentAxis:i}),l&&hs({mainAxis:!0,crossAxis:!1,limiter:c==="partial"?bs():void 0,...X}),l&&ms({...X}),gs({...X,apply:({elements:Q,rects:fe,availableWidth:Fe,availableHeight:qe})=>{const{width:ot,height:de}=fe.reference,Ce=Q.floating.style;Ce.setProperty("--radix-popper-available-width",`${Fe}px`),Ce.setProperty("--radix-popper-available-height",`${qe}px`),Ce.setProperty("--radix-popper-anchor-width",`${ot}px`),Ce.setProperty("--radix-popper-anchor-height",`${de}px`)}}),C&&vs({element:C,padding:a}),cd({arrowWidth:O,arrowHeight:I}),h&&ys({strategy:"referenceHidden",...X})]}),[$,le]=Gi(J),re=Ue(m);qt(()=>{se&&(re==null||re())},[se,re]);const ue=(k=oe.arrow)==null?void 0:k.x,_=(H=oe.arrow)==null?void 0:H.y,z=((U=oe.arrow)==null?void 0:U.centerOffset)!==0,[W,F]=d.useState();return qt(()=>{y&&F(window.getComputedStyle(y).zIndex)},[y]),f.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:se?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(ne=oe.transformOrigin)==null?void 0:ne.x,(he=oe.transformOrigin)==null?void 0:he.y].join(" "),...((me=oe.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(sd,{scope:n,placedSide:$,onArrowChange:x,arrowX:ue,arrowY:_,shouldHideArrow:z,children:f.jsx(Ne.div,{"data-side":$,"data-align":le,...v,ref:E,style:{...v.style,animation:se?void 0:"none"}})})})});Hi.displayName=Fr;var Bi="PopperArrow",ad={top:"bottom",right:"left",bottom:"top",left:"right"},Wi=d.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=id(Bi,r),i=ad[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(rd,{...o,ref:n,style:{...o.style,display:"block"}})})});Wi.displayName=Bi;function ld(e){return e!==null}var cd=e=>({name:"transformOrigin",options:e,fn(t){var w,y,b;const{placement:n,rects:r,middlewareData:o}=t,i=((w=o.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,p]=Gi(n),c={start:"0%",center:"50%",end:"100%"}[p],h=(((y=o.arrow)==null?void 0:y.x)??0)+a/2,g=(((b=o.arrow)==null?void 0:b.y)??0)+l/2;let m="",v="";return u==="bottom"?(m=i?c:`${h}px`,v=`${-l}px`):u==="top"?(m=i?c:`${h}px`,v=`${r.floating.height+l}px`):u==="right"?(m=`${-l}px`,v=i?c:`${g}px`):u==="left"&&(m=`${r.floating.width+l}px`,v=i?c:`${g}px`),{data:{x:m,y:v}}}});function Gi(e){const[t,n="center"]=e.split("-");return[t,n]}var ud=Fi,dd=zi,fd=Hi,pd=Wi,hd="Portal",Ui=d.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=d.useState(!1);qt(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Vt.createPortal(f.jsx(Ne.div,{...r,ref:t}),i):null});Ui.displayName=hd;function md(e){const t=gd(e),n=d.forwardRef((r,o)=>{const{children:s,...i}=r,a=d.Children.toArray(s),l=a.find(yd);if(l){const u=l.props.children,p=a.map(c=>c===l?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:c);return f.jsx(t,{...i,ref:o,children:d.isValidElement(u)?d.cloneElement(u,void 0,p):null})}return f.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function gd(e){const t=d.forwardRef((n,r)=>{const{children:o,...s}=n;if(d.isValidElement(o)){const i=xd(o),a=bd(s,o.props);return o.type!==d.Fragment&&(a.ref=r?nn(r,i):i),d.cloneElement(o,a)}return d.Children.count(o)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vd=Symbol("radix.slottable");function yd(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vd}function bd(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function xd(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wd=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vi=wd.reduce((e,t)=>{const n=md(`Primitive.${t}`),r=d.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),er="rovingFocusGroup.onEntryFocus",Ed={bubbles:!1,cancelable:!0},on="RovingFocusGroup",[mr,Ki,Cd]=Cs(on),[Sd,qi]=dt(on,[Cd]),[Pd,Od]=Sd(on),Yi=d.forwardRef((e,t)=>f.jsx(mr.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(mr.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(Nd,{...e,ref:t})})}));Yi.displayName=on;var Nd=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:p=!1,...c}=e,h=d.useRef(null),g=pe(t,h),m=Ss(s),[v,w]=Mn({prop:i,defaultProp:a??null,onChange:l,caller:on}),[y,b]=d.useState(!1),E=Ue(u),C=Ki(n),x=d.useRef(!1),[S,O]=d.useState(0);return d.useEffect(()=>{const I=h.current;if(I)return I.addEventListener(er,E),()=>I.removeEventListener(er,E)},[E]),f.jsx(Pd,{scope:n,orientation:r,dir:m,loop:o,currentTabStopId:v,onItemFocus:d.useCallback(I=>w(I),[w]),onItemShiftTab:d.useCallback(()=>b(!0),[]),onFocusableItemAdd:d.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:d.useCallback(()=>O(I=>I-1),[]),children:f.jsx(Vi.div,{tabIndex:y||S===0?-1:0,"data-orientation":r,...c,ref:g,style:{outline:"none",...e.style},onMouseDown:q(e.onMouseDown,()=>{x.current=!0}),onFocus:q(e.onFocus,I=>{const R=!x.current;if(I.target===I.currentTarget&&R&&!y){const P=new CustomEvent(er,Ed);if(I.currentTarget.dispatchEvent(P),!P.defaultPrevented){const j=C().filter(J=>J.focusable),M=j.find(J=>J.active),X=j.find(J=>J.id===v),G=[M,X,...j].filter(Boolean).map(J=>J.ref.current);Zi(G,p)}}x.current=!1}),onBlur:q(e.onBlur,()=>b(!1))})})}),Xi="RovingFocusGroupItem",Ji=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:i,...a}=e,l=xn(),u=s||l,p=Od(Xi,n),c=p.currentTabStopId===u,h=Ki(n),{onFocusableItemAdd:g,onFocusableItemRemove:m,currentTabStopId:v}=p;return d.useEffect(()=>{if(r)return g(),()=>m()},[r,g,m]),f.jsx(mr.ItemSlot,{scope:n,id:u,focusable:r,active:o,children:f.jsx(Vi.span,{tabIndex:c?0:-1,"data-orientation":p.orientation,...a,ref:t,onMouseDown:q(e.onMouseDown,w=>{r?p.onItemFocus(u):w.preventDefault()}),onFocus:q(e.onFocus,()=>p.onItemFocus(u)),onKeyDown:q(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){p.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=Td(w,p.orientation,p.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=h().filter(C=>C.focusable).map(C=>C.ref.current);if(y==="last")E.reverse();else if(y==="prev"||y==="next"){y==="prev"&&E.reverse();const C=E.indexOf(w.currentTarget);E=p.loop?jd(E,C+1):E.slice(C+1)}setTimeout(()=>Zi(E))}}),children:typeof i=="function"?i({isCurrentTabStop:c,hasTabStop:v!=null}):i})})});Ji.displayName=Xi;var Rd={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Id(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Td(e,t,n){const r=Id(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Rd[r]}function Zi(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function jd(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Md=Yi,Ad=Ji,gr=["Enter"," "],_d=["ArrowDown","PageUp","Home"],Qi=["ArrowUp","PageDown","End"],kd=[..._d,...Qi],Ld={ltr:[...gr,"ArrowRight"],rtl:[...gr,"ArrowLeft"]},Dd={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sn="Menu",[Zt,Fd,$d]=Cs(sn),[ht,ea]=dt(sn,[$d,Li,qi]),$n=Li(),ta=qi(),[zd,mt]=ht(sn),[Hd,an]=ht(sn),na=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=$n(t),[l,u]=d.useState(null),p=d.useRef(!1),c=Ue(s),h=Ss(o);return d.useEffect(()=>{const g=()=>{p.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>p.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),f.jsx(ud,{...a,children:f.jsx(zd,{scope:t,open:n,onOpenChange:c,content:l,onContentChange:u,children:f.jsx(Hd,{scope:t,onClose:d.useCallback(()=>c(!1),[c]),isUsingKeyboardRef:p,dir:h,modal:i,children:r})})})};na.displayName=sn;var Bd="MenuAnchor",$r=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=$n(n);return f.jsx(dd,{...o,...r,ref:t})});$r.displayName=Bd;var zr="MenuPortal",[Wd,ra]=ht(zr,{forceMount:void 0}),oa=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=mt(zr,t);return f.jsx(Wd,{scope:t,forceMount:n,children:f.jsx(ft,{present:n||s.open,children:f.jsx(Ui,{asChild:!0,container:o,children:r})})})};oa.displayName=zr;var Oe="MenuContent",[Gd,Hr]=ht(Oe),sa=d.forwardRef((e,t)=>{const n=ra(Oe,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=mt(Oe,e.__scopeMenu),i=an(Oe,e.__scopeMenu);return f.jsx(Zt.Provider,{scope:e.__scopeMenu,children:f.jsx(ft,{present:r||s.open,children:f.jsx(Zt.Slot,{scope:e.__scopeMenu,children:i.modal?f.jsx(Ud,{...o,ref:t}):f.jsx(Vd,{...o,ref:t})})})})}),Ud=d.forwardRef((e,t)=>{const n=mt(Oe,e.__scopeMenu),r=d.useRef(null),o=pe(t,r);return d.useEffect(()=>{const s=r.current;if(s)return ss(s)},[]),f.jsx(Br,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:q(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Vd=d.forwardRef((e,t)=>{const n=mt(Oe,e.__scopeMenu);return f.jsx(Br,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Kd=Ni("MenuContent.ScrollLock"),Br=d.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:p,onFocusOutside:c,onInteractOutside:h,onDismiss:g,disableOutsideScroll:m,...v}=e,w=mt(Oe,n),y=an(Oe,n),b=$n(n),E=ta(n),C=Fd(n),[x,S]=d.useState(null),O=d.useRef(null),I=pe(t,O,w.onContentChange),R=d.useRef(0),P=d.useRef(""),j=d.useRef(0),M=d.useRef(null),X=d.useRef("right"),K=d.useRef(0),G=m?is:d.Fragment,J=m?{as:Kd,allowPinchZoom:!0}:void 0,se=$=>{var k,H;const le=P.current+$,re=C().filter(U=>!U.disabled),ue=document.activeElement,_=(k=re.find(U=>U.ref.current===ue))==null?void 0:k.textValue,z=re.map(U=>U.textValue),W=sf(z,le,_),F=(H=re.find(U=>U.textValue===W))==null?void 0:H.ref.current;(function U(ne){P.current=ne,window.clearTimeout(R.current),ne!==""&&(R.current=window.setTimeout(()=>U(""),1e3))})(le),F&&setTimeout(()=>F.focus())};d.useEffect(()=>()=>window.clearTimeout(R.current),[]),as();const oe=d.useCallback($=>{var re,ue;return X.current===((re=M.current)==null?void 0:re.side)&&lf($,(ue=M.current)==null?void 0:ue.area)},[]);return f.jsx(Gd,{scope:n,searchRef:P,onItemEnter:d.useCallback($=>{oe($)&&$.preventDefault()},[oe]),onItemLeave:d.useCallback($=>{var le;oe($)||((le=O.current)==null||le.focus(),S(null))},[oe]),onTriggerLeave:d.useCallback($=>{oe($)&&$.preventDefault()},[oe]),pointerGraceTimerRef:j,onPointerGraceIntentChange:d.useCallback($=>{M.current=$},[]),children:f.jsx(G,{...J,children:f.jsx(Mi,{asChild:!0,trapped:o,onMountAutoFocus:q(s,$=>{var le;$.preventDefault(),(le=O.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:f.jsx(Ti,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:p,onFocusOutside:c,onInteractOutside:h,onDismiss:g,children:f.jsx(Md,{asChild:!0,...E,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:x,onCurrentTabStopIdChange:S,onEntryFocus:q(l,$=>{y.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(fd,{role:"menu","aria-orientation":"vertical","data-state":wa(w.open),"data-radix-menu-content":"",dir:y.dir,...b,...v,ref:I,style:{outline:"none",...v.style},onKeyDown:q(v.onKeyDown,$=>{const re=$.target.closest("[data-radix-menu-content]")===$.currentTarget,ue=$.ctrlKey||$.altKey||$.metaKey,_=$.key.length===1;re&&($.key==="Tab"&&$.preventDefault(),!ue&&_&&se($.key));const z=O.current;if($.target!==z||!kd.includes($.key))return;$.preventDefault();const F=C().filter(k=>!k.disabled).map(k=>k.ref.current);Qi.includes($.key)&&F.reverse(),rf(F)}),onBlur:q(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(R.current),P.current="")}),onPointerMove:q(e.onPointerMove,Qt($=>{const le=$.target,re=K.current!==$.clientX;if($.currentTarget.contains(le)&&re){const ue=$.clientX>K.current?"right":"left";X.current=ue,K.current=$.clientX}}))})})})})})})});sa.displayName=Oe;var qd="MenuGroup",Wr=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.jsx(Ne.div,{role:"group",...r,ref:t})});Wr.displayName=qd;var Yd="MenuLabel",ia=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.jsx(Ne.div,{...r,ref:t})});ia.displayName=Yd;var Pn="MenuItem",Eo="menu.itemSelect",zn=d.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=d.useRef(null),i=an(Pn,e.__scopeMenu),a=Hr(Pn,e.__scopeMenu),l=pe(t,s),u=d.useRef(!1),p=()=>{const c=s.current;if(!n&&c){const h=new CustomEvent(Eo,{bubbles:!0,cancelable:!0});c.addEventListener(Eo,g=>r==null?void 0:r(g),{once:!0}),Ri(c,h),h.defaultPrevented?u.current=!1:i.onClose()}};return f.jsx(aa,{...o,ref:l,disabled:n,onClick:q(e.onClick,p),onPointerDown:c=>{var h;(h=e.onPointerDown)==null||h.call(e,c),u.current=!0},onPointerUp:q(e.onPointerUp,c=>{var h;u.current||(h=c.currentTarget)==null||h.click()}),onKeyDown:q(e.onKeyDown,c=>{const h=a.searchRef.current!=="";n||h&&c.key===" "||gr.includes(c.key)&&(c.currentTarget.click(),c.preventDefault())})})});zn.displayName=Pn;var aa=d.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=Hr(Pn,n),a=ta(n),l=d.useRef(null),u=pe(t,l),[p,c]=d.useState(!1),[h,g]=d.useState("");return d.useEffect(()=>{const m=l.current;m&&g((m.textContent??"").trim())},[s.children]),f.jsx(Zt.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:f.jsx(Ad,{asChild:!0,...a,focusable:!r,children:f.jsx(Ne.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:q(e.onPointerMove,Qt(m=>{r?i.onItemLeave(m):(i.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:q(e.onPointerLeave,Qt(m=>i.onItemLeave(m))),onFocus:q(e.onFocus,()=>c(!0)),onBlur:q(e.onBlur,()=>c(!1))})})})}),Xd="MenuCheckboxItem",la=d.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return f.jsx(pa,{scope:e.__scopeMenu,checked:n,children:f.jsx(zn,{role:"menuitemcheckbox","aria-checked":On(n)?"mixed":n,...o,ref:t,"data-state":Ur(n),onSelect:q(o.onSelect,()=>r==null?void 0:r(On(n)?!0:!n),{checkForDefaultPrevented:!1})})})});la.displayName=Xd;var ca="MenuRadioGroup",[Jd,Zd]=ht(ca,{value:void 0,onValueChange:()=>{}}),ua=d.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=Ue(r);return f.jsx(Jd,{scope:e.__scopeMenu,value:n,onValueChange:s,children:f.jsx(Wr,{...o,ref:t})})});ua.displayName=ca;var da="MenuRadioItem",fa=d.forwardRef((e,t)=>{const{value:n,...r}=e,o=Zd(da,e.__scopeMenu),s=n===o.value;return f.jsx(pa,{scope:e.__scopeMenu,checked:s,children:f.jsx(zn,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Ur(s),onSelect:q(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});fa.displayName=da;var Gr="MenuItemIndicator",[pa,Qd]=ht(Gr,{checked:!1}),ha=d.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=Qd(Gr,n);return f.jsx(ft,{present:r||On(s.checked)||s.checked===!0,children:f.jsx(Ne.span,{...o,ref:t,"data-state":Ur(s.checked)})})});ha.displayName=Gr;var ef="MenuSeparator",ma=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});ma.displayName=ef;var tf="MenuArrow",ga=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=$n(n);return f.jsx(pd,{...o,...r,ref:t})});ga.displayName=tf;var nf="MenuSub",[Cg,va]=ht(nf),Wt="MenuSubTrigger",ya=d.forwardRef((e,t)=>{const n=mt(Wt,e.__scopeMenu),r=an(Wt,e.__scopeMenu),o=va(Wt,e.__scopeMenu),s=Hr(Wt,e.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:e.__scopeMenu},p=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>p,[p]),d.useEffect(()=>{const c=a.current;return()=>{window.clearTimeout(c),l(null)}},[a,l]),f.jsx($r,{asChild:!0,...u,children:f.jsx(aa,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":wa(n.open),...e,ref:nn(t,o.onTriggerChange),onClick:c=>{var h;(h=e.onClick)==null||h.call(e,c),!(e.disabled||c.defaultPrevented)&&(c.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:q(e.onPointerMove,Qt(c=>{s.onItemEnter(c),!c.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:q(e.onPointerLeave,Qt(c=>{var g,m;p();const h=(g=n.content)==null?void 0:g.getBoundingClientRect();if(h){const v=(m=n.content)==null?void 0:m.dataset.side,w=v==="right",y=w?-5:5,b=h[w?"left":"right"],E=h[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:c.clientX+y,y:c.clientY},{x:b,y:h.top},{x:E,y:h.top},{x:E,y:h.bottom},{x:b,y:h.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(c),c.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:q(e.onKeyDown,c=>{var g;const h=s.searchRef.current!=="";e.disabled||h&&c.key===" "||Ld[r.dir].includes(c.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),c.preventDefault())})})})});ya.displayName=Wt;var ba="MenuSubContent",xa=d.forwardRef((e,t)=>{const n=ra(Oe,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=mt(Oe,e.__scopeMenu),i=an(Oe,e.__scopeMenu),a=va(ba,e.__scopeMenu),l=d.useRef(null),u=pe(t,l);return f.jsx(Zt.Provider,{scope:e.__scopeMenu,children:f.jsx(ft,{present:r||s.open,children:f.jsx(Zt.Slot,{scope:e.__scopeMenu,children:f.jsx(Br,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var c;i.isUsingKeyboardRef.current&&((c=l.current)==null||c.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:q(e.onFocusOutside,p=>{p.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:q(e.onEscapeKeyDown,p=>{i.onClose(),p.preventDefault()}),onKeyDown:q(e.onKeyDown,p=>{var g;const c=p.currentTarget.contains(p.target),h=Dd[i.dir].includes(p.key);c&&h&&(s.onOpenChange(!1),(g=a.trigger)==null||g.focus(),p.preventDefault())})})})})})});xa.displayName=ba;function wa(e){return e?"open":"closed"}function On(e){return e==="indeterminate"}function Ur(e){return On(e)?"indeterminate":e?"checked":"unchecked"}function rf(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function of(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function sf(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=of(e,Math.max(s,0));o.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function af(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s],l=t[i],u=a.x,p=a.y,c=l.x,h=l.y;p>r!=h>r&&n<(c-u)*(r-p)/(h-p)+u&&(o=!o)}return o}function lf(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return af(n,t)}function Qt(e){return t=>t.pointerType==="mouse"?e(t):void 0}var cf=na,uf=$r,df=oa,ff=sa,pf=Wr,hf=ia,mf=zn,gf=la,vf=ua,yf=fa,bf=ha,xf=ma,wf=ga,Ef=ya,Cf=xa,Hn="DropdownMenu",[Sf,Sg]=dt(Hn,[ea]),be=ea(),[Pf,Ea]=Sf(Hn),Ca=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=be(t),u=d.useRef(null),[p,c]=Mn({prop:o,defaultProp:s??!1,onChange:i,caller:Hn});return f.jsx(Pf,{scope:t,triggerId:xn(),triggerRef:u,contentId:xn(),open:p,onOpenChange:c,onOpenToggle:d.useCallback(()=>c(h=>!h),[c]),modal:a,children:f.jsx(cf,{...l,open:p,onOpenChange:c,dir:r,modal:a,children:n})})};Ca.displayName=Hn;var Sa="DropdownMenuTrigger",Pa=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=Ea(Sa,n),i=be(n);return f.jsx(uf,{asChild:!0,...i,children:f.jsx(ku.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:nn(t,s.triggerRef),onPointerDown:q(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:q(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Pa.displayName=Sa;var Of="DropdownMenuPortal",Oa=e=>{const{__scopeDropdownMenu:t,...n}=e,r=be(t);return f.jsx(df,{...r,...n})};Oa.displayName=Of;var Na="DropdownMenuContent",Ra=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ea(Na,n),s=be(n),i=d.useRef(!1);return f.jsx(ff,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:q(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:q(e.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,p=l.button===2||u;(!o.modal||p)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ra.displayName=Na;var Nf="DropdownMenuGroup",Rf=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(pf,{...o,...r,ref:t})});Rf.displayName=Nf;var If="DropdownMenuLabel",Tf=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(hf,{...o,...r,ref:t})});Tf.displayName=If;var jf="DropdownMenuItem",Mf=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(mf,{...o,...r,ref:t})});Mf.displayName=jf;var Af="DropdownMenuCheckboxItem",_f=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(gf,{...o,...r,ref:t})});_f.displayName=Af;var kf="DropdownMenuRadioGroup",Lf=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(vf,{...o,...r,ref:t})});Lf.displayName=kf;var Df="DropdownMenuRadioItem",Ff=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(yf,{...o,...r,ref:t})});Ff.displayName=Df;var $f="DropdownMenuItemIndicator",zf=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(bf,{...o,...r,ref:t})});zf.displayName=$f;var Hf="DropdownMenuSeparator",Bf=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(xf,{...o,...r,ref:t})});Bf.displayName=Hf;var Wf="DropdownMenuArrow",Gf=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(wf,{...o,...r,ref:t})});Gf.displayName=Wf;var Uf="DropdownMenuSubTrigger",Vf=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(Ef,{...o,...r,ref:t})});Vf.displayName=Uf;var Kf="DropdownMenuSubContent",qf=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(Cf,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qf.displayName=Kf;const Yf=Object.assign({"/content/solutions/bounce.json":()=>Se(()=>import("./bounce-nwacWhlx.js"),[]),"/content/solutions/calculator.json":()=>Se(()=>import("./calculator-BLDd87wU.js"),[]),"/content/solutions/forward.json":()=>Se(()=>import("./forward-BKVi5pt4.js"),[]),"/content/solutions/gravity.json":()=>Se(()=>import("./gravity-CtxKKnNp.js"),[]),"/content/solutions/inverse.json":()=>Se(()=>import("./inverse-RT0_yQ5D.js"),[]),"/content/solutions/linear.json":()=>Se(()=>import("./linear-aosZl-4w.js"),[]),"/content/solutions/looping.json":()=>Se(()=>import("./looping-BNZIRDGx.js"),[]),"/content/solutions/move.json":()=>Se(()=>import("./move-h0U623tN.js"),[]),"/content/solutions/parenting.json":()=>Se(()=>import("./parenting-TpkiWIJA.js"),[]),"/content/solutions/playground.json":()=>Se(()=>import("./playground-CPt6jU9v.js"),[]),"/content/solutions/reverse.json":()=>Se(()=>import("./reverse-S71ZVS-o.js"),[]),"/content/solutions/sitting.json":()=>Se(()=>import("./sitting-Bzwaw5Wm.js"),[])}),Xf=()=>{const{setNodes:e,setEdges:t,setViewport:n}=Ee(),r=ce(u=>u.currentLevel),o=ye[r].hints.length?ye[r].hints:["No hints here"],[s,i]=d.useState(0),a=Yf[`/content/solutions/${r}.json`],l=async()=>{const u=await a();if(u){u.data&&(localStorage.setItem(`data-store-${r}`,JSON.stringify(u.data)),Be.getState().init(r));const{x:p=0,y:c=0,zoom:h=1}=u.viewport||{};e(u.nodes),t(u.edges),n({x:p,y:c,zoom:h})}};return f.jsxs(Tr,{children:[f.jsx(jr,{asChild:!0,children:f.jsx(ke,{id:"help-menu",side:"left",tooltip:"Help Menu","aria-label":"Help Menu",children:f.jsx(zl,{className:"text-white"})})}),f.jsx(Ar,{children:f.jsx(_r,{side:"bottom",className:"mr-3",children:f.jsxs("div",{className:"flex w-200 flex-col gap-4 rounded bg-slate-800 p-4 font-mono text-white shadow-lg outline-1 outline-slate-700 outline-solid",children:[f.jsxs("div",{className:"flex flex-row justify-between",children:[f.jsx("h1",{className:"text-xl",children:"Hints"}),f.jsxs(cs,{children:[f.jsx(us,{asChild:!0,children:f.jsx("button",{className:"cursor-pointer rounded bg-slate-700 px-2 py-1 text-left text-sm text-white hover:bg-slate-600",onClick:()=>{localStorage.setItem("hideTutorial","false")},children:"Reset Tutorials"})}),f.jsx(ds,{side:"left",children:f.jsx("p",{children:"Restore all tutorial prompts and guidance messages previously skipped"})})]})]}),o[s],f.jsx(Et,{className:"text-slate-400 italic hover:underline",target:"_blank",to:`/docs/level-guides/${ye[r].slug}`,children:"Find information on this topic here"}),f.jsx("hr",{className:"mx-auto h-1 w-full rounded-sm border-0 bg-slate-700"}),f.jsxs("div",{className:"flex flex-row justify-center gap-2",children:[f.jsx("button",{disabled:s===0,className:Kt("rounded bg-slate-700 px-2 py-1 text-left text-sm text-white",s===0?"opacity-50":"cursor-pointer hover:bg-slate-600"),onClick:()=>{s>0&&i(s-1)},children:"Previous Hint"}),f.jsx("button",{disabled:s===o.length-1,className:Kt("rounded bg-slate-700 px-2 py-1 text-left text-sm text-white",s===o.length-1?"opacity-50":"cursor-pointer hover:bg-slate-600"),onClick:()=>{s<o.length-1&&i(s+1)},children:"Next Hint"}),s===o.length-1&&f.jsx("button",{className:"hover:bg-jam-600 cursor-pointer rounded bg-slate-700 px-2 py-1 text-left text-sm text-white",onClick:l,children:"Full Solution"})]})]})})})]})},Jf=()=>{const{getNodes:e,getEdges:t}=Ee();He(s=>s.debugPrint);const[n,r]=d.useState(!1),o=Ke();return f.jsxs(An,{position:"top-right",className:"flex flex-col items-end justify-center gap-2",children:[f.jsxs(Ca,{open:n,onOpenChange:r,children:[f.jsx(Pa,{asChild:!0,children:f.jsx(ke,{id:"add-nodes",side:"left",tooltip:f.jsxs("p",{children:["Add Node",f.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:o?"⌥+Space":"Ctrl+Space"})]}),"aria-label":"Add Node",children:f.jsx(Hl,{className:"text-white"})})}),f.jsx(Oa,{children:f.jsx(Ra,{align:"end",children:f.jsx(Lr,{onClose:()=>r(!1),x:1800,y:400})})})]}),f.jsx(Xf,{}),!1]})},Zf=B.forwardRef(({nodeIds:e,x:t,y:n,onClose:r},o)=>{const{getNodes:s,getEdges:i,setNodes:a,setEdges:l,deleteElements:u}=Ee(),{setCopiedNodes:p}=tt(),c=d.useCallback(()=>{const v=s(),w=Nt(e,v);p(w),r()},[s,e,p,r]),h=d.useCallback(()=>{const v=s(),w=Nt(e,v);Ot(w,i,s,l,a),r()},[s,i,a,l,e,r]),g=d.useCallback(()=>{const v=s(),w=i();u({nodes:v.filter(y=>e.includes(y.id)),edges:w.filter(y=>e.includes(y.source)||e.includes(y.target))}),r()},[u,i,s,e,r]),m=Ke();return f.jsx("div",{ref:o,style:{position:"absolute",top:n,left:t,zIndex:1e3},children:f.jsxs(An,{className:"flex w-55 flex-col gap-1 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:[f.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:c,children:[f.jsxs("span",{children:["Copy ",e.length," nodes"]}),f.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:m?"⌥+C":"Ctrl+C"})]}),f.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:h,children:[f.jsxs("span",{children:["Duplicate ",e.length," nodes"]}),f.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:m?"⌥+D":"Ctrl+D"})]}),f.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:g,children:[f.jsxs("span",{children:["Delete ",e.length," nodes"]}),f.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:"Del"})]})]})})}),Ia=["shift","alt","meta","mod","ctrl","control"],Qf={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Qe(e){return(Qf[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function Ta(e){return Ia.includes(e)}function tr(e,t=","){return e.toLowerCase().split(t)}function nr(e,t="+",n=">",r=!1,o){let s=[],i=!1;e.includes(n)?(i=!0,s=e.toLocaleLowerCase().split(n).map(u=>Qe(u))):s=e.toLocaleLowerCase().split(t).map(u=>Qe(u));const a={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),shift:s.includes("shift"),meta:s.includes("meta"),mod:s.includes("mod"),useKey:r},l=s.filter(u=>!Ia.includes(u));return{...a,keys:l,description:o,isSequence:i}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&ja([Qe(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&Ma([Qe(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{We.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{We.clear()},0)}));const We=new Set;function Vr(e){return Array.isArray(e)}function ep(e,t=","){return(Vr(e)?e:e.split(t)).every(n=>We.has(n.trim().toLowerCase()))}function ja(e){const t=Array.isArray(e)?e:[e];We.has("meta")&&We.forEach(n=>!Ta(n)&&We.delete(n.toLowerCase())),t.forEach(n=>We.add(n.toLowerCase()))}function Ma(e){const t=Array.isArray(e)?e:[e];e==="meta"?We.clear():t.forEach(n=>We.delete(n.toLowerCase()))}function tp(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function np(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function rp(e){return Aa(e,["input","textarea","select"])}function Aa(e,t=!1){const{target:n,composed:r}=e;let o;return op(n)&&r?o=e.composedPath()[0]&&e.composedPath()[0].tagName:o=n&&n.tagName,Vr(t)?!!(o&&t&&t.some(s=>s.toLowerCase()===o.toLowerCase())):!!(o&&t&&t)}function op(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function sp(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const ip=(e,t,n=!1)=>{const{alt:r,meta:o,mod:s,shift:i,ctrl:a,keys:l,useKey:u}=t,{code:p,key:c,ctrlKey:h,metaKey:g,shiftKey:m,altKey:v}=e,w=Qe(p);if(u&&(l==null?void 0:l.length)===1&&l.includes(c))return!0;if(!(l!=null&&l.includes(w))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(w))return!1;if(!n){if(r!==v&&w!=="alt"||i!==m&&w!=="shift")return!1;if(s){if(!g&&!h)return!1}else if(o!==g&&w!=="meta"&&w!=="os"||a!==h&&w!=="ctrl"&&w!=="control")return!1}return l&&l.length===1&&l.includes(w)?!0:l?ep(l):!l},ap=d.createContext(void 0),lp=()=>d.useContext(ap);function _a(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,r)=>n&&_a(e[r],t[r]),!0):e===t}const cp=d.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),up=()=>d.useContext(cp);function dp(e){const t=d.useRef(void 0);return _a(t.current,e)||(t.current=e),t.current}const Co=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},fp=typeof window<"u"?d.useLayoutEffect:d.useEffect;function gt(e,t,n,r){const o=d.useRef(null),s=d.useRef(!1),i=n instanceof Array?r instanceof Array?void 0:r:n,a=Vr(e)?e.join(i==null?void 0:i.delimiter):e,l=n instanceof Array?n:r instanceof Array?r:void 0,u=d.useCallback(t,l??[]),p=d.useRef(u);l?p.current=u:p.current=t;const c=dp(i),{activeScopes:h}=up(),g=lp();return fp(()=>{if((c==null?void 0:c.enabled)===!1||!sp(h,c==null?void 0:c.scopes))return;let m=[],v;const w=(C,x=!1)=>{var S;if(!(rp(C)&&!Aa(C,c==null?void 0:c.enableOnFormTags))){if(o.current!==null){const O=o.current.getRootNode();if((O instanceof Document||O instanceof ShadowRoot)&&O.activeElement!==o.current&&!o.current.contains(O.activeElement)){Co(C);return}}(S=C.target)!=null&&S.isContentEditable&&!(c!=null&&c.enableOnContentEditable)||tr(a,c==null?void 0:c.delimiter).forEach(O=>{var I,R,P,j;if(O.includes((c==null?void 0:c.splitKey)??"+")&&O.includes((c==null?void 0:c.sequenceSplitKey)??">")){console.warn(`Hotkey ${O} contains both ${(c==null?void 0:c.splitKey)??"+"} and ${(c==null?void 0:c.sequenceSplitKey)??">"} which is not supported.`);return}const M=nr(O,c==null?void 0:c.splitKey,c==null?void 0:c.sequenceSplitKey,c==null?void 0:c.useKey,c==null?void 0:c.description);if(M.isSequence){v=setTimeout(()=>{m=[]},(c==null?void 0:c.sequenceTimeoutMs)??1e3);const X=M.useKey?C.key:Qe(C.code);if(Ta(X.toLowerCase()))return;m.push(X);const K=(I=M.keys)==null?void 0:I[m.length-1];if(X!==K){m=[],v&&clearTimeout(v);return}m.length===((R=M.keys)==null?void 0:R.length)&&(p.current(C,M),v&&clearTimeout(v),m=[])}else if(ip(C,M,c==null?void 0:c.ignoreModifiers)||(P=M.keys)!=null&&P.includes("*")){if((j=c==null?void 0:c.ignoreEventWhen)!=null&&j.call(c,C)||x&&s.current)return;if(tp(C,M,c==null?void 0:c.preventDefault),!np(C,M,c==null?void 0:c.enabled)){Co(C);return}p.current(C,M),x||(s.current=!0)}})}},y=C=>{C.code!==void 0&&(ja(Qe(C.code)),((c==null?void 0:c.keydown)===void 0&&(c==null?void 0:c.keyup)!==!0||c!=null&&c.keydown)&&w(C))},b=C=>{C.code!==void 0&&(Ma(Qe(C.code)),s.current=!1,c!=null&&c.keyup&&w(C,!0))},E=o.current||(i==null?void 0:i.document)||document;return E.addEventListener("keyup",b,i==null?void 0:i.eventListenerOptions),E.addEventListener("keydown",y,i==null?void 0:i.eventListenerOptions),g&&tr(a,c==null?void 0:c.delimiter).forEach(C=>g.addHotkey(nr(C,c==null?void 0:c.splitKey,c==null?void 0:c.sequenceSplitKey,c==null?void 0:c.useKey,c==null?void 0:c.description))),()=>{E.removeEventListener("keyup",b,i==null?void 0:i.eventListenerOptions),E.removeEventListener("keydown",y,i==null?void 0:i.eventListenerOptions),g&&tr(a,c==null?void 0:c.delimiter).forEach(C=>g.removeHotkey(nr(C,c==null?void 0:c.splitKey,c==null?void 0:c.sequenceSplitKey,c==null?void 0:c.useKey,c==null?void 0:c.description))),m=[],v&&clearTimeout(v)}},[a,c,h]),o}function pp(){const{getNodes:e}=Ee(),{setCopiedNodes:t}=tt(),n=Ke();gt(n?"alt+c":"ctrl+c",()=>{const o=e(),s=o.filter(i=>i.selected).map(i=>i.id);if(s.length>0){const i=Nt(s,o);t(i)}},{enableOnFormTags:!1,preventDefault:!0},[e,t,n])}function hp(){const{getNodes:e,getEdges:t,setEdges:n,setNodes:r,screenToFlowPosition:o}=Ee(),{copiedNodes:s,hasCopiedNodes:i,lastPastePosition:a}=tt(),{mousePosition:l,canvasContainer:u}=St(),p=Ke(),c=p?"alt+v":"ctrl+v",h=()=>{let g,m;if(l)g=l.clientX,m=l.clientY;else if(a)g=a.x+50,m=a.y+50;else if(u){const v=u.getBoundingClientRect();g=v.left+v.width/2,m=v.top+v.height/2}else return console.warn("Cannot determine paste position: no coordinates available"),null;return{x:g,y:m}};gt(c,()=>{if(i()){const g=h();if(g){const m=o(g);Ot(s,t,e,n,r,{targetPosition:m}),tt.setState({lastPastePosition:g})}else Ot(s,t,e,n,r)}},{enableOnFormTags:!1,preventDefault:!0},[s,i,a,l,u,e,t,n,r,o,p])}function mp(){const{getNodes:e,getEdges:t,setEdges:n,setNodes:r}=Ee();gt(["ctrl+d","alt+d"],()=>{const s=e(),i=s.filter(a=>a.selected).map(a=>a.id);if(i.length>0){const a=Nt(i,s);Ot(a,t,e,n,r)}},{preventDefault:!0},[e,t,n,r])}function gp(){const{visible:e,openAddMenu:t,closeAddMenu:n}=St();gt(["ctrl+space","alt+space"],()=>{e?n():t()},{enableOnFormTags:!0,preventDefault:!0},[e])}function vp(){const e=Ke();gt(e?"alt+y":"ctrl+z",()=>Si(),{preventDefault:!0,useKey:!0},[e])}function yp(){const e=Ke();gt(e?["alt+shift+y","alt+z"]:["ctrl+y","ctrl+shift+z"],()=>Pi(),{preventDefault:!0,useKey:!0},[e])}function bp(e,t=!0){gt("esc",()=>{t&&e&&e()},{enableOnFormTags:!0,preventDefault:!0},[e,t])}function xp(){const[e,t]=d.useState(null),[n,r]=d.useState(null),[o,s]=d.useState(null),[i,a]=d.useState({pane:{width:270,height:280},node:{width:270,height:280},selection:{width:270,height:280}}),l=d.useRef(null),u=d.useRef(null),p=d.useRef(null),{visible:c,closeAddMenu:h,menuX:g,menuY:m}=St();d.useLayoutEffect(()=>{if(l.current){const R=l.current.getBoundingClientRect();a(P=>({...P,pane:{width:R.width,height:R.height}}))}},[e]),d.useLayoutEffect(()=>{if(u.current){const R=u.current.getBoundingClientRect();a(P=>({...P,node:{width:R.width,height:R.height}}))}},[n]),d.useLayoutEffect(()=>{if(p.current){const R=p.current.getBoundingClientRect();a(P=>({...P,selection:{width:R.width,height:R.height}}))}},[o]);const v=d.useCallback(R=>{R.preventDefault();const P=rr(R,i.pane);t({x:P.x,y:P.y})},[i.pane]),w=d.useCallback((R,P)=>{R.preventDefault();const j=rr(R,i.node);r({nodeId:P.id,nodeType:P.type,nodeLoopId:P.data.loopId,nodeParentId:P.parentId,x:j.x,y:j.y})},[i.node]),y=d.useCallback((R,P)=>{if(R.preventDefault(),P.length===0)return;const j=rr(R,i.selection);s({nodeIds:P.map(M=>M.id),x:j.x,y:j.y})},[i.selection]),b=d.useCallback(()=>{t(null),r(null),s(null),St.getState().closeAddMenu()},[]),E=b,C=e!==null||n!==null||o!==null||St.getState().visible;bp(b,C),mp(),gp(),vp(),yp(),pp(),hp();const x=e||c,S=(e==null?void 0:e.x)??g,O=(e==null?void 0:e.y)??m;return{paneContextMenu:e,nodeContextMenu:n,selectionContextMenu:o,shouldShowPaneContextMenu:x,paneContextMenuX:S,paneContextMenuY:O,setPaneContextMenu:t,setNodeContextMenu:r,setSelectionContextMenu:s,handlePaneContextMenu:v,handleNodeContextMenu:w,handleSelectionContextMenu:y,handleCloseCombinedMenu:()=>{t(null),h()},onPaneClick:E,paneContextMenuRef:l,nodeContextMenuRef:u,selectionContextMenuRef:p}}function rr(e,t){const n=e.clientX,r=e.clientY,o=n>window.innerWidth-t.width?window.innerWidth-t.width:n,s=r>window.innerHeight-t.height?window.innerHeight-t.height:r;return{x:o-15,y:s-15}}const So=e=>Symbol.iterator in e,Po=e=>"entries"in e,Oo=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[o,s]of n)if(!Object.is(s,r.get(o)))return!1;return!0},wp=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let o=n.next(),s=r.next();for(;!o.done&&!s.done;){if(!Object.is(o.value,s.value))return!1;o=n.next(),s=r.next()}return!!o.done&&!!s.done};function Ep(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:!So(e)||!So(t)?Oo({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)}):Po(e)&&Po(t)?Oo(e,t):wp(e,t)}function Cp(e){const t=B.useRef(void 0);return n=>{const r=e(n);return Ep(t.current,r)?t.current:t.current=r}}function Sp(e,t){if(t.length===0)return{bounds:{x:e.position.x,y:e.position.y,width:Xe.width,height:Xe.height,minWidth:Xe.width,minHeight:Xe.height},offset:{x:0,y:0}};const n=t.map(l=>({x:l.parentId?l.position.x+e.position.x:l.position.x,y:l.parentId?l.position.y+e.position.y:l.position.y,width:l.measured.width,height:l.measured.height})),r={x:{min:Math.min(...n.map(l=>l.x)),max:Math.max(...n.map(l=>l.x+l.width))},y:{min:Math.min(...n.map(l=>l.y)),max:Math.max(...n.map(l=>l.y+l.height))}},o={x:r.x.min-20,y:r.y.min-60,width:r.x.max-r.x.min+40,height:r.y.max-r.y.min+80},s={x:e.position.x,y:e.position.y,width:e.measured.width,height:e.measured.height},i={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y),width:Math.max(o.x+o.width,s.x+s.width)-Math.min(o.x,s.x),height:Math.max(o.y+o.height,s.y+s.height)-Math.min(o.y,s.y),minWidth:Math.max(o.x+o.width-Math.min(o.x,s.x),Xe.width),minHeight:Math.max(o.y+o.height-Math.min(o.y,s.y),Xe.height)},a={x:e.position.x-i.x,y:e.position.y-i.y};return{bounds:i,offset:a}}function Pp(e,t){const n=[],r=new Map,o=[];for(const s of e)if(s.type==="add"){o.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const i=r.get(s.id);i?i.push(s):r.set(s.id,[s])}for(const s of t){const i=r.get(s.id);if(!i){n.push(s);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){n.push({...i[0].item});continue}const a={...s};for(const l of i)Op(l,a);n.push(a)}return o.length&&o.forEach(s=>{s.index!==void 0?n.splice(s.item.type==="Group"?0:s.index,0,{...s.item}):n.push({...s.item})}),n}function Op(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Np(e,t){return Pp(e,t)}const Rp=e=>({nodes:e.nodes,edges:e.edges,setNodes:e.setNodes,setEdges:e.setEdges,highlightDuplicateNodes:e.highlightDuplicateNodes});function Ip(){const{getIntersectingNodes:e,getNode:t,getNodes:n,getEdges:r}=Ee(),{nodes:o,edges:s,setNodes:i,setEdges:a,highlightDuplicateNodes:l}=pt(Cp(Rp)),u=He(b=>b.replaceNode),p=He(b=>b.removeNode),c=He(b=>b.addEdge),h=He(b=>b.removeEdge),g=d.useCallback(async({nodes:b,edges:E})=>{const C=new Array(...b),x=new Array(...E);for(const S of b)if(S!=null&&S.data.loopId){const O=n().filter(I=>I.id!==S.id&&I.data.loopId===S.data.loopId)[0];C.push(O),i(I=>I.map(R=>({...R,data:{...R.data,parentLoopId:R.data.parentLoopId===S.data.loopId?void 0:R.data.parentLoopId}}))),x.push(...r().filter(I=>I.target===O.id||I.source===O.id))}return{nodes:C,edges:x}},[r,n,i]),m=d.useCallback(b=>{let E=!1;b.forEach(C=>{switch(C.type){case"replace":case"add":u(C.item),E=C.item.type==="ExportToGameobject";break;case"remove":{p(C.id),E=!0;break}}}),i(C=>Np(b,C)),E&&l()},[l,p,u,i]),v=d.useCallback(b=>{b.forEach(E=>{switch(E.type){case"remove":h(E.id);break;case"add":c(E.item);break}}),a(E=>ec(b,E))},[a,c,h]),w=d.useCallback(b=>{const E=t(b.source),C=t(b.target);(E!=null&&E.data.loopStart&&E.data.loopId===(C==null?void 0:C.data.loopId)||E!=null&&E.data.loopStart&&(C==null?void 0:C.data.parentLoopId)===E.data.loopId||E!=null&&E.data.loopEnd&&E.data.parentLoopId===(C==null?void 0:C.data.parentLoopId)||C!=null&&C.data.loopEnd&&(E==null?void 0:E.data.parentLoopId)===C.data.loopId||!(E!=null&&E.data.loopStart)&&!(C!=null&&C.data.loopEnd)&&(E==null?void 0:E.data.parentLoopId)===(C==null?void 0:C.data.parentLoopId)?!0:(Vl({title:"Invalid Loop Connection!",description:"Connections within loops are restricted to other nodes of the same loop. External nodes may only link to the loop's entry point or accept data from its exit point."}),!1))&&(c(b),a(S=>tc(b,S)))},[a,t,c]);return{nodes:o,edges:s,onNodesChange:m,onEdgesChange:v,onConnect:w,onNodeDragStop:(b,E,C)=>{const x={x:Math.min(...C.map(P=>P.parentId?P.position.x+t(P.parentId).position.x:P.position.x)),y:Math.min(...C.map(P=>P.parentId?P.position.y+t(P.parentId).position.y:P.position.y)),width:Math.max(...C.map(P=>P.position.x+P.measured.width))-Math.min(...C.map(P=>P.position.x)),height:Math.max(...C.map(P=>P.position.y+P.measured.height))-Math.min(...C.map(P=>P.position.y))},S=e(x).filter(P=>P.type==="Group"&&P.selected===!1),O=S.reduce((P,j)=>{const M=j.measured.width*j.measured.height,X=P.measured.width*P.measured.height;return M>X?j:P},S[0]),I=[],R=[];C.forEach(P=>{if(P.type!=="Group"){if(O){if(P.parentId===void 0)I.push({...P,parentId:O.id,position:{x:P.position.x-O.position.x,y:P.position.y-O.position.y}});else if(O.id!==P.parentId){if(!C.some(j=>j.id===P.parentId)){const j=t(P.parentId);if(!j){console.warn(`recently moved node ${P.id} has an invalid parentId of ${P.parentId}`);return}I.push({...P,parentId:O.id,position:{x:P.position.x+j.position.x-O.position.x,y:P.position.y+j.position.y-O.position.y}}),R.includes(j)||R.push(j)}}}else if(P.parentId!==void 0){if(!C.some(j=>j.id===P.parentId)){const j=t(P.parentId);if(!j){console.warn(`recently moved node ${P.id} has an invalid parentId of ${P.parentId}`);return}I.push({...P,parentId:void 0,position:{x:P.position.x+j.position.x,y:P.position.y+j.position.y}}),R.includes(j)||R.push(j)}}O&&R.push(O)}}),I.push(...R.map(P=>{const j=I.filter(G=>G.parentId===P.id),M=n().filter(G=>G.parentId===P.id&&!I.some(J=>J.id===G.id)),X=[...j,...M],K=Sp(P,X);return X.forEach(G=>{const J={x:G.position.x+K.offset.x,y:G.position.y+K.offset.y};j.some(se=>se.id===G.id)?I.splice(I.findIndex(se=>se.id===G.id),1,{...G,position:J}):I.push({...G,position:J})}),{...P,position:{x:K.bounds.x,y:K.bounds.y},data:{...P.data,isParent:X.length>0,minWidth:K.bounds.minWidth,minHeight:K.bounds.minHeight},style:{zIndex:-1},width:K.bounds.width,height:K.bounds.height}})),i(P=>P.map(M=>{const X=I.find(K=>K.id===M.id);return X?{...X,dragging:!1}:{...M,dragging:!1}}))},onBeforeDelete:g}}function ka(e,t){const n=t.find(r=>r.id===e);return(n==null?void 0:n.displayName)||e}const Tp=d.memo(({id:e,data:t})=>{const n=Be(y=>y.gameObjects),r=ce(y=>y.currentLevel),o=ye[r].modifiableGameObjects,s=Array.from(n.keys()),i=d.useCallback(y=>ka(y,o),[o]),{isOpen:a,getToggleButtonProps:l,getMenuProps:u,getLabelProps:p,highlightedIndex:c,getItemProps:h,selectedGameObjects:g,handleReorder:m}=Ps(s,t.selectedGameObjects?t.selectedGameObjects:[s[0]],e),v=d.useMemo(()=>Os("import",n,g),[n,g]),{updateNodeData:w}=Ee();return d.useEffect(()=>{w(e,{compute:(y,b)=>{const E=g.length===1?0:Math.round(dr(y,wn,-1));if(0>E||E>=g.length){b.clear();return}const C=g[E];v.forEach(x=>{b.set(x,n.get(C).get(x).getValue())})},selectedGameObjects:g})},[v]),f.jsx("div",{className:"min-w-48",children:f.jsxs(Ns,{label:"Import From Gameobject",type:"import",docsName:"import",children:[f.jsxs("div",{className:"text-left",children:[g.length>1&&f.jsx(Rs,{id:wn,position:En.Left}),f.jsx(Is,{highlightedIndex:c,isOpen:a,selectableObjects:s,selectedObjects:g,onReorder:m,getDisplayName:i,useSelectProps:{getItemProps:h,getLabelProps:p,getMenuProps:u,getToggleButtonProps:l}})]}),v.map(y=>f.jsx(Ts,{id:y,position:En.Right,label:y},y))]})})}),jp=d.memo(({id:e,data:t,selected:n})=>{const r=ce(x=>x.currentLevel),o=ye[r].modifiableGameObjects,s=Be(x=>x.gameObjects),i=Array.from(s.keys()),a=d.useCallback(x=>ka(x,o),[o]),{isOpen:l,getToggleButtonProps:u,getMenuProps:p,getLabelProps:c,highlightedIndex:h,getItemProps:g,selectedGameObjects:m,handleReorder:v}=Ps(i,t.selectedGameObjects?t.selectedGameObjects:[i[0]],e),w=d.useMemo(()=>Os("export",s,m),[s,m]),y=Be(x=>x.setData),b=Be(x=>x.addHandle),E=Be(x=>x.removeHandle),{updateNodeData:C}=Ee();return d.useEffect(()=>{C(e,{compute:x=>{const S=m.length===1?0:Math.round(dr(x,wn,-1));if(0>S||S>=m.length)return;const O=m[S];w.forEach(I=>{y(O,I,dr(x,I,0))})},selectedGameObjects:m})},[w]),f.jsx("div",{children:f.jsxs(Ns,{label:"Export To Gameobject",type:"export",docsName:"export",children:[f.jsxs("div",{className:"text-left",children:[m.length>1&&f.jsx(Rs,{id:wn,position:En.Left}),f.jsx(Is,{highlightedIndex:h,isOpen:l,selectableObjects:i,selectedObjects:m,onReorder:v,getDisplayName:a,useSelectProps:{getItemProps:g,getLabelProps:c,getMenuProps:p,getToggleButtonProps:u}})]}),w.map(x=>f.jsxs("div",{className:"flex w-full items-center [&>*:nth-child(even)]:pointer-events-none [&>*:nth-child(even)]:opacity-0 hover:[&>*:nth-child(even)]:pointer-events-auto hover:[&>*:nth-child(even)]:opacity-100 "+(n?"hover:bg-slate-800":"hover:bg-slate-700"),children:[f.jsx(Ts,{id:x,position:En.Left,label:x},x),!o.some(({id:S,connections:O})=>m.includes(S)&&O.some(I=>I.label===x))&&f.jsx(Bl,{className:"mt-[1px] ml-2 cursor-pointer text-red-400",onClick:()=>{m.forEach(S=>E(S,x))}})]},x)),!!m.length&&f.jsx(nc,{handleIdentifiers:m,nodeId:e,initialLabel:t.handleLabel??"",addHandle:(x,S)=>b(x,S)})]})})}),Mp={Value:pc,Display:fc,Time:dc,KeyPress:uc,Math:cc,WorldToLocal:lc,ExportToGameobject:jp,ImportFromGameobject:Tp,Switch:ac,Group:ic,ForStart:sc,ForEnd:oc,MousePosition:rc},Ap=()=>{const{nodes:e,edges:t,onNodesChange:n,onEdgesChange:r,onConnect:o,onNodeDragStop:s,onBeforeDelete:i}=Ip(),{nodeContextMenu:a,selectionContextMenu:l,shouldShowPaneContextMenu:u,paneContextMenuX:p,paneContextMenuY:c,handlePaneContextMenu:h,handleNodeContextMenu:g,handleSelectionContextMenu:m,onPaneClick:v,setNodeContextMenu:w,setSelectionContextMenu:y,handleCloseCombinedMenu:b,nodeContextMenuRef:E,selectionContextMenuRef:C,paneContextMenuRef:x}=xp(),S=d.useRef(null);return Zc(S),f.jsxs(f.Fragment,{children:[f.jsxs(gc,{id:"node-editor",nodeTypes:Mp,edgeTypes:eu,nodes:e,edges:t,onNodesChange:n,onEdgesChange:r,onPaneContextMenu:h,onNodeContextMenu:g,onSelectionContextMenu:m,onConnect:o,onPaneClick:v,disableKeyboardA11y:!0,fitView:!0,proOptions:{hideAttribution:!0},deleteKeyCode:["Delete","Backspace"],onNodeDragStop:s,onBeforeDelete:i,ref:S,defaultEdgeOptions:{type:"Deletable"},children:[f.jsx(vc,{bgColor:"#14141d",color:"#a7abc2"}),f.jsx(Jf,{}),f.jsx(tu,{}),f.jsx(Su,{}),f.jsx(Kl,{})]}),u&&f.jsx(Ou,{ref:x,x:p,y:c,onClose:b}),a&&f.jsx(Pu,{ref:E,nodeId:a.nodeId,nodeType:a.nodeType,nodeLoopId:a.nodeLoopId,nodeParentId:a.nodeParentId,x:a.x,y:a.y,onClose:()=>w(null)}),l&&f.jsx(Zf,{ref:C,nodeIds:l.nodeIds,x:l.x,y:l.y,onClose:()=>y(null)})]})},_p=()=>f.jsx(hc,{children:f.jsx(mc,{children:f.jsx(Ap,{})})});function kp({open:e}){var p;const t=ce(c=>c.currentLevel),n=((p=ye[t])==null?void 0:p.goals)||["No goals defined for this level yet."],[r,o]=d.useState({x:16,y:16}),s=d.useRef(null),i=d.useRef({isDragging:!1,offset:{x:0,y:0}}),a=c=>{i.current.isDragging=!0,i.current.offset={x:c.clientX-r.x,y:c.clientY-r.y},c.preventDefault()},l=c=>{var w,y;if(!i.current.isDragging)return;let h=c.clientX-i.current.offset.x,g=c.clientY-i.current.offset.y;c.shiftKey&&(h=Math.round(h/16)*16,g=Math.round(g/16)*16);const m=((w=s.current)==null?void 0:w.offsetWidth)??288,v=((y=s.current)==null?void 0:y.offsetHeight)??128;h=Math.max(0,Math.min(window.innerWidth-m,h)),g=Math.max(0,Math.min(window.innerHeight-v,g)),o({x:h,y:g})},u=()=>{i.current.isDragging=!1};return d.useEffect(()=>{const c=g=>l(g),h=()=>u();return document.addEventListener("mouseup",h),document.addEventListener("mousemove",c),()=>{document.removeEventListener("mouseup",h),document.removeEventListener("mousemove",c)}},[]),f.jsx(js,{open:e,modal:!1,children:f.jsx(Ms,{children:f.jsxs(As,{ref:s,style:{left:r.x,top:r.y,position:"fixed",margin:0},className:"z-[20000] w-72 cursor-move rounded-lg border-2 border-blue-300 bg-slate-800/95 p-4 font-mono text-white shadow-lg select-none",onMouseDown:a,children:[f.jsx(kr,{asChild:!0,children:f.jsxs(_s,{children:["These are your goals for the ",t," level."]})}),f.jsx(ks,{className:"mb-2 text-lg font-bold",children:"Goals"}),f.jsx("ul",{className:"list-disc space-y-2 pl-5",children:n.map(c=>f.jsx("li",{className:"text-base",children:c},c.slice(0,20)))})]})})})}const Lp=()=>{var i;const e=ce(a=>a.currentLevel),t=ye[e].name,n=(i=ni(e))==null?void 0:i.next,r=ce(a=>a.pause),o=ce(a=>a.levelCompleteDialogOpen),s=ce(a=>a.setLevelCompleteDialogOpen);return f.jsx(Ei,{title:t,open:o,onOpenChange:s,desc:`This dialog displays the level completion dialog of the
            ${t} level. You can now get to the main menu 
            using the To Menu button or to the next level using the 
            Next Level button.`,children:f.jsxs("div",{className:"flex flex-col gap-5",children:[f.jsxs("div",{className:"flex flex-1 flex-row",children:[f.jsx("div",{className:"my-auto w-1/3",children:f.jsx("div",{style:{aspectRatio:"7 / 6",width:"100%",backgroundImage:"url('/game/sprites/raccoon_spritesheet.png')",backgroundPosition:"0 0",backgroundSize:"400% 400%",backgroundRepeat:"no-repeat",imageRendering:"pixelated"}})}),f.jsxs("div",{className:"relative my-auto flex h-36 w-full flex-col items-center justify-center rounded-lg bg-slate-700 p-4 text-white shadow-lg",children:[f.jsx("div",{className:"absolute top-1/2 -left-2.5 h-0 w-0 -translate-y-1/2 border-t-10 border-r-10 border-b-10 border-t-transparent border-r-slate-700 border-b-transparent"}),f.jsx("p",{className:"mb-2 text-2xl font-bold",children:ye[e].success}),f.jsx("p",{className:"text-lg italic",children:"Congratulations!"})]})]}),f.jsxs("div",{className:"flex flex-row justify-end gap-5",children:[f.jsx(Gt,{asChild:!0,children:f.jsx(Et,{to:"/",className:"cursor-pointer rounded-lg bg-slate-700/80 px-4 py-2 text-white hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"To Menu"})}),f.jsx(Gt,{asChild:!0,children:f.jsx("button",{className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Continue Playing"})}),n&&f.jsx(Gt,{asChild:!0,children:f.jsx(Et,{to:`/levels/${n}`,className:"cursor-pointer rounded-lg bg-slate-700/80 px-4 py-2 text-white hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",onClick:()=>r(),children:"Next Level"})})]})]})})};var Bn="Checkbox",[Dp,Pg]=dt(Bn),[Fp,Kr]=Dp(Bn);function $p(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:o,disabled:s,form:i,name:a,onCheckedChange:l,required:u,value:p="on",internal_do_not_use_render:c}=e,[h,g]=Mn({prop:n,defaultProp:o??!1,onChange:l,caller:Bn}),[m,v]=d.useState(null),[w,y]=d.useState(null),b=d.useRef(!1),E=m?!!i||!!m.closest("form"):!0,C={checked:h,disabled:s,setChecked:g,control:m,setControl:v,name:a,form:i,value:p,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:et(o)?!1:o,isFormControl:E,bubbleInput:w,setBubbleInput:y};return f.jsx(Fp,{scope:t,...C,children:zp(c)?c(C):r})}var La="CheckboxTrigger",Da=d.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},o)=>{const{control:s,value:i,disabled:a,checked:l,required:u,setControl:p,setChecked:c,hasConsumerStoppedPropagationRef:h,isFormControl:g,bubbleInput:m}=Kr(La,e),v=pe(o,p),w=d.useRef(l);return d.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const b=()=>c(w.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[s,c]),f.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":et(l)?"mixed":l,"aria-required":u,"data-state":Wa(l),"data-disabled":a?"":void 0,disabled:a,value:i,...r,ref:v,onKeyDown:q(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:q(n,y=>{c(b=>et(b)?!0:!b),m&&g&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});Da.displayName=La;var Fa=d.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l,onCheckedChange:u,form:p,...c}=e;return f.jsx($p,{__scopeCheckbox:n,checked:o,defaultChecked:s,disabled:a,required:i,onCheckedChange:u,name:r,form:p,value:l,internal_do_not_use_render:({isFormControl:h})=>f.jsxs(f.Fragment,{children:[f.jsx(Da,{...c,ref:t,__scopeCheckbox:n}),h&&f.jsx(Ba,{__scopeCheckbox:n})]})})});Fa.displayName=Bn;var $a="CheckboxIndicator",za=d.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,s=Kr($a,n);return f.jsx(ft,{present:r||et(s.checked)||s.checked===!0,children:f.jsx(Ve.span,{"data-state":Wa(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});za.displayName=$a;var Ha="CheckboxBubbleInput",Ba=d.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:s,defaultChecked:i,required:a,disabled:l,name:u,value:p,form:c,bubbleInput:h,setBubbleInput:g}=Kr(Ha,e),m=pe(n,g),v=yc(s),w=Cr(r);d.useEffect(()=>{const b=h;if(!b)return;const E=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(E,"checked").set,S=!o.current;if(v!==s&&x){const O=new Event("click",{bubbles:S});b.indeterminate=et(s),x.call(b,et(s)?!1:s),b.dispatchEvent(O)}},[h,v,s,o]);const y=d.useRef(et(s)?!1:s);return f.jsx(Ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:a,disabled:l,name:u,value:p,form:c,...t,tabIndex:-1,ref:m,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ba.displayName=Ha;function zp(e){return typeof e=="function"}function et(e){return e==="indeterminate"}function Wa(e){return et(e)?"indeterminate":e?"checked":"unchecked"}function Ga(e){return t=>typeof t===e}var Hp=Ga("function"),Bp=e=>e===null,No=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",Ro=e=>!Wp(e)&&!Bp(e)&&(Hp(e)||typeof e=="object"),Wp=Ga("undefined");function Gp(e,t){const{length:n}=e;if(n!==t.length)return!1;for(let r=n;r--!==0;)if(!ve(e[r],t[r]))return!1;return!0}function Up(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new DataView(e.buffer),r=new DataView(t.buffer);let o=e.byteLength;for(;o--;)if(n.getUint8(o)!==r.getUint8(o))return!1;return!0}function Vp(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;for(const n of e.entries())if(!ve(n[1],t.get(n[0])))return!1;return!0}function Kp(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;return!0}function ve(e,t){if(e===t)return!0;if(e&&Ro(e)&&t&&Ro(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return Gp(e,t);if(e instanceof Map&&t instanceof Map)return Vp(e,t);if(e instanceof Set&&t instanceof Set)return Kp(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return Up(e,t);if(No(e)&&No(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=n.length;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(let o=n.length;o--!==0;){const s=n[o];if(!(s==="_owner"&&e.$$typeof)&&!ve(e[s],t[s]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}var qp=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Yp=["bigint","boolean","null","number","string","symbol","undefined"];function Wn(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(Xp(t))return t}function je(e){return t=>Wn(t)===e}function Xp(e){return qp.includes(e)}function Mt(e){return t=>typeof t===e}function Jp(e){return Yp.includes(e)}var Zp=["innerHTML","ownerDocument","style","attributes","nodeValue"];function A(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(A.array(e))return"Array";if(A.plainFunction(e))return"Function";const t=Wn(e);return t||"Object"}A.array=Array.isArray;A.arrayOf=(e,t)=>!A.array(e)&&!A.function(t)?!1:e.every(n=>t(n));A.asyncGeneratorFunction=e=>Wn(e)==="AsyncGeneratorFunction";A.asyncFunction=je("AsyncFunction");A.bigint=Mt("bigint");A.boolean=e=>e===!0||e===!1;A.date=je("Date");A.defined=e=>!A.undefined(e);A.domElement=e=>A.object(e)&&!A.plainObject(e)&&e.nodeType===1&&A.string(e.nodeName)&&Zp.every(t=>t in e);A.empty=e=>A.string(e)&&e.length===0||A.array(e)&&e.length===0||A.object(e)&&!A.map(e)&&!A.set(e)&&Object.keys(e).length===0||A.set(e)&&e.size===0||A.map(e)&&e.size===0;A.error=je("Error");A.function=Mt("function");A.generator=e=>A.iterable(e)&&A.function(e.next)&&A.function(e.throw);A.generatorFunction=je("GeneratorFunction");A.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;A.iterable=e=>!A.nullOrUndefined(e)&&A.function(e[Symbol.iterator]);A.map=je("Map");A.nan=e=>Number.isNaN(e);A.null=e=>e===null;A.nullOrUndefined=e=>A.null(e)||A.undefined(e);A.number=e=>Mt("number")(e)&&!A.nan(e);A.numericString=e=>A.string(e)&&e.length>0&&!Number.isNaN(Number(e));A.object=e=>!A.nullOrUndefined(e)&&(A.function(e)||typeof e=="object");A.oneOf=(e,t)=>A.array(e)?e.indexOf(t)>-1:!1;A.plainFunction=je("Function");A.plainObject=e=>{if(Wn(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};A.primitive=e=>A.null(e)||Jp(typeof e);A.promise=je("Promise");A.propertyOf=(e,t,n)=>{if(!A.object(e)||!t)return!1;const r=e[t];return A.function(n)?n(r):A.defined(r)};A.regexp=je("RegExp");A.set=je("Set");A.string=Mt("string");A.symbol=Mt("symbol");A.undefined=Mt("undefined");A.weakMap=je("WeakMap");A.weakSet=je("WeakSet");var L=A;function Qp(...e){return e.every(t=>L.string(t)||L.array(t)||L.plainObject(t))}function eh(e,t,n){return Ua(e,t)?[e,t].every(L.array)?!e.some(Ao(n))&&t.some(Ao(n)):[e,t].every(L.plainObject)?!Object.entries(e).some(Mo(n))&&Object.entries(t).some(Mo(n)):t===n:!1}function Io(e,t,n){const{actual:r,key:o,previous:s,type:i}=n,a=Le(e,o),l=Le(t,o);let u=[a,l].every(L.number)&&(i==="increased"?a<l:a>l);return L.undefined(r)||(u=u&&l===r),L.undefined(s)||(u=u&&a===s),u}function To(e,t,n){const{key:r,type:o,value:s}=n,i=Le(e,r),a=Le(t,r),l=o==="added"?i:a,u=o==="added"?a:i;if(!L.nullOrUndefined(s)){if(L.defined(l)){if(L.array(l)||L.plainObject(l))return eh(l,u,s)}else return ve(u,s);return!1}return[i,a].every(L.array)?!u.every(qr(l)):[i,a].every(L.plainObject)?th(Object.keys(l),Object.keys(u)):![i,a].every(p=>L.primitive(p)&&L.defined(p))&&(o==="added"?!L.defined(i)&&L.defined(a):L.defined(i)&&!L.defined(a))}function jo(e,t,{key:n}={}){let r=Le(e,n),o=Le(t,n);if(!Ua(r,o))throw new TypeError("Inputs have different types");if(!Qp(r,o))throw new TypeError("Inputs don't have length");return[r,o].every(L.plainObject)&&(r=Object.keys(r),o=Object.keys(o)),[r,o]}function Mo(e){return([t,n])=>L.array(e)?ve(e,n)||e.some(r=>ve(r,n)||L.array(n)&&qr(n)(r)):L.plainObject(e)&&e[t]?!!e[t]&&ve(e[t],n):ve(e,n)}function th(e,t){return t.some(n=>!e.includes(n))}function Ao(e){return t=>L.array(e)?e.some(n=>ve(n,t)||L.array(t)&&qr(t)(n)):ve(e,t)}function Lt(e,t){return L.array(e)?e.some(n=>ve(n,t)):ve(e,t)}function qr(e){return t=>e.some(n=>ve(n,t))}function Ua(...e){return e.every(L.array)||e.every(L.number)||e.every(L.plainObject)||e.every(L.string)}function Le(e,t){return L.plainObject(e)||L.array(e)?L.string(t)?t.split(".").reduce((r,o)=>r&&r[o],e):L.number(t)?e[t]:e:e}function Nn(e,t){if([e,t].some(L.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(p=>L.plainObject(p)||L.array(p)))throw new Error("Expected plain objects or array");return{added:(p,c)=>{try{return To(e,t,{key:p,type:"added",value:c})}catch{return!1}},changed:(p,c,h)=>{try{const g=Le(e,p),m=Le(t,p),v=L.defined(c),w=L.defined(h);if(v||w){const y=w?Lt(h,g):!Lt(c,g),b=Lt(c,m);return y&&b}return[g,m].every(L.array)||[g,m].every(L.plainObject)?!ve(g,m):g!==m}catch{return!1}},changedFrom:(p,c,h)=>{if(!L.defined(p))return!1;try{const g=Le(e,p),m=Le(t,p),v=L.defined(h);return Lt(c,g)&&(v?Lt(h,m):!v)}catch{return!1}},decreased:(p,c,h)=>{if(!L.defined(p))return!1;try{return Io(e,t,{key:p,actual:c,previous:h,type:"decreased"})}catch{return!1}},emptied:p=>{try{const[c,h]=jo(e,t,{key:p});return!!c.length&&!h.length}catch{return!1}},filled:p=>{try{const[c,h]=jo(e,t,{key:p});return!c.length&&!!h.length}catch{return!1}},increased:(p,c,h)=>{if(!L.defined(p))return!1;try{return Io(e,t,{key:p,actual:c,previous:h,type:"increased"})}catch{return!1}},removed:(p,c)=>{try{return To(e,t,{key:p,type:"removed",value:c})}catch{return!1}}}}var or,_o;function nh(){if(_o)return or;_o=1;var e=new Error("Element already at target scroll position"),t=new Error("Scroll cancelled"),n=Math.min,r=Date.now;or={left:o("scrollLeft"),top:o("scrollTop")};function o(a){return function(u,p,c,h){c=c||{},typeof c=="function"&&(h=c,c={}),typeof h!="function"&&(h=i);var g=r(),m=u[a],v=c.ease||s,w=isNaN(c.duration)?350:+c.duration,y=!1;return m===p?h(e,u[a]):requestAnimationFrame(E),b;function b(){y=!0}function E(C){if(y)return h(t,u[a]);var x=r(),S=n(1,(x-g)/w),O=v(S);u[a]=O*(p-m)+m,S<1?requestAnimationFrame(E):requestAnimationFrame(function(){h(null,u[a])})}}}function s(a){return .5*(1-Math.cos(Math.PI*a))}function i(){}return or}var rh=nh();const oh=jn(rh);var yn={exports:{}},sh=yn.exports,ko;function ih(){return ko||(ko=1,function(e){(function(t,n){e.exports?e.exports=n():t.Scrollparent=n()})(sh,function(){function t(r){var o=getComputedStyle(r,null).getPropertyValue("overflow");return o.indexOf("scroll")>-1||o.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var o=r.parentNode;o.parentNode;){if(t(o))return o;o=o.parentNode}return document.scrollingElement||document.documentElement}}return n})}(yn)),yn.exports}var ah=ih();const Va=jn(ah);var sr,Lo;function lh(){if(Lo)return sr;Lo=1;var e=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},t=function(r,o){return r+n(o)},n=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(t,""):e(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?n(r.props.children):""};return n.default=n,sr=n,sr}var ch=lh();const Do=jn(ch);var ir,Fo;function uh(){if(Fo)return ir;Fo=1;var e=function(b){return t(b)&&!n(b)};function t(y){return!!y&&typeof y=="object"}function n(y){var b=Object.prototype.toString.call(y);return b==="[object RegExp]"||b==="[object Date]"||s(y)}var r=typeof Symbol=="function"&&Symbol.for,o=r?Symbol.for("react.element"):60103;function s(y){return y.$$typeof===o}function i(y){return Array.isArray(y)?[]:{}}function a(y,b){return b.clone!==!1&&b.isMergeableObject(y)?v(i(y),y,b):y}function l(y,b,E){return y.concat(b).map(function(C){return a(C,E)})}function u(y,b){if(!b.customMerge)return v;var E=b.customMerge(y);return typeof E=="function"?E:v}function p(y){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(y).filter(function(b){return Object.propertyIsEnumerable.call(y,b)}):[]}function c(y){return Object.keys(y).concat(p(y))}function h(y,b){try{return b in y}catch{return!1}}function g(y,b){return h(y,b)&&!(Object.hasOwnProperty.call(y,b)&&Object.propertyIsEnumerable.call(y,b))}function m(y,b,E){var C={};return E.isMergeableObject(y)&&c(y).forEach(function(x){C[x]=a(y[x],E)}),c(b).forEach(function(x){g(y,x)||(h(y,x)&&E.isMergeableObject(b[x])?C[x]=u(x,E)(y[x],b[x],E):C[x]=a(b[x],E))}),C}function v(y,b,E){E=E||{},E.arrayMerge=E.arrayMerge||l,E.isMergeableObject=E.isMergeableObject||e,E.cloneUnlessOtherwiseSpecified=a;var C=Array.isArray(b),x=Array.isArray(y),S=C===x;return S?C?E.arrayMerge(y,b,E):m(y,b,E):a(b,E)}v.all=function(b,E){if(!Array.isArray(b))throw new Error("first argument should be an array");return b.reduce(function(C,x){return v(C,x,E)},{})};var w=v;return ir=w,ir}var dh=uh();const Ie=jn(dh);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var ln=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",fh=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(ln&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function ph(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function hh(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},fh))}}var mh=ln&&window.Promise,gh=mh?ph:hh;function Ka(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function vt(e,t){if(e.nodeType!==1)return[];var n=e.ownerDocument.defaultView,r=n.getComputedStyle(e,null);return t?r[t]:r}function Yr(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function cn(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=vt(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:cn(Yr(e))}function qa(e){return e&&e.referenceNode?e.referenceNode:e}var $o=ln&&!!(window.MSInputMethodContext&&document.documentMode),zo=ln&&/MSIE 10/.test(navigator.userAgent);function At(e){return e===11?$o:e===10?zo:$o||zo}function Rt(e){if(!e)return document.documentElement;for(var t=At(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&vt(n,"position")==="static"?Rt(n):n}function vh(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||Rt(e.firstElementChild)===e}function vr(e){return e.parentNode!==null?vr(e.parentNode):e}function Rn(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,s=document.createRange();s.setStart(r,0),s.setEnd(o,0);var i=s.commonAncestorContainer;if(e!==i&&t!==i||r.contains(o))return vh(i)?i:Rt(i);var a=vr(e);return a.host?Rn(a.host,t):Rn(e,vr(t).host)}function It(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=t==="top"?"scrollTop":"scrollLeft",r=e.nodeName;if(r==="BODY"||r==="HTML"){var o=e.ownerDocument.documentElement,s=e.ownerDocument.scrollingElement||o;return s[n]}return e[n]}function yh(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=It(t,"top"),o=It(t,"left"),s=n?-1:1;return e.top+=r*s,e.bottom+=r*s,e.left+=o*s,e.right+=o*s,e}function Ho(e,t){var n=t==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function Bo(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],At(10)?parseInt(n["offset"+e])+parseInt(r["margin"+(e==="Height"?"Top":"Left")])+parseInt(r["margin"+(e==="Height"?"Bottom":"Right")]):0)}function Ya(e){var t=e.body,n=e.documentElement,r=At(10)&&getComputedStyle(n);return{height:Bo("Height",t,n,r),width:Bo("Width",t,n,r)}}var bh=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},xh=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Tt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function nt(e){return Pe({},e,{right:e.left+e.width,bottom:e.top+e.height})}function yr(e){var t={};try{if(At(10)){t=e.getBoundingClientRect();var n=It(e,"top"),r=It(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch{}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s=e.nodeName==="HTML"?Ya(e.ownerDocument):{},i=s.width||e.clientWidth||o.width,a=s.height||e.clientHeight||o.height,l=e.offsetWidth-i,u=e.offsetHeight-a;if(l||u){var p=vt(e);l-=Ho(p,"x"),u-=Ho(p,"y"),o.width-=l,o.height-=u}return nt(o)}function Xr(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=At(10),o=t.nodeName==="HTML",s=yr(e),i=yr(t),a=cn(e),l=vt(t),u=parseFloat(l.borderTopWidth),p=parseFloat(l.borderLeftWidth);n&&o&&(i.top=Math.max(i.top,0),i.left=Math.max(i.left,0));var c=nt({top:s.top-i.top-u,left:s.left-i.left-p,width:s.width,height:s.height});if(c.marginTop=0,c.marginLeft=0,!r&&o){var h=parseFloat(l.marginTop),g=parseFloat(l.marginLeft);c.top-=u-h,c.bottom-=u-h,c.left-=p-g,c.right-=p-g,c.marginTop=h,c.marginLeft=g}return(r&&!n?t.contains(a):t===a&&a.nodeName!=="BODY")&&(c=yh(c,t)),c}function wh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e.ownerDocument.documentElement,r=Xr(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),i=t?0:It(n),a=t?0:It(n,"left"),l={top:i-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:o,height:s};return nt(l)}function Xa(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if(vt(e,"position")==="fixed")return!0;var n=Yr(e);return n?Xa(n):!1}function Ja(e){if(!e||!e.parentElement||At())return document.documentElement;for(var t=e.parentElement;t&&vt(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function Jr(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s={top:0,left:0},i=o?Ja(e):Rn(e,qa(t));if(r==="viewport")s=wh(i,o);else{var a=void 0;r==="scrollParent"?(a=cn(Yr(t)),a.nodeName==="BODY"&&(a=e.ownerDocument.documentElement)):r==="window"?a=e.ownerDocument.documentElement:a=r;var l=Xr(a,i,o);if(a.nodeName==="HTML"&&!Xa(i)){var u=Ya(e.ownerDocument),p=u.height,c=u.width;s.top+=l.top-l.marginTop,s.bottom=p+l.top,s.left+=l.left-l.marginLeft,s.right=c+l.left}else s=l}n=n||0;var h=typeof n=="number";return s.left+=h?n:n.left||0,s.top+=h?n:n.top||0,s.right-=h?n:n.right||0,s.bottom-=h?n:n.bottom||0,s}function Eh(e){var t=e.width,n=e.height;return t*n}function Za(e,t,n,r,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var i=Jr(n,r,s,o),a={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},l=Object.keys(a).map(function(h){return Pe({key:h},a[h],{area:Eh(a[h])})}).sort(function(h,g){return g.area-h.area}),u=l.filter(function(h){var g=h.width,m=h.height;return g>=n.clientWidth&&m>=n.clientHeight}),p=u.length>0?u[0].key:l[0].key,c=e.split("-")[1];return p+(c?"-"+c:"")}function Qa(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=r?Ja(t):Rn(t,qa(n));return Xr(n,o,r)}function el(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),o=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),s={width:e.offsetWidth+o,height:e.offsetHeight+r};return s}function In(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(n){return t[n]})}function tl(e,t,n){n=n.split("-")[0];var r=el(e),o={width:r.width,height:r.height},s=["right","left"].indexOf(n)!==-1,i=s?"top":"left",a=s?"left":"top",l=s?"height":"width",u=s?"width":"height";return o[i]=t[i]+t[l]/2-r[l]/2,n===a?o[a]=t[a]-r[u]:o[a]=t[In(a)],o}function un(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Ch(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(o){return o[t]===n});var r=un(e,function(o){return o[t]===n});return e.indexOf(r)}function nl(e,t,n){var r=n===void 0?e:e.slice(0,Ch(e,"name",n));return r.forEach(function(o){o.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=o.function||o.fn;o.enabled&&Ka(s)&&(t.offsets.popper=nt(t.offsets.popper),t.offsets.reference=nt(t.offsets.reference),t=s(t,o))}),t}function Sh(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Qa(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Za(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=tl(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=nl(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function rl(e,t){return e.some(function(n){var r=n.name,o=n.enabled;return o&&r===t})}function Zr(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],s=o?""+o+n:e;if(typeof document.body.style[s]<"u")return s}return null}function Ph(){return this.state.isDestroyed=!0,rl(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Zr("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function ol(e){var t=e.ownerDocument;return t?t.defaultView:window}function sl(e,t,n,r){var o=e.nodeName==="BODY",s=o?e.ownerDocument.defaultView:e;s.addEventListener(t,n,{passive:!0}),o||sl(cn(s.parentNode),t,n,r),r.push(s)}function Oh(e,t,n,r){n.updateBound=r,ol(e).addEventListener("resize",n.updateBound,{passive:!0});var o=cn(e);return sl(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function Nh(){this.state.eventsEnabled||(this.state=Oh(this.reference,this.options,this.state,this.scheduleUpdate))}function Rh(e,t){return ol(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(n){n.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function Ih(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Rh(this.reference,this.state))}function Qr(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function br(e,t){Object.keys(t).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&Qr(t[n])&&(r="px"),e.style[n]=t[n]+r})}function Th(e,t){Object.keys(t).forEach(function(n){var r=t[n];r!==!1?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function jh(e){return br(e.instance.popper,e.styles),Th(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&br(e.arrowElement,e.arrowStyles),e}function Mh(e,t,n,r,o){var s=Qa(o,t,e,n.positionFixed),i=Za(n.placement,s,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",i),br(t,{position:n.positionFixed?"fixed":"absolute"}),n}function Ah(e,t){var n=e.offsets,r=n.popper,o=n.reference,s=Math.round,i=Math.floor,a=function(y){return y},l=s(o.width),u=s(r.width),p=["left","right"].indexOf(e.placement)!==-1,c=e.placement.indexOf("-")!==-1,h=l%2===u%2,g=l%2===1&&u%2===1,m=t?p||c||h?s:i:a,v=t?s:a;return{left:m(g&&!c&&t?r.left-1:r.left),top:v(r.top),bottom:v(r.bottom),right:m(r.right)}}var _h=ln&&/Firefox/i.test(navigator.userAgent);function kh(e,t){var n=t.x,r=t.y,o=e.offsets.popper,s=un(e.instance.modifiers,function(E){return E.name==="applyStyle"}).gpuAcceleration;s!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var i=s!==void 0?s:t.gpuAcceleration,a=Rt(e.instance.popper),l=yr(a),u={position:o.position},p=Ah(e,window.devicePixelRatio<2||!_h),c=n==="bottom"?"top":"bottom",h=r==="right"?"left":"right",g=Zr("transform"),m=void 0,v=void 0;if(c==="bottom"?a.nodeName==="HTML"?v=-a.clientHeight+p.bottom:v=-l.height+p.bottom:v=p.top,h==="right"?a.nodeName==="HTML"?m=-a.clientWidth+p.right:m=-l.width+p.right:m=p.left,i&&g)u[g]="translate3d("+m+"px, "+v+"px, 0)",u[c]=0,u[h]=0,u.willChange="transform";else{var w=c==="bottom"?-1:1,y=h==="right"?-1:1;u[c]=v*w,u[h]=m*y,u.willChange=c+", "+h}var b={"x-placement":e.placement};return e.attributes=Pe({},b,e.attributes),e.styles=Pe({},u,e.styles),e.arrowStyles=Pe({},e.offsets.arrow,e.arrowStyles),e}function il(e,t,n){var r=un(e,function(a){var l=a.name;return l===t}),o=!!r&&e.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!o){var s="`"+t+"`",i="`"+n+"`";console.warn(i+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return o}function Lh(e,t){var n;if(!il(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if(typeof r=="string"){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],s=e.offsets,i=s.popper,a=s.reference,l=["left","right"].indexOf(o)!==-1,u=l?"height":"width",p=l?"Top":"Left",c=p.toLowerCase(),h=l?"left":"top",g=l?"bottom":"right",m=el(r)[u];a[g]-m<i[c]&&(e.offsets.popper[c]-=i[c]-(a[g]-m)),a[c]+m>i[g]&&(e.offsets.popper[c]+=a[c]+m-i[g]),e.offsets.popper=nt(e.offsets.popper);var v=a[c]+a[u]/2-m/2,w=vt(e.instance.popper),y=parseFloat(w["margin"+p]),b=parseFloat(w["border"+p+"Width"]),E=v-e.offsets.popper[c]-y-b;return E=Math.max(Math.min(i[u]-m,E),0),e.arrowElement=r,e.offsets.arrow=(n={},Tt(n,c,Math.round(E)),Tt(n,h,""),n),e}function Dh(e){return e==="end"?"start":e==="start"?"end":e}var al=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ar=al.slice(3);function Wo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=ar.indexOf(e),r=ar.slice(n+1).concat(ar.slice(0,n));return t?r.reverse():r}var lr={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Fh(e,t){if(rl(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var n=Jr(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=In(r),s=e.placement.split("-")[1]||"",i=[];switch(t.behavior){case lr.FLIP:i=[r,o];break;case lr.CLOCKWISE:i=Wo(r);break;case lr.COUNTERCLOCKWISE:i=Wo(r,!0);break;default:i=t.behavior}return i.forEach(function(a,l){if(r!==a||i.length===l+1)return e;r=e.placement.split("-")[0],o=In(r);var u=e.offsets.popper,p=e.offsets.reference,c=Math.floor,h=r==="left"&&c(u.right)>c(p.left)||r==="right"&&c(u.left)<c(p.right)||r==="top"&&c(u.bottom)>c(p.top)||r==="bottom"&&c(u.top)<c(p.bottom),g=c(u.left)<c(n.left),m=c(u.right)>c(n.right),v=c(u.top)<c(n.top),w=c(u.bottom)>c(n.bottom),y=r==="left"&&g||r==="right"&&m||r==="top"&&v||r==="bottom"&&w,b=["top","bottom"].indexOf(r)!==-1,E=!!t.flipVariations&&(b&&s==="start"&&g||b&&s==="end"&&m||!b&&s==="start"&&v||!b&&s==="end"&&w),C=!!t.flipVariationsByContent&&(b&&s==="start"&&m||b&&s==="end"&&g||!b&&s==="start"&&w||!b&&s==="end"&&v),x=E||C;(h||y||x)&&(e.flipped=!0,(h||y)&&(r=i[l+1]),x&&(s=Dh(s)),e.placement=r+(s?"-"+s:""),e.offsets.popper=Pe({},e.offsets.popper,tl(e.instance.popper,e.offsets.reference,e.placement)),e=nl(e.instance.modifiers,e,"flip"))}),e}function $h(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],s=Math.floor,i=["top","bottom"].indexOf(o)!==-1,a=i?"right":"bottom",l=i?"left":"top",u=i?"width":"height";return n[a]<s(r[l])&&(e.offsets.popper[l]=s(r[l])-n[u]),n[l]>s(r[a])&&(e.offsets.popper[l]=s(r[a])),e}function zh(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+o[1],i=o[2];if(!s)return e;if(i.indexOf("%")===0){var a=void 0;switch(i){case"%p":a=n;break;case"%":case"%r":default:a=r}var l=nt(a);return l[t]/100*s}else if(i==="vh"||i==="vw"){var u=void 0;return i==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*s}else return s}function Hh(e,t,n,r){var o=[0,0],s=["right","left"].indexOf(r)!==-1,i=e.split(/(\+|\-)/).map(function(p){return p.trim()}),a=i.indexOf(un(i,function(p){return p.search(/,|\s/)!==-1}));i[a]&&i[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=a!==-1?[i.slice(0,a).concat([i[a].split(l)[0]]),[i[a].split(l)[1]].concat(i.slice(a+1))]:[i];return u=u.map(function(p,c){var h=(c===1?!s:s)?"height":"width",g=!1;return p.reduce(function(m,v){return m[m.length-1]===""&&["+","-"].indexOf(v)!==-1?(m[m.length-1]=v,g=!0,m):g?(m[m.length-1]+=v,g=!1,m):m.concat(v)},[]).map(function(m){return zh(m,h,t,n)})}),u.forEach(function(p,c){p.forEach(function(h,g){Qr(h)&&(o[c]+=h*(p[g-1]==="-"?-1:1))})}),o}function Bh(e,t){var n=t.offset,r=e.placement,o=e.offsets,s=o.popper,i=o.reference,a=r.split("-")[0],l=void 0;return Qr(+n)?l=[+n,0]:l=Hh(n,s,i,a),a==="left"?(s.top+=l[0],s.left-=l[1]):a==="right"?(s.top+=l[0],s.left+=l[1]):a==="top"?(s.left+=l[0],s.top-=l[1]):a==="bottom"&&(s.left+=l[0],s.top+=l[1]),e.popper=s,e}function Wh(e,t){var n=t.boundariesElement||Rt(e.instance.popper);e.instance.reference===n&&(n=Rt(n));var r=Zr("transform"),o=e.instance.popper.style,s=o.top,i=o.left,a=o[r];o.top="",o.left="",o[r]="";var l=Jr(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=s,o.left=i,o[r]=a,t.boundaries=l;var u=t.priority,p=e.offsets.popper,c={primary:function(g){var m=p[g];return p[g]<l[g]&&!t.escapeWithReference&&(m=Math.max(p[g],l[g])),Tt({},g,m)},secondary:function(g){var m=g==="right"?"left":"top",v=p[m];return p[g]>l[g]&&!t.escapeWithReference&&(v=Math.min(p[m],l[g]-(g==="right"?p.width:p.height))),Tt({},m,v)}};return u.forEach(function(h){var g=["left","top"].indexOf(h)!==-1?"primary":"secondary";p=Pe({},p,c[g](h))}),e.offsets.popper=p,e}function Gh(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,s=o.reference,i=o.popper,a=["bottom","top"].indexOf(n)!==-1,l=a?"left":"top",u=a?"width":"height",p={start:Tt({},l,s[l]),end:Tt({},l,s[l]+s[u]-i[u])};e.offsets.popper=Pe({},i,p[r])}return e}function Uh(e){if(!il(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=un(e.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function Vh(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,s=r.reference,i=["left","right"].indexOf(n)!==-1,a=["top","left"].indexOf(n)===-1;return o[i?"left":"top"]=s[n]-(a?o[i?"width":"height"]:0),e.placement=In(t),e.offsets.popper=nt(o),e}var Kh={shift:{order:100,enabled:!0,fn:Gh},offset:{order:200,enabled:!0,fn:Bh,offset:0},preventOverflow:{order:300,enabled:!0,fn:Wh,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:$h},arrow:{order:500,enabled:!0,fn:Lh,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Fh,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Vh},hide:{order:800,enabled:!0,fn:Uh},computeStyle:{order:850,enabled:!0,fn:kh,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:jh,onLoad:Mh,gpuAcceleration:void 0}},qh={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Kh},en=function(){function e(t,n){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};bh(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=gh(this.update.bind(this)),this.options=Pe({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Pe({},e.Defaults.modifiers,o.modifiers)).forEach(function(i){r.options.modifiers[i]=Pe({},e.Defaults.modifiers[i]||{},o.modifiers?o.modifiers[i]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(i){return Pe({name:i},r.options.modifiers[i])}).sort(function(i,a){return i.order-a.order}),this.modifiers.forEach(function(i){i.enabled&&Ka(i.onLoad)&&i.onLoad(r.reference,r.popper,r.options,i,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return xh(e,[{key:"update",value:function(){return Sh.call(this)}},{key:"destroy",value:function(){return Ph.call(this)}},{key:"enableEventListeners",value:function(){return Nh.call(this)}},{key:"disableEventListeners",value:function(){return Ih.call(this)}}]),e}();en.Utils=(typeof window<"u"?window:global).PopperUtils;en.placements=al;en.Defaults=qh;var Yh=["innerHTML","ownerDocument","style","attributes","nodeValue"],Xh=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Jh=["bigint","boolean","null","number","string","symbol","undefined"];function Gn(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(Zh(t))return t}function Me(e){return function(t){return Gn(t)===e}}function Zh(e){return Xh.includes(e)}function _t(e){return function(t){return typeof t===e}}function Qh(e){return Jh.includes(e)}function N(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(N.array(e))return"Array";if(N.plainFunction(e))return"Function";var t=Gn(e);return t||"Object"}N.array=Array.isArray;N.arrayOf=function(e,t){return!N.array(e)&&!N.function(t)?!1:e.every(function(n){return t(n)})};N.asyncGeneratorFunction=function(e){return Gn(e)==="AsyncGeneratorFunction"};N.asyncFunction=Me("AsyncFunction");N.bigint=_t("bigint");N.boolean=function(e){return e===!0||e===!1};N.date=Me("Date");N.defined=function(e){return!N.undefined(e)};N.domElement=function(e){return N.object(e)&&!N.plainObject(e)&&e.nodeType===1&&N.string(e.nodeName)&&Yh.every(function(t){return t in e})};N.empty=function(e){return N.string(e)&&e.length===0||N.array(e)&&e.length===0||N.object(e)&&!N.map(e)&&!N.set(e)&&Object.keys(e).length===0||N.set(e)&&e.size===0||N.map(e)&&e.size===0};N.error=Me("Error");N.function=_t("function");N.generator=function(e){return N.iterable(e)&&N.function(e.next)&&N.function(e.throw)};N.generatorFunction=Me("GeneratorFunction");N.instanceOf=function(e,t){return!e||!t?!1:Object.getPrototypeOf(e)===t.prototype};N.iterable=function(e){return!N.nullOrUndefined(e)&&N.function(e[Symbol.iterator])};N.map=Me("Map");N.nan=function(e){return Number.isNaN(e)};N.null=function(e){return e===null};N.nullOrUndefined=function(e){return N.null(e)||N.undefined(e)};N.number=function(e){return _t("number")(e)&&!N.nan(e)};N.numericString=function(e){return N.string(e)&&e.length>0&&!Number.isNaN(Number(e))};N.object=function(e){return!N.nullOrUndefined(e)&&(N.function(e)||typeof e=="object")};N.oneOf=function(e,t){return N.array(e)?e.indexOf(t)>-1:!1};N.plainFunction=Me("Function");N.plainObject=function(e){if(Gn(e)!=="Object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};N.primitive=function(e){return N.null(e)||Qh(typeof e)};N.promise=Me("Promise");N.propertyOf=function(e,t,n){if(!N.object(e)||!t)return!1;var r=e[t];return N.function(n)?n(r):N.defined(r)};N.regexp=Me("RegExp");N.set=Me("Set");N.string=_t("string");N.symbol=_t("symbol");N.undefined=_t("undefined");N.weakMap=Me("WeakMap");N.weakSet=Me("WeakSet");function ll(e){return function(t){return typeof t===e}}var em=ll("function"),tm=function(e){return e===null},Go=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},Uo=function(e){return!nm(e)&&!tm(e)&&(em(e)||typeof e=="object")},nm=ll("undefined"),xr=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function rm(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=n;r--!==0;)if(!xe(e[r],t[r]))return!1;return!0}function om(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e.buffer),r=new DataView(t.buffer),o=e.byteLength;o--;)if(n.getUint8(o)!==r.getUint8(o))return!1;return!0}function sm(e,t){var n,r,o,s;if(e.size!==t.size)return!1;try{for(var i=xr(e.entries()),a=i.next();!a.done;a=i.next()){var l=a.value;if(!t.has(l[0]))return!1}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}try{for(var u=xr(e.entries()),p=u.next();!p.done;p=u.next()){var l=p.value;if(!xe(l[1],t.get(l[0])))return!1}}catch(c){o={error:c}}finally{try{p&&!p.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return!0}function im(e,t){var n,r;if(e.size!==t.size)return!1;try{for(var o=xr(e.entries()),s=o.next();!s.done;s=o.next()){var i=s.value;if(!t.has(i[0]))return!1}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0}function xe(e,t){if(e===t)return!0;if(e&&Uo(e)&&t&&Uo(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return rm(e,t);if(e instanceof Map&&t instanceof Map)return sm(e,t);if(e instanceof Set&&t instanceof Set)return im(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return om(e,t);if(Go(e)&&Go(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=n.length;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(var o=n.length;o--!==0;){var s=n[o];if(!(s==="_owner"&&e.$$typeof)&&!xe(e[s],t[s]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}function am(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(function(n){return N.string(n)||N.array(n)||N.plainObject(n)})}function lm(e,t,n){return cl(e,t)?[e,t].every(N.array)?!e.some(Xo(n))&&t.some(Xo(n)):[e,t].every(N.plainObject)?!Object.entries(e).some(Yo(n))&&Object.entries(t).some(Yo(n)):t===n:!1}function Vo(e,t,n){var r=n.actual,o=n.key,s=n.previous,i=n.type,a=De(e,o),l=De(t,o),u=[a,l].every(N.number)&&(i==="increased"?a<l:a>l);return N.undefined(r)||(u=u&&l===r),N.undefined(s)||(u=u&&a===s),u}function Ko(e,t,n){var r=n.key,o=n.type,s=n.value,i=De(e,r),a=De(t,r),l=o==="added"?i:a,u=o==="added"?a:i;if(!N.nullOrUndefined(s)){if(N.defined(l)){if(N.array(l)||N.plainObject(l))return lm(l,u,s)}else return xe(u,s);return!1}return[i,a].every(N.array)?!u.every(eo(l)):[i,a].every(N.plainObject)?cm(Object.keys(l),Object.keys(u)):![i,a].every(function(p){return N.primitive(p)&&N.defined(p)})&&(o==="added"?!N.defined(i)&&N.defined(a):N.defined(i)&&!N.defined(a))}function qo(e,t,n){var r=n===void 0?{}:n,o=r.key,s=De(e,o),i=De(t,o);if(!cl(s,i))throw new TypeError("Inputs have different types");if(!am(s,i))throw new TypeError("Inputs don't have length");return[s,i].every(N.plainObject)&&(s=Object.keys(s),i=Object.keys(i)),[s,i]}function Yo(e){return function(t){var n=t[0],r=t[1];return N.array(e)?xe(e,r)||e.some(function(o){return xe(o,r)||N.array(r)&&eo(r)(o)}):N.plainObject(e)&&e[n]?!!e[n]&&xe(e[n],r):xe(e,r)}}function cm(e,t){return t.some(function(n){return!e.includes(n)})}function Xo(e){return function(t){return N.array(e)?e.some(function(n){return xe(n,t)||N.array(t)&&eo(t)(n)}):xe(e,t)}}function Dt(e,t){return N.array(e)?e.some(function(n){return xe(n,t)}):xe(e,t)}function eo(e){return function(t){return e.some(function(n){return xe(n,t)})}}function cl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(N.array)||e.every(N.number)||e.every(N.plainObject)||e.every(N.string)}function De(e,t){if(N.plainObject(e)||N.array(e)){if(N.string(t)){var n=t.split(".");return n.reduce(function(r,o){return r&&r[o]},e)}return N.number(t)?e[t]:e}return e}function um(e,t){if([e,t].some(N.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(function(c){return N.plainObject(c)||N.array(c)}))throw new Error("Expected plain objects or array");var n=function(c,h){try{return Ko(e,t,{key:c,type:"added",value:h})}catch{return!1}},r=function(c,h,g){try{var m=De(e,c),v=De(t,c),w=N.defined(h),y=N.defined(g);if(w||y){var b=y?Dt(g,m):!Dt(h,m),E=Dt(h,v);return b&&E}return[m,v].every(N.array)||[m,v].every(N.plainObject)?!xe(m,v):m!==v}catch{return!1}},o=function(c,h,g){if(!N.defined(c))return!1;try{var m=De(e,c),v=De(t,c),w=N.defined(g);return Dt(h,m)&&(w?Dt(g,v):!w)}catch{return!1}},s=function(c,h){return N.defined(c)?r(c,h):!1},i=function(c,h,g){if(!N.defined(c))return!1;try{return Vo(e,t,{key:c,actual:h,previous:g,type:"decreased"})}catch{return!1}},a=function(c){try{var h=qo(e,t,{key:c}),g=h[0],m=h[1];return!!g.length&&!m.length}catch{return!1}},l=function(c){try{var h=qo(e,t,{key:c}),g=h[0],m=h[1];return!g.length&&!!m.length}catch{return!1}},u=function(c,h,g){if(!N.defined(c))return!1;try{return Vo(e,t,{key:c,actual:h,previous:g,type:"increased"})}catch{return!1}},p=function(c,h){try{return Ko(e,t,{key:c,type:"removed",value:h})}catch{return!1}};return{added:n,changed:r,changedFrom:o,changedTo:s,decreased:i,emptied:a,filled:l,increased:u,removed:p}}function Jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jo(Object(n),!0).forEach(function(r){ge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dl(r.key),r)}}function fn(e,t,n){return t&&dm(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ge(e,t,n){return t=dl(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wr(e,t)}function Tn(e){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tn(e)}function wr(e,t){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},wr(e,t)}function fm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pm(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function ul(e,t){if(e==null)return{};var n=pm(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hm(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}function hn(e){var t=fm();return function(){var r=Tn(e),o;if(t){var s=Tn(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return hm(this,o)}}function mm(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(e){var t=mm(e,"string");return typeof t=="symbol"?t:String(t)}var gm={flip:{padding:20},preventOverflow:{padding:10}},vm="The typeValidator argument must be a function with the signature function(props, propName, componentName).",ym="The error message is optional, but must be a string if provided.";function bm(e,t,n,r){return typeof e=="boolean"?e:typeof e=="function"?e(t,n,r):e?!!e:!1}function xm(e,t){return Object.hasOwnProperty.call(e,t)}function wm(e,t,n,r){return new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(n,"`."))}function Em(e,t){if(typeof e!="function")throw new TypeError(vm);if(t)throw new TypeError(ym)}function Zo(e,t,n){return Em(e,n),function(r,o,s){for(var i=arguments.length,a=new Array(i>3?i-3:0),l=3;l<i;l++)a[l-3]=arguments[l];return bm(t,r,o,s)?xm(r,o)?e.apply(void 0,[r,o,s].concat(a)):wm(r,o,s):e.apply(void 0,[r,o,s].concat(a))}}var ee={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},Ft=Vt.createPortal!==void 0;function Ae(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function cr(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function gn(e){var t=e.title,n=e.data,r=e.warn,o=r===void 0?!1:r,s=e.debug,i=s===void 0?!1:s,a=o?console.warn||console.error:console.log;i&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(l){N.plainObject(l)&&l.key?a.apply(console,[l.key,l.value]):a.apply(console,[l])}):a.apply(console,[n]),console.groupEnd())}function Cm(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.addEventListener(t,n,r)}function Sm(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.removeEventListener(t,n,r)}function Pm(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o;o=function(i){n(i),Sm(e,t,o)},Cm(e,t,o,r)}function Qo(){}var fl=function(e){pn(n,e);var t=hn(n);function n(){return dn(this,n),t.apply(this,arguments)}return fn(n,[{key:"componentDidMount",value:function(){Ae()&&(this.node||this.appendNode(),Ft||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Ae()&&(Ft||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Ae()||!this.node||(Ft||Vt.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var o=this.props,s=o.id,i=o.zIndex;this.node||(this.node=document.createElement("div"),s&&(this.node.id=s),i&&(this.node.style.zIndex=i),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Ae())return null;var o=this.props,s=o.children,i=o.setRef;if(this.node||this.appendNode(),Ft)return Vt.createPortal(s,this.node);var a=Vt.unstable_renderSubtreeIntoContainer(this,s.length>1?B.createElement("div",null,s):s[0],this.node);return i(a),null}},{key:"renderReact16",value:function(){var o=this.props,s=o.hasChildren,i=o.placement,a=o.target;return s?this.renderPortal():a||i==="center"?this.renderPortal():null}},{key:"render",value:function(){return Ft?this.renderReact16():null}}]),n}(B.Component);ge(fl,"propTypes",{children:T.oneOfType([T.element,T.array]),hasChildren:T.bool,id:T.oneOfType([T.string,T.number]),placement:T.string,setRef:T.func.isRequired,target:T.oneOfType([T.object,T.string]),zIndex:T.number});var pl=function(e){pn(n,e);var t=hn(n);function n(){return dn(this,n),t.apply(this,arguments)}return fn(n,[{key:"parentStyle",get:function(){var o=this.props,s=o.placement,i=o.styles,a=i.arrow.length,l={pointerEvents:"none",position:"absolute",width:"100%"};return s.startsWith("top")?(l.bottom=0,l.left=0,l.right=0,l.height=a):s.startsWith("bottom")?(l.left=0,l.right=0,l.top=0,l.height=a):s.startsWith("left")?(l.right=0,l.top=0,l.bottom=0):s.startsWith("right")&&(l.left=0,l.top=0),l}},{key:"render",value:function(){var o=this.props,s=o.placement,i=o.setArrowRef,a=o.styles,l=a.arrow,u=l.color,p=l.display,c=l.length,h=l.margin,g=l.position,m=l.spread,v={display:p,position:g},w,y=m,b=c;return s.startsWith("top")?(w="0,0 ".concat(y/2,",").concat(b," ").concat(y,",0"),v.bottom=0,v.marginLeft=h,v.marginRight=h):s.startsWith("bottom")?(w="".concat(y,",").concat(b," ").concat(y/2,",0 0,").concat(b),v.top=0,v.marginLeft=h,v.marginRight=h):s.startsWith("left")?(b=m,y=c,w="0,0 ".concat(y,",").concat(b/2," 0,").concat(b),v.right=0,v.marginTop=h,v.marginBottom=h):s.startsWith("right")&&(b=m,y=c,w="".concat(y,",").concat(b," ").concat(y,",0 0,").concat(b/2),v.left=0,v.marginTop=h,v.marginBottom=h),B.createElement("div",{className:"__floater__arrow",style:this.parentStyle},B.createElement("span",{ref:i,style:v},B.createElement("svg",{width:y,height:b,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},B.createElement("polygon",{points:w,fill:u}))))}}]),n}(B.Component);ge(pl,"propTypes",{placement:T.string.isRequired,setArrowRef:T.func.isRequired,styles:T.object.isRequired});var Om=["color","height","width"];function hl(e){var t=e.handleClick,n=e.styles,r=n.color,o=n.height,s=n.width,i=ul(n,Om);return B.createElement("button",{"aria-label":"close",onClick:t,style:i,type:"button"},B.createElement("svg",{width:"".concat(s,"px"),height:"".concat(o,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},B.createElement("g",null,B.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}hl.propTypes={handleClick:T.func.isRequired,styles:T.object.isRequired};function ml(e){var t=e.content,n=e.footer,r=e.handleClick,o=e.open,s=e.positionWrapper,i=e.showCloseButton,a=e.title,l=e.styles,u={content:B.isValidElement(t)?t:B.createElement("div",{className:"__floater__content",style:l.content},t)};return a&&(u.title=B.isValidElement(a)?a:B.createElement("div",{className:"__floater__title",style:l.title},a)),n&&(u.footer=B.isValidElement(n)?n:B.createElement("div",{className:"__floater__footer",style:l.footer},n)),(i||s)&&!N.boolean(o)&&(u.close=B.createElement(hl,{styles:l.close,handleClick:r})),B.createElement("div",{className:"__floater__container",style:l.container},u.close,u.title,u.content,u.footer)}ml.propTypes={content:T.node.isRequired,footer:T.node,handleClick:T.func.isRequired,open:T.bool,positionWrapper:T.bool.isRequired,showCloseButton:T.bool.isRequired,styles:T.object.isRequired,title:T.node};var gl=function(e){pn(n,e);var t=hn(n);function n(){return dn(this,n),t.apply(this,arguments)}return fn(n,[{key:"style",get:function(){var o=this.props,s=o.disableAnimation,i=o.component,a=o.placement,l=o.hideArrow,u=o.status,p=o.styles,c=p.arrow.length,h=p.floater,g=p.floaterCentered,m=p.floaterClosing,v=p.floaterOpening,w=p.floaterWithAnimation,y=p.floaterWithComponent,b={};return l||(a.startsWith("top")?b.padding="0 0 ".concat(c,"px"):a.startsWith("bottom")?b.padding="".concat(c,"px 0 0"):a.startsWith("left")?b.padding="0 ".concat(c,"px 0 0"):a.startsWith("right")&&(b.padding="0 0 0 ".concat(c,"px"))),[ee.OPENING,ee.OPEN].indexOf(u)!==-1&&(b=ie(ie({},b),v)),u===ee.CLOSING&&(b=ie(ie({},b),m)),u===ee.OPEN&&!s&&(b=ie(ie({},b),w)),a==="center"&&(b=ie(ie({},b),g)),i&&(b=ie(ie({},b),y)),ie(ie({},h),b)}},{key:"render",value:function(){var o=this.props,s=o.component,i=o.handleClick,a=o.hideArrow,l=o.setFloaterRef,u=o.status,p={},c=["__floater"];return s?B.isValidElement(s)?p.content=B.cloneElement(s,{closeFn:i}):p.content=s({closeFn:i}):p.content=B.createElement(ml,this.props),u===ee.OPEN&&c.push("__floater__open"),a||(p.arrow=B.createElement(pl,this.props)),B.createElement("div",{ref:l,className:c.join(" "),style:this.style},B.createElement("div",{className:"__floater__body"},p.content,p.arrow))}}]),n}(B.Component);ge(gl,"propTypes",{component:T.oneOfType([T.func,T.element]),content:T.node,disableAnimation:T.bool.isRequired,footer:T.node,handleClick:T.func.isRequired,hideArrow:T.bool.isRequired,open:T.bool,placement:T.string.isRequired,positionWrapper:T.bool.isRequired,setArrowRef:T.func.isRequired,setFloaterRef:T.func.isRequired,showCloseButton:T.bool,status:T.string.isRequired,styles:T.object.isRequired,title:T.node});var vl=function(e){pn(n,e);var t=hn(n);function n(){return dn(this,n),t.apply(this,arguments)}return fn(n,[{key:"render",value:function(){var o=this.props,s=o.children,i=o.handleClick,a=o.handleMouseEnter,l=o.handleMouseLeave,u=o.setChildRef,p=o.setWrapperRef,c=o.style,h=o.styles,g;if(s)if(B.Children.count(s)===1)if(!B.isValidElement(s))g=B.createElement("span",null,s);else{var m=N.function(s.type)?"innerRef":"ref";g=B.cloneElement(B.Children.only(s),ge({},m,u))}else g=s;return g?B.createElement("span",{ref:p,style:ie(ie({},h),c),onClick:i,onMouseEnter:a,onMouseLeave:l},g):null}}]),n}(B.Component);ge(vl,"propTypes",{children:T.node,handleClick:T.func.isRequired,handleMouseEnter:T.func.isRequired,handleMouseLeave:T.func.isRequired,setChildRef:T.func.isRequired,setWrapperRef:T.func.isRequired,style:T.object,styles:T.object.isRequired});var Nm={zIndex:100};function Rm(e){var t=Ie(Nm,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}var Im=["arrow","flip","offset"],Tm=["position","top","right","bottom","left"],to=function(e){pn(n,e);var t=hn(n);function n(r){var o;return dn(this,n),o=t.call(this,r),ge($e(o),"setArrowRef",function(s){o.arrowRef=s}),ge($e(o),"setChildRef",function(s){o.childRef=s}),ge($e(o),"setFloaterRef",function(s){o.floaterRef=s}),ge($e(o),"setWrapperRef",function(s){o.wrapperRef=s}),ge($e(o),"handleTransitionEnd",function(){var s=o.state.status,i=o.props.callback;o.wrapperPopper&&o.wrapperPopper.instance.update(),o.setState({status:s===ee.OPENING?ee.OPEN:ee.IDLE},function(){var a=o.state.status;i(a===ee.OPEN?"open":"close",o.props)})}),ge($e(o),"handleClick",function(){var s=o.props,i=s.event,a=s.open;if(!N.boolean(a)){var l=o.state,u=l.positionWrapper,p=l.status;(o.event==="click"||o.event==="hover"&&u)&&(gn({title:"click",data:[{event:i,status:p===ee.OPEN?"closing":"opening"}],debug:o.debug}),o.toggle())}}),ge($e(o),"handleMouseEnter",function(){var s=o.props,i=s.event,a=s.open;if(!(N.boolean(a)||cr())){var l=o.state.status;o.event==="hover"&&l===ee.IDLE&&(gn({title:"mouseEnter",data:[{key:"originalEvent",value:i}],debug:o.debug}),clearTimeout(o.eventDelayTimeout),o.toggle())}}),ge($e(o),"handleMouseLeave",function(){var s=o.props,i=s.event,a=s.eventDelay,l=s.open;if(!(N.boolean(l)||cr())){var u=o.state,p=u.status,c=u.positionWrapper;o.event==="hover"&&(gn({title:"mouseLeave",data:[{key:"originalEvent",value:i}],debug:o.debug}),a?[ee.OPENING,ee.OPEN].indexOf(p)!==-1&&!c&&!o.eventDelayTimeout&&(o.eventDelayTimeout=setTimeout(function(){delete o.eventDelayTimeout,o.toggle()},a*1e3)):o.toggle(ee.IDLE))}}),o.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:ee.INIT,statusWrapper:ee.INIT},o._isMounted=!1,o.hasMounted=!1,Ae()&&window.addEventListener("load",function(){o.popper&&o.popper.instance.update(),o.wrapperPopper&&o.wrapperPopper.instance.update()}),o}return fn(n,[{key:"componentDidMount",value:function(){if(Ae()){var o=this.state.positionWrapper,s=this.props,i=s.children,a=s.open,l=s.target;this._isMounted=!0,gn({title:"init",data:{hasChildren:!!i,hasTarget:!!l,isControlled:N.boolean(a),positionWrapper:o,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!i&&l&&N.boolean(a)}}},{key:"componentDidUpdate",value:function(o,s){if(Ae()){var i=this.props,a=i.autoOpen,l=i.open,u=i.target,p=i.wrapperOptions,c=um(s,this.state),h=c.changedFrom,g=c.changed;if(o.open!==l){var m;N.boolean(l)&&(m=l?ee.OPENING:ee.CLOSING),this.toggle(m)}(o.wrapperOptions.position!==p.position||o.target!==u)&&this.changeWrapperPosition(this.props),g("status",ee.IDLE)&&l?this.toggle(ee.OPEN):h("status",ee.INIT,ee.IDLE)&&a&&this.toggle(ee.OPEN),this.popper&&g("status",ee.OPENING)&&this.popper.instance.update(),this.floaterRef&&(g("status",ee.OPENING)||g("status",ee.CLOSING))&&Pm(this.floaterRef,"transitionend",this.handleTransitionEnd),g("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Ae()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,i=this.state.positionWrapper,a=this.props,l=a.disableFlip,u=a.getPopper,p=a.hideArrow,c=a.offset,h=a.placement,g=a.wrapperOptions,m=h==="top"||h==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(h==="center")this.setState({status:ee.IDLE});else if(s&&this.floaterRef){var v=this.options,w=v.arrow,y=v.flip,b=v.offset,E=ul(v,Im);new en(s,this.floaterRef,{placement:h,modifiers:ie({arrow:ie({enabled:!p,element:this.arrowRef},w),flip:ie({enabled:!l,behavior:m},y),offset:ie({offset:"0, ".concat(c,"px")},b)},E),onCreate:function(S){var O;if(o.popper=S,!((O=o.floaterRef)!==null&&O!==void 0&&O.isConnected)){o.setState({needsUpdate:!0});return}u(S,"floater"),o._isMounted&&o.setState({currentPlacement:S.placement,status:ee.IDLE}),h!==S.placement&&setTimeout(function(){S.instance.update()},1)},onUpdate:function(S){o.popper=S;var O=o.state.currentPlacement;o._isMounted&&S.placement!==O&&o.setState({currentPlacement:S.placement})}})}if(i){var C=N.undefined(g.offset)?0:g.offset;new en(this.target,this.wrapperRef,{placement:g.placement||h,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(C,"px")},flip:{enabled:!1}},onCreate:function(S){o.wrapperPopper=S,o._isMounted&&o.setState({statusWrapper:ee.IDLE}),u(S,"wrapper"),h!==S.placement&&setTimeout(function(){S.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var o=this;this.floaterRefInterval=setInterval(function(){var s;(s=o.floaterRef)!==null&&s!==void 0&&s.isConnected&&(clearInterval(o.floaterRefInterval),o.setState({needsUpdate:!1}),o.initPopper())},50)}},{key:"changeWrapperPosition",value:function(o){var s=o.target,i=o.wrapperOptions;this.setState({positionWrapper:i.position&&!!s})}},{key:"toggle",value:function(o){var s=this.state.status,i=s===ee.OPEN?ee.CLOSING:ee.OPENING;N.undefined(o)||(i=o),this.setState({status:i})}},{key:"debug",get:function(){var o=this.props.debug;return o||Ae()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var o=this.props,s=o.disableHoverToClick,i=o.event;return i==="hover"&&cr()&&!s?"click":i}},{key:"options",get:function(){var o=this.props.options;return Ie(gm,o||{})}},{key:"styles",get:function(){var o=this,s=this.state,i=s.status,a=s.positionWrapper,l=s.statusWrapper,u=this.props.styles,p=Ie(Rm(u),u);if(a){var c;[ee.IDLE].indexOf(i)===-1||[ee.IDLE].indexOf(l)===-1?c=p.wrapperPosition:c=this.wrapperPopper.styles,p.wrapper=ie(ie({},p.wrapper),c)}if(this.target){var h=window.getComputedStyle(this.target);this.wrapperStyles?p.wrapper=ie(ie({},p.wrapper),this.wrapperStyles):["relative","static"].indexOf(h.position)===-1&&(this.wrapperStyles={},a||(Tm.forEach(function(g){o.wrapperStyles[g]=h[g]}),p.wrapper=ie(ie({},p.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return p}},{key:"target",get:function(){if(!Ae())return null;var o=this.props.target;return o?N.domElement(o)?o:document.querySelector(o):this.childRef||this.wrapperRef}},{key:"render",value:function(){var o=this.state,s=o.currentPlacement,i=o.positionWrapper,a=o.status,l=this.props,u=l.children,p=l.component,c=l.content,h=l.disableAnimation,g=l.footer,m=l.hideArrow,v=l.id,w=l.open,y=l.showCloseButton,b=l.style,E=l.target,C=l.title,x=B.createElement(vl,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:b,styles:this.styles.wrapper},u),S={};return i?S.wrapperInPortal=x:S.wrapperAsChildren=x,B.createElement("span",null,B.createElement(fl,{hasChildren:!!u,id:v,placement:s,setRef:this.setFloaterRef,target:E,zIndex:this.styles.options.zIndex},B.createElement(gl,{component:p,content:c,disableAnimation:h,footer:g,handleClick:this.handleClick,hideArrow:m||s==="center",open:w,placement:s,positionWrapper:i,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:y,status:a,styles:this.styles,title:C}),S.wrapperInPortal),S.wrapperAsChildren)}}]),n}(B.Component);ge(to,"propTypes",{autoOpen:T.bool,callback:T.func,children:T.node,component:Zo(T.oneOfType([T.func,T.element]),function(e){return!e.content}),content:Zo(T.node,function(e){return!e.component}),debug:T.bool,disableAnimation:T.bool,disableFlip:T.bool,disableHoverToClick:T.bool,event:T.oneOf(["hover","click"]),eventDelay:T.number,footer:T.node,getPopper:T.func,hideArrow:T.bool,id:T.oneOfType([T.string,T.number]),offset:T.number,open:T.bool,options:T.object,placement:T.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:T.bool,style:T.object,styles:T.object,target:T.oneOfType([T.object,T.string]),title:T.node,wrapperOptions:T.shape({offset:T.number,placement:T.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:T.bool})});ge(to,"defaultProps",{autoOpen:!1,callback:Qo,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:Qo,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var jm=Object.defineProperty,Mm=(e,t,n)=>t in e?jm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t,n)=>Mm(e,typeof t!="symbol"?t+"":t,n),te={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Re={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},V={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Z={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function Ze(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function yl(e){return e?e.getBoundingClientRect():null}function Am(e=!1){const{body:t,documentElement:n}=document;if(!t||!n)return 0;if(e){const r=[t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((s,i)=>s-i),o=Math.floor(r.length/2);return r.length%2===0?(r[o-1]+r[o])/2:r[o]}return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function Ge(e){if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function _m(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function tn(e,t,n){if(!e)return at();const r=Va(e);if(r){if(r.isSameNode(at()))return n?document:at();if(!(r.scrollHeight>r.offsetHeight)&&!t)return r.style.overflow="initial",at()}return r}function Un(e,t){if(!e)return!1;const n=tn(e,t);return n?!n.isSameNode(at()):!1}function km(e){return e.offsetParent!==document.body}function jt(e,t="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:n}=e,r=_m(e);return n==="BODY"||n==="HTML"?!1:r&&r.position===t?!0:e.parentNode?jt(e.parentNode,t):!1}function Lm(e){var t;if(!e)return!1;let n=e;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:o}=getComputedStyle(n);if(r==="none"||o==="hidden")return!1}n=(t=n.parentElement)!=null?t:null}return!0}function Dm(e,t,n){var r,o,s;const i=yl(e),a=tn(e,n),l=Un(e,n),u=jt(e);let p=0,c=(r=i==null?void 0:i.top)!=null?r:0;if(l&&u){const h=(o=e==null?void 0:e.offsetTop)!=null?o:0,g=(s=a==null?void 0:a.scrollTop)!=null?s:0;c=h-g}else a instanceof HTMLElement&&(p=a.scrollTop,!l&&!jt(e)&&(c+=p),a.isSameNode(at())||(c+=at().scrollTop));return Math.floor(c-t)}function Fm(e,t,n){var r;if(!e)return 0;const{offsetTop:o=0,scrollTop:s=0}=(r=Va(e))!=null?r:{};let i=e.getBoundingClientRect().top+s;o&&(Un(e,n)||km(e))&&(i-=o);const a=Math.floor(i-t);return a<0?0:a}function at(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function $m(e,t){const{duration:n,element:r}=t;return new Promise((o,s)=>{const{scrollTop:i}=r,a=e>i?e-i:i-e;oh.top(r,e,{duration:a<100?50:n},l=>l&&l.message!=="Element already at target scroll position"?s(l):o())})}var $t=Ut.createPortal!==void 0;function bl(e=navigator.userAgent){let t=e;return typeof window>"u"?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":window.opera||e.includes(" OPR/")?t="opera":typeof window.InstallTrigger<"u"?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function bn(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function _e(e,t={}){const{defaultValue:n,step:r,steps:o}=t;let s=Do(e);if(s)(s.includes("{step}")||s.includes("{steps}"))&&r&&o&&(s=s.replace("{step}",r.toString()).replace("{steps}",o.toString()));else if(d.isValidElement(e)&&!Object.values(e.props).length&&bn(e.type)==="function"){const i=e.type({});s=_e(i,t)}else s=Do(n);return s}function zm(e,t){return!L.plainObject(e)||!L.array(t)?!1:Object.keys(e).every(n=>t.includes(n))}function Hm(e){const t=/^#?([\da-f])([\da-f])([\da-f])$/i,n=e.replace(t,(o,s,i,a)=>s+s+i+i+a+a),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function es(e){return e.disableBeacon||e.placement==="center"}function ts(){return!["chrome","safari","firefox","opera"].includes(bl())}function ut({data:e,debug:t=!1,title:n,warn:r=!1}){const o=r?console.warn||console.error:console.log;t&&(n&&e?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach(s=>{L.plainObject(s)&&s.key?o.apply(console,[s.key,s.value]):o.apply(console,[s])}):o.apply(console,[e]),console.groupEnd()):console.error("Missing title or data props"))}function Bm(e){return Object.keys(e)}function xl(e,...t){if(!L.plainObject(e))throw new TypeError("Expected an object");const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&(t.includes(r)||(n[r]=e[r]));return n}function Wm(e,...t){if(!L.plainObject(e))throw new TypeError("Expected an object");if(!t.length)return e;const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&t.includes(r)&&(n[r]=e[r]);return n}function Er(e,t,n){const r=s=>s.replace("{step}",String(t)).replace("{steps}",String(n));if(bn(e)==="string")return r(e);if(!d.isValidElement(e))return e;const{children:o}=e.props;if(bn(o)==="string"&&o.includes("{step}"))return d.cloneElement(e,{children:r(o)});if(Array.isArray(o))return d.cloneElement(e,{children:o.map(s=>typeof s=="string"?r(s):Er(s,t,n))});if(bn(e.type)==="function"&&!Object.values(e.props).length){const s=e.type({});return Er(s,t,n)}return e}function Gm(e){const{isFirstStep:t,lifecycle:n,previousLifecycle:r,scrollToFirstStep:o,step:s,target:i}=e;return!s.disableScrolling&&(!t||o||n===V.TOOLTIP)&&s.placement!=="center"&&(!s.isFixed||!jt(i))&&r!==n&&[V.BEACON,V.TOOLTIP].includes(n)}var Um={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},wl={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},Vm={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:wl,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},Km={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},qm={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},zt={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},ns={borderRadius:4,position:"absolute"};function Ym(e,t){var n,r,o,s,i;const{floaterProps:a,styles:l}=e,u=Ie((n=t.floaterProps)!=null?n:{},a??{}),p=Ie(l??{},(r=t.styles)!=null?r:{}),c=Ie(qm,p.options||{}),h=t.placement==="center"||t.disableBeacon;let{width:g}=c;window.innerWidth>480&&(g=380),"width"in c&&(g=typeof c.width=="number"&&window.innerWidth<c.width?window.innerWidth-30:c.width);const m={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:c.zIndex},v={beacon:{...zt,display:h?"none":"inline-block",height:c.beaconSize,position:"relative",width:c.beaconSize,zIndex:c.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:c.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${Hm(c.primaryColor).join(",")}, 0.2)`,border:`2px solid ${c.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:c.backgroundColor,borderRadius:5,boxSizing:"border-box",color:c.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:g},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...zt,backgroundColor:c.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...zt,color:c.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...zt,color:c.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...zt,color:c.textColor,fontSize:14},overlay:{...m,backgroundColor:c.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...m},overlayLegacyCenter:{...m,backgroundColor:c.overlayColor},spotlight:{...ns,backgroundColor:"gray"},spotlightLegacy:{...ns,boxShadow:`0 0 0 9999px ${c.overlayColor}, ${c.spotlightShadow}`},floaterStyles:{arrow:{color:(i=(s=(o=u==null?void 0:u.styles)==null?void 0:o.arrow)==null?void 0:s.color)!=null?i:c.arrowColor},options:{zIndex:c.zIndex+100}},options:c};return Ie(v,p)}function Xm(e){return Wm(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function bt(e,t){var n,r,o,s,i,a;const l=t??{},u=Ie.all([Vm,Xm(e),l],{isMergeableObject:L.plainObject}),p=Ym(e,u),c=Un(Ge(u.target),u.disableScrollParentFix),h=Ie.all([Um,(n=e.floaterProps)!=null?n:{},(r=u.floaterProps)!=null?r:{}]);return h.offset=u.offset,h.styles=Ie((o=h.styles)!=null?o:{},p.floaterStyles),h.offset+=(i=(s=e.spotlightPadding)!=null?s:u.spotlightPadding)!=null?i:0,u.placementBeacon&&h.wrapperOptions&&(h.wrapperOptions.placement=u.placementBeacon),c&&h.options.preventOverflow&&(h.options.preventOverflow.boundariesElement="window"),{...u,locale:Ie.all([wl,(a=e.locale)!=null?a:{},u.locale||{}]),floaterProps:h,styles:xl(p,"floaterStyles")}}function El(e,t=!1){return L.plainObject(e)?e.target?!0:(ut({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(ut({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function rs(e,t=!1){return L.array(e)?e.every(n=>El(n,t)):(ut({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var Cl={action:"init",controlled:!1,index:0,lifecycle:V.INIT,origin:null,size:0,status:Z.IDLE},os=Bm(xl(Cl,"controlled","size")),Jm=class{constructor(e){D(this,"beaconPopper"),D(this,"tooltipPopper"),D(this,"data",new Map),D(this,"listener"),D(this,"store",new Map),D(this,"addListener",o=>{this.listener=o}),D(this,"setSteps",o=>{const{size:s,status:i}=this.getState(),a={size:o.length,status:i};this.data.set("steps",o),i===Z.WAITING&&!s&&o.length&&(a.status=Z.RUNNING),this.setState(a)}),D(this,"getPopper",o=>o==="beacon"?this.beaconPopper:this.tooltipPopper),D(this,"setPopper",(o,s)=>{o==="beacon"?this.beaconPopper=s:this.tooltipPopper=s}),D(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),D(this,"close",(o=null)=>{const{index:s,status:i}=this.getState();i===Z.RUNNING&&this.setState({...this.getNextState({action:te.CLOSE,index:s+1,origin:o})})}),D(this,"go",o=>{const{controlled:s,status:i}=this.getState();if(s||i!==Z.RUNNING)return;const a=this.getSteps()[o];this.setState({...this.getNextState({action:te.GO,index:o}),status:a?i:Z.FINISHED})}),D(this,"info",()=>this.getState()),D(this,"next",()=>{const{index:o,status:s}=this.getState();s===Z.RUNNING&&this.setState(this.getNextState({action:te.NEXT,index:o+1}))}),D(this,"open",()=>{const{status:o}=this.getState();o===Z.RUNNING&&this.setState({...this.getNextState({action:te.UPDATE,lifecycle:V.TOOLTIP})})}),D(this,"prev",()=>{const{index:o,status:s}=this.getState();s===Z.RUNNING&&this.setState({...this.getNextState({action:te.PREV,index:o-1})})}),D(this,"reset",(o=!1)=>{const{controlled:s}=this.getState();s||this.setState({...this.getNextState({action:te.RESET,index:0}),status:o?Z.RUNNING:Z.READY})}),D(this,"skip",()=>{const{status:o}=this.getState();o===Z.RUNNING&&this.setState({action:te.SKIP,lifecycle:V.INIT,status:Z.SKIPPED})}),D(this,"start",o=>{const{index:s,size:i}=this.getState();this.setState({...this.getNextState({action:te.START,index:L.number(o)?o:s},!0),status:i?Z.RUNNING:Z.WAITING})}),D(this,"stop",(o=!1)=>{const{index:s,status:i}=this.getState();[Z.FINISHED,Z.SKIPPED].includes(i)||this.setState({...this.getNextState({action:te.STOP,index:s+(o?1:0)}),status:Z.PAUSED})}),D(this,"update",o=>{var s,i;if(!zm(o,os))throw new Error(`State is not valid. Valid keys: ${os.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...o,action:(s=o.action)!=null?s:te.UPDATE,origin:(i=o.origin)!=null?i:null},!0)})});const{continuous:t=!1,stepIndex:n,steps:r=[]}=e??{};this.setState({action:te.INIT,controlled:L.number(n),continuous:t,index:L.number(n)?n:0,lifecycle:V.INIT,origin:null,status:r.length?Z.READY:Z.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...Cl}}getNextState(e,t=!1){var n,r,o,s,i;const{action:a,controlled:l,index:u,size:p,status:c}=this.getState(),h=L.number(e.index)?e.index:u,g=l&&!t?u:Math.min(Math.max(h,0),p);return{action:(n=e.action)!=null?n:a,controlled:l,index:g,lifecycle:(r=e.lifecycle)!=null?r:V.INIT,origin:(o=e.origin)!=null?o:null,size:(s=e.size)!=null?s:p,status:g===p?Z.FINISHED:(i=e.status)!=null?i:c}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){const t=JSON.stringify(e),n=JSON.stringify(this.getState());return t!==n}setState(e,t=!1){const n=this.getState(),{action:r,index:o,lifecycle:s,origin:i=null,size:a,status:l}={...n,...e};this.store.set("action",r),this.store.set("index",o),this.store.set("lifecycle",s),this.store.set("origin",i),this.store.set("size",a),this.store.set("status",l),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function Zm(e){return new Jm(e)}function Qm({styles:e}){return d.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})}var eg=Qm,tg=class extends d.Component{constructor(){super(...arguments),D(this,"isActive",!1),D(this,"resizeTimeout"),D(this,"scrollTimeout"),D(this,"scrollParent"),D(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),D(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:t,lifecycle:n}=this.props,r=[V.INIT,V.BEACON,V.COMPLETE,V.ERROR];return t||(e?r.includes(n):n!==V.TOOLTIP)}),D(this,"handleMouseMove",e=>{const{mouseOverSpotlight:t}=this.state,{height:n,left:r,position:o,top:s,width:i}=this.spotlightStyles,a=o==="fixed"?e.clientY:e.pageY,l=o==="fixed"?e.clientX:e.pageX,u=a>=s&&a<=s+n,c=l>=r&&l<=r+i&&u;c!==t&&this.updateState({mouseOverSpotlight:c})}),D(this,"handleScroll",()=>{const{target:e}=this.props,t=Ge(e);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else jt(t,"sticky")&&this.updateState({})}),D(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:n=!1,target:r}=this.props,o=Ge(r);this.scrollParent=tn(o??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:o,target:s}=this.props,{changed:i}=Nn(e,this.props);if(i("target")||i("disableScrollParentFix")){const a=Ge(s);this.scrollParent=tn(a??document.body,n,!0)}i("lifecycle",V.TOOLTIP)&&((t=this.scrollParent)==null||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:a}=this.state;a||this.updateState({showSpotlight:!0})},100)),(i("spotlightClicks")||i("disableOverlay")||i("lifecycle"))&&(o&&r===V.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==V.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(e=this.scrollParent)==null||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:n,styles:r}=this.props;let o=r.overlay;return ts()&&(o=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:t?"default":"pointer",height:Am(),pointerEvents:e?"none":"auto",...o}}get spotlightStyles(){var e,t,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:o=!1,spotlightClicks:s,spotlightPadding:i=0,styles:a,target:l}=this.props,u=Ge(l),p=yl(u),c=jt(u),h=Dm(u,i,o);return{...ts()?a.spotlightLegacy:a.spotlight,height:Math.round(((e=p==null?void 0:p.height)!=null?e:0)+i*2),left:Math.round(((t=p==null?void 0:p.left)!=null?t:0)-i),opacity:r?1:0,pointerEvents:s?"none":"auto",position:c?"fixed":"absolute",top:h,transition:"opacity 0.2s",width:Math.round(((n=p==null?void 0:p.width)!=null?n:0)+i*2)}}updateState(e){this.isActive&&this.setState(t=>({...t,...e}))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:t,placement:n}=this.props,{hideSpotlight:r,overlayStyles:o,spotlightStyles:s}=this;if(r())return null;let i=n!=="center"&&e&&d.createElement(eg,{styles:s});if(bl()==="safari"){const{mixBlendMode:a,zIndex:l,...u}=o;i=d.createElement("div",{style:{...u}},i),delete o.backgroundColor}return d.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:t,role:"presentation",style:o},i)}},ng=class extends d.Component{constructor(){super(...arguments),D(this,"node",null)}componentDidMount(){const{id:e}=this.props;Ze()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),$t||this.renderReact15())}componentDidUpdate(){Ze()&&($t||this.renderReact15())}componentWillUnmount(){!Ze()||!this.node||($t||Ut.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!Ze())return;const{children:e}=this.props;this.node&&Ut.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!Ze()||!$t)return null;const{children:e}=this.props;return this.node?Ut.createPortal(e,this.node):null}render(){return $t?this.renderReact16():null}},rg=class{constructor(e,t){if(D(this,"element"),D(this,"options"),D(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),D(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,o=n.nodeName.toLowerCase();return(r.test(o)&&!n.getAttribute("disabled")||o==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),D(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),D(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),D(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:o}=n;if(!r.length)return;let s=document.activeElement?r.indexOf(document.activeElement):0;s===-1||!o&&s+1===r.length?s=0:o&&s===0?s=r.length-1:s+=o?-1:1,r[s].focus()}),D(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,o=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&o.getPropertyValue("overflow")!=="visible"||o.getPropertyValue("display")==="none"}),D(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),D(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),D(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),D(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},og=class extends d.Component{constructor(e){if(super(e),D(this,"beacon",null),D(this,"setBeaconRef",o=>{this.beacon=o}),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",e.nonce&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),t.appendChild(n)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{L.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");e!=null&&e.parentNode&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:n,isLastStep:r,locale:o,onClickOrHover:s,size:i,step:a,styles:l}=this.props,u=_e(o.open),p={"aria-label":u,onClick:s,onMouseEnter:s,ref:this.setBeaconRef,title:u};let c;if(e){const h=e;c=d.createElement(h,{continuous:t,index:n,isLastStep:r,size:i,step:a,...p})}else c=d.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:l.beacon,type:"button",...p},d.createElement("span",{style:l.beaconInner}),d.createElement("span",{style:l.beaconOuter}));return c}};function sg({styles:e,...t}){const{color:n,height:r,width:o,...s}=e;return B.createElement("button",{style:s,type:"button",...t},B.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof o=="number"?`${o}px`:o,xmlns:"http://www.w3.org/2000/svg"},B.createElement("g",null,B.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var ig=sg;function ag(e){const{backProps:t,closeProps:n,index:r,isLastStep:o,primaryProps:s,skipProps:i,step:a,tooltipProps:l}=e,{content:u,hideBackButton:p,hideCloseButton:c,hideFooter:h,showSkipButton:g,styles:m,title:v}=a,w={};return w.primary=d.createElement("button",{"data-test-id":"button-primary",style:m.buttonNext,type:"button",...s}),g&&!o&&(w.skip=d.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:m.buttonSkip,type:"button",...i})),!p&&r>0&&(w.back=d.createElement("button",{"data-test-id":"button-back",style:m.buttonBack,type:"button",...t})),w.close=!c&&d.createElement(ig,{"data-test-id":"button-close",styles:m.buttonClose,...n}),d.createElement("div",{key:"JoyrideTooltip","aria-label":_e(v??u),className:"react-joyride__tooltip",style:m.tooltip,...l},d.createElement("div",{style:m.tooltipContainer},v&&d.createElement("h1",{"aria-label":_e(v),style:m.tooltipTitle},v),d.createElement("div",{style:m.tooltipContent},u)),!h&&d.createElement("div",{style:m.tooltipFooter},d.createElement("div",{style:m.tooltipFooterSpacer},w.skip),w.back,w.primary),w.close)}var lg=ag,cg=class extends d.Component{constructor(){super(...arguments),D(this,"handleClickBack",e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()}),D(this,"handleClickClose",e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")}),D(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:t,helpers:n}=this.props;if(!t){n.close("button_primary");return}n.next()}),D(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()}),D(this,"getElementsProps",()=>{const{continuous:e,index:t,isLastStep:n,setTooltipRef:r,size:o,step:s}=this.props,{back:i,close:a,last:l,next:u,nextLabelWithProgress:p,skip:c}=s.locale,h=_e(i),g=_e(a),m=_e(l),v=_e(u),w=_e(c);let y=a,b=g;if(e){if(y=u,b=v,s.showProgress&&!n){const E=_e(p,{step:t+1,steps:o});y=Er(p,t+1,o),b=E}n&&(y=l,b=m)}return{backProps:{"aria-label":h,children:i,"data-action":"back",onClick:this.handleClickBack,role:"button",title:h},closeProps:{"aria-label":g,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:g},primaryProps:{"aria-label":b,children:y,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:b},skipProps:{"aria-label":w,children:c,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:w},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:e,index:t,isLastStep:n,setTooltipRef:r,size:o,step:s}=this.props,{beaconComponent:i,tooltipComponent:a,...l}=s;let u;if(a){const p={...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:o,step:l,setTooltipRef:r},c=a;u=d.createElement(c,{...p})}else u=d.createElement(lg,{...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:o,step:s});return u}},ug=class extends d.Component{constructor(){super(...arguments),D(this,"scope",null),D(this,"tooltip",null),D(this,"handleClickHoverBeacon",e=>{const{step:t,store:n}=this.props;e.type==="mouseenter"&&t.event!=="hover"||n.update({lifecycle:V.TOOLTIP})}),D(this,"setTooltipRef",e=>{this.tooltip=e}),D(this,"setPopper",(e,t)=>{var n;const{action:r,lifecycle:o,step:s,store:i}=this.props;t==="wrapper"?i.setPopper("beacon",e):i.setPopper("tooltip",e),i.getPopper("beacon")&&(i.getPopper("tooltip")||s.placement==="center")&&o===V.INIT&&i.update({action:r,lifecycle:V.READY}),(n=s.floaterProps)!=null&&n.getPopper&&s.floaterProps.getPopper(e,t)}),D(this,"renderTooltip",e=>{const{continuous:t,helpers:n,index:r,size:o,step:s}=this.props;return d.createElement(cg,{continuous:t,helpers:n,index:r,isLastStep:r+1===o,setTooltipRef:this.setTooltipRef,size:o,step:s,...e})})}componentDidMount(){const{debug:e,index:t}=this.props;ut({title:`step:${t}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:n,callback:r,continuous:o,controlled:s,debug:i,helpers:a,index:l,lifecycle:u,shouldScroll:p,status:c,step:h,store:g}=this.props,{changed:m,changedFrom:v}=Nn(e,this.props),w=a.info(),y=o&&n!==te.CLOSE&&(l>0||n===te.PREV),b=m("action")||m("index")||m("lifecycle")||m("status"),E=v("lifecycle",[V.TOOLTIP,V.INIT],V.INIT),C=m("action",[te.NEXT,te.PREV,te.SKIP,te.CLOSE]),x=s&&l===e.index;if(C&&(E||x)&&r({...w,index:e.index,lifecycle:V.COMPLETE,step:e.step,type:Re.STEP_AFTER}),h.placement==="center"&&c===Z.RUNNING&&m("index")&&n!==te.START&&u===V.INIT&&g.update({lifecycle:V.READY}),b){const S=Ge(h.target),O=!!S;O&&Lm(S)?(v("status",Z.READY,Z.RUNNING)||v("lifecycle",V.INIT,V.READY))&&r({...w,step:h,type:Re.STEP_BEFORE}):(console.warn(O?"Target not visible":"Target not mounted",h),r({...w,type:Re.TARGET_NOT_FOUND,step:h}),s||g.update({index:l+(n===te.PREV?-1:1)}))}v("lifecycle",V.INIT,V.READY)&&g.update({lifecycle:es(h)||y?V.TOOLTIP:V.BEACON}),m("index")&&ut({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:i}),m("lifecycle",V.BEACON)&&r({...w,step:h,type:Re.BEACON}),m("lifecycle",V.TOOLTIP)&&(r({...w,step:h,type:Re.TOOLTIP}),p&&this.tooltip&&(this.scope=new rg(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),v("lifecycle",[V.TOOLTIP,V.INIT],V.INIT)&&((t=this.scope)==null||t.removeScope(),g.cleanupPoppers())}componentWillUnmount(){var e;(e=this.scope)==null||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return es(t)||e===V.TOOLTIP}render(){const{continuous:e,debug:t,index:n,nonce:r,shouldScroll:o,size:s,step:i}=this.props,a=Ge(i.target);return!El(i)||!L.domElement(a)?null:d.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},d.createElement(to,{...i.floaterProps,component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:i.placement,target:i.target},d.createElement(og,{beaconComponent:i.beaconComponent,continuous:e,index:n,isLastStep:n+1===s,locale:i.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:o,size:s,step:i,styles:i.styles})))}},Sl=class extends d.Component{constructor(e){super(e),D(this,"helpers"),D(this,"store"),D(this,"callback",i=>{const{callback:a}=this.props;L.function(a)&&a(i)}),D(this,"handleKeyboard",i=>{const{index:a,lifecycle:l}=this.state,{steps:u}=this.props,p=u[a];l===V.TOOLTIP&&i.code==="Escape"&&p&&!p.disableCloseOnEsc&&this.store.close("keyboard")}),D(this,"handleClickOverlay",()=>{const{index:i}=this.state,{steps:a}=this.props;bt(this.props,a[i]).disableOverlayClose||this.helpers.close("overlay")}),D(this,"syncState",i=>{this.setState(i)});const{debug:t,getHelpers:n,run:r=!0,stepIndex:o}=e;this.store=Zm({...e,controlled:r&&L.number(o)}),this.helpers=this.store.getHelpers();const{addListener:s}=this.store;ut({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),s(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!Ze())return;const{debug:e,disableCloseOnEsc:t,run:n,steps:r}=this.props,{start:o}=this.store;rs(r,e)&&n&&o(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!Ze())return;const{action:n,controlled:r,index:o,status:s}=this.state,{debug:i,run:a,stepIndex:l,steps:u}=this.props,{stepIndex:p,steps:c}=e,{reset:h,setSteps:g,start:m,stop:v,update:w}=this.store,{changed:y}=Nn(e,this.props),{changed:b,changedFrom:E}=Nn(t,this.state),C=bt(this.props,u[o]),x=!ve(c,u),S=L.number(l)&&y("stepIndex"),O=Ge(C.target);if(x&&(rs(u,i)?g(u):console.warn("Steps are not valid",u)),y("run")&&(a?m(l):v()),S){let P=L.number(p)&&p<l?te.NEXT:te.PREV;n===te.STOP&&(P=te.START),[Z.FINISHED,Z.SKIPPED].includes(s)||w({action:n===te.CLOSE?te.CLOSE:P,index:l,lifecycle:V.INIT})}!r&&s===Z.RUNNING&&o===0&&!O&&(this.store.update({index:o+1}),this.callback({...this.state,type:Re.TARGET_NOT_FOUND,step:C}));const I={...this.state,index:o,step:C};if(b("action",[te.NEXT,te.PREV,te.SKIP,te.CLOSE])&&b("status",Z.PAUSED)){const P=bt(this.props,u[t.index]);this.callback({...I,index:t.index,lifecycle:V.COMPLETE,step:P,type:Re.STEP_AFTER})}if(b("status",[Z.FINISHED,Z.SKIPPED])){const P=bt(this.props,u[t.index]);r||this.callback({...I,index:t.index,lifecycle:V.COMPLETE,step:P,type:Re.STEP_AFTER}),this.callback({...I,type:Re.TOUR_END,step:P,index:t.index}),h()}else E("status",[Z.IDLE,Z.READY],Z.RUNNING)?this.callback({...I,type:Re.TOUR_START}):(b("status")||b("action",te.RESET))&&this.callback({...I,type:Re.TOUR_STATUS});this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:n,status:r}=this.state,{debug:o,disableScrollParentFix:s=!1,scrollDuration:i,scrollOffset:a=20,scrollToFirstStep:l=!1,steps:u}=this.props,p=bt(this.props,u[t]),c=Ge(p.target),h=Gm({isFirstStep:t===0,lifecycle:n,previousLifecycle:e.lifecycle,scrollToFirstStep:l,step:p,target:c});if(r===Z.RUNNING&&h){const g=Un(c,s),m=tn(c,s);let v=Math.floor(Fm(c,a,s))||0;ut({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:n},{key:"status",value:r}],debug:o});const w=this.store.getPopper("beacon"),y=this.store.getPopper("tooltip");if(n===V.BEACON&&w){const{offsets:b,placement:E}=w;!["bottom"].includes(E)&&!g&&(v=Math.floor(b.popper.top-a))}else if(n===V.TOOLTIP&&y){const{flipped:b,offsets:E,placement:C}=y;["top","right","left"].includes(C)&&!b&&!g?v=Math.floor(E.popper.top-a):v-=p.spotlightPadding}v=v>=0?v:0,r===Z.RUNNING&&$m(v,{element:m,duration:i}).then(()=>{setTimeout(()=>{var b;(b=this.store.getPopper("tooltip"))==null||b.instance.update()},10)})}}render(){if(!Ze())return null;const{index:e,lifecycle:t,status:n}=this.state,{continuous:r=!1,debug:o=!1,nonce:s,scrollToFirstStep:i=!1,steps:a}=this.props,l=n===Z.RUNNING,u={};if(l&&a[e]){const p=bt(this.props,a[e]);u.step=d.createElement(ug,{...this.state,callback:this.callback,continuous:r,debug:o,helpers:this.helpers,nonce:s,shouldScroll:!p.disableScrolling&&(e!==0||i),step:p,store:this.store}),u.overlay=d.createElement(ng,{id:"react-joyride-portal"},d.createElement(tg,{...p,continuous:r,debug:o,lifecycle:t,onClickOverlay:this.handleClickOverlay}))}return d.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};D(Sl,"defaultProps",Km);var dg=Sl;function fg({onClose:e}){const t=[{title:"Welcome to our game!",content:"This is a short tutorial to help you get started.",target:"#reset-level",placement:"center",disableBeacon:!0},{title:"The Game Window!",content:"This is the game window which shows your character and the game world. Here you'll be able to test all the features you implemented in the node editor.",target:"#game-panel",disableBeacon:!0},{title:"The Node Editor!",content:"This is the node editor where you can create and edit your game logic. Everything you create here will be executed in the game window.",target:"#nodes-panel",disableBeacon:!0},{title:"Add Nodes!",content:"You can add nodes to the editor by right-clicking on the canvas. Each node represents a specific action or condition in your game logic.",target:"#nodes-panel",disableBeacon:!0},{title:"Add more Nodes!",content:"You can also add nodes by clicking the plus icon in the top right corner of the node editor. This will open the same menu as right-clicking on the canvas.",target:"#add-nodes",disableBeacon:!0},{title:"Export Flow!",content:"Once you have created your game logic, you can export it to the game window by connecting your node tree(s) to the export node(s). This will allow you to test your logic in the game.",target:"#nodes-panel",placement:"center",disableBeacon:!0},{title:"Hints!",content:"Here you can find hints and get a full solution to the current level if you are stuck. You can also find a direct link to a level-guide here, that provides more in-depth background informations about the level. Remember, there is also a question mark icon in the right corner of each node that provides additional information about the node's functionality.",target:"#help-menu",disableBeacon:!0},{title:"Reset!",content:"Be careful with this button! It will reset the whole level and all your nodes will be deleted.",target:"#reset-level",disableBeacon:!0},{title:"Navigation!",content:"Use these buttons to navigate in between the different levels of the game. You can also use the home button to return to the main menu.",target:"#center-panel",disableBeacon:!0}],n=r=>{r.status,(r.status==="finished"||r.status==="skipped")&&e()};return f.jsx(dg,{steps:t,tooltipComponent:pg,continuous:!0,callback:n,styles:{spotlight:{border:"2px solid var(--color-blue-200)"}},floaterProps:{styles:{arrow:{color:"var(--color-blue-300)"}}}})}function pg({backProps:e,closeProps:t,index:n,primaryProps:r,skipProps:o,isLastStep:s,step:i,tooltipProps:a,size:l}){return f.jsxs("div",{className:"z-[10001] max-w-2xl rounded-lg border-2 border-blue-300 bg-slate-800/90 p-8 font-mono text-white shadow-lg",...a,children:[f.jsx("h1",{className:"mb-2 text-2xl font-bold",children:i.title}),f.jsx("div",{className:"mb-4",children:i.content}),(n===0||s)&&f.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[f.jsx(Fa,{className:"flex size-5 appearance-none items-center justify-center rounded bg-white",onCheckedChange:u=>localStorage.setItem("hideTutorial",u.toString()),id:"dontShowAgain",children:f.jsx(za,{children:f.jsx(Wl,{className:"text-black"})})}),f.jsx("label",{htmlFor:"dontShowAgain",className:"select-none",children:"Don't show again"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[n+1," / ",l]}),f.jsxs("div",{className:"flex justify-end gap-5",children:[n===0&&f.jsx("button",{className:"cursor-pointer rounded-lg bg-slate-700 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",...o,children:"Skip"}),f.jsx("button",{disabled:n===0,className:"rounded-lg bg-slate-700 px-3 py-2 focus:outline-1 focus:outline-blue-300"+(n===0?" opacity-50":" cursor-pointer hover:bg-slate-600"),...e,children:"Back"}),s?f.jsx("button",{className:"cursor-pointer rounded-lg bg-slate-700 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",...t,children:"Start"}):f.jsx("button",{className:"cursor-pointer rounded-lg bg-slate-700 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",autoFocus:n===0,...r,children:"Next"})]})]})]})}const hg=({params:e})=>{const t=d.useRef(null),n=e.id||"calculator";if(!(n in ye))throw new Error(`Level ${n} not found`);const[r,o]=d.useState(!JSON.parse(localStorage.getItem("hideTutorial")??"false")),[s,i]=d.useState(!r);return d.useEffect(()=>{if(!t.current)return;oo.init(),ql(t.current),Jc(n),o(!JSON.parse(localStorage.getItem("hideTutorial")??"false"));const a=setInterval(()=>{pt.getState().save(),He.getState().save(),Yt.getState().save(),Be.getState().save()},1e3);return()=>{Yl(),clearInterval(a),i(!0),oo.cleanup()}},[n]),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute top-0 left-0 z-10 h-full w-full bg-slate-900 p-8 text-center md:hidden",children:f.jsx("div",{className:"flex h-full w-full items-center justify-center",children:f.jsx("h1",{className:"text-2xl font-bold text-white",children:"Please use a desktop browser to play the game."})})}),r&&f.jsx(fg,{onClose:()=>o(!1)}),f.jsx(Ci,{open:!r&&s,onOpenChange:i}),f.jsx(kp,{open:!r&&!s}),f.jsx(Lp,{}),f.jsxs(ei,{direction:"horizontal",children:[f.jsx(fr,{id:"game-panel",minSize:25,order:1,children:f.jsx("canvas",{id:"game-canvas",ref:t,className:"w-1/2"})}),f.jsx(ti,{className:"flex w-2 items-center justify-center bg-slate-800",children:f.jsx(Gl,{width:32,height:32,className:"scale-125 text-slate-400"})}),f.jsx(fr,{id:"nodes-panel",minSize:25,order:2,children:f.jsx(_p,{})})]})]})},Og=Nl(hg);export{Og as default};
