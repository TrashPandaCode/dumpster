import{w as cr}from"./with-props-DHRFOzHR.js";import{a as i,s as ur,o as c,t as wn}from"./chunk-AYJ5UCUI-DfzbB4N7.js";import{c as Nt,u as ee,a as tt,b as L,d as Dt,e as Me,P as Ee,f as dr,C as fr,g as Cn,h as pr,i as mr,R as gr,I as hr,j as xr,k as oe,l as Sn,m as vr,n as _t,H as yr,D as br}from"./index-kzdvF_sg.js";import{L as Ye,u as Er,h as wr,a as Le,c as In,b as Pn,v as me,d as _e,M as Yt,e as Cr,g as ft,f as Sr,i as Ir,j as Pr,k as qt,l as Mr,m as Rr}from"./levels-C3iVzHA0.js";import{u as de,P as Nr,R as Mn,h as Rn,a as Nn,D as Dr,T as _r,b as Tr,c as Ar,d as nt,e as jr,f as $e,s as Zt,g as Lr,i as Dn,j as _n,k as Tn,l as Or,A as kr,C as zr,m as Fr,n as An,o as $r,p as Gr,q as Hr,r as Kr,t as Ur,B as Br}from"./node-types-Cuva8_MO.js";import{R as Wr}from"./index-BMLNhK5V.js";const ot=i.createContext(null);ot.displayName="PanelGroupContext";const W={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Tt=10,ve=i.useLayoutEffect,Jt=ur.useId,Vr=typeof Jt=="function"?Jt:()=>null;let Xr=0;function At(e=null){const t=Vr(),n=i.useRef(e||t||null);return n.current===null&&(n.current=""+Xr++),e??n.current}function jn({children:e,className:t="",collapsedSize:n,collapsible:o,defaultSize:r,forwardedRef:s,id:l,maxSize:a,minSize:u,onCollapse:g,onExpand:p,onResize:d,order:m,style:v,tagName:b="div",...y}){const x=i.useContext(ot);if(x===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:f,expandPanel:h,getPanelSize:E,getPanelStyle:C,groupId:S,isPanelCollapsed:M,reevaluatePanelConstraints:w,registerPanel:_,resizePanel:H,unregisterPanel:z}=x,K=At(l),F=i.useRef({callbacks:{onCollapse:g,onExpand:p,onResize:d},constraints:{collapsedSize:n,collapsible:o,defaultSize:r,maxSize:a,minSize:u},id:K,idIsFromProps:l!==void 0,order:m});i.useRef({didLogMissingDefaultSizeWarning:!1}),ve(()=>{const{callbacks:O,constraints:G}=F.current,$={...G};F.current.id=K,F.current.idIsFromProps=l!==void 0,F.current.order=m,O.onCollapse=g,O.onExpand=p,O.onResize=d,G.collapsedSize=n,G.collapsible=o,G.defaultSize=r,G.maxSize=a,G.minSize=u,($.collapsedSize!==G.collapsedSize||$.collapsible!==G.collapsible||$.maxSize!==G.maxSize||$.minSize!==G.minSize)&&w(F.current,$)}),ve(()=>{const O=F.current;return _(O),()=>{z(O)}},[m,K,_,z]),i.useImperativeHandle(s,()=>({collapse:()=>{f(F.current)},expand:O=>{h(F.current,O)},getId(){return K},getSize(){return E(F.current)},isCollapsed(){return M(F.current)},isExpanded(){return!M(F.current)},resize:O=>{H(F.current,O)}}),[f,h,E,M,K,H]);const Y=C(F.current,r);return i.createElement(b,{...y,children:e,className:t,id:K,style:{...Y,...v},[W.groupId]:S,[W.panel]:"",[W.panelCollapsible]:o||void 0,[W.panelId]:K,[W.panelSize]:parseFloat(""+Y.flexGrow).toFixed(1)})}const Ct=i.forwardRef((e,t)=>i.createElement(jn,{...e,forwardedRef:t}));jn.displayName="Panel";Ct.displayName="forwardRef(Panel)";let St=null,Ve=-1,ge=null;function Yr(e,t){if(t){const n=(t&Fn)!==0,o=(t&$n)!==0,r=(t&Gn)!==0,s=(t&Hn)!==0;if(n)return r?"se-resize":s?"ne-resize":"e-resize";if(o)return r?"sw-resize":s?"nw-resize":"w-resize";if(r)return"s-resize";if(s)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function qr(){ge!==null&&(document.head.removeChild(ge),St=null,ge=null,Ve=-1)}function pt(e,t){var n,o;const r=Yr(e,t);if(St!==r){if(St=r,ge===null&&(ge=document.createElement("style"),document.head.appendChild(ge)),Ve>=0){var s;(s=ge.sheet)===null||s===void 0||s.removeRule(Ve)}Ve=(n=(o=ge.sheet)===null||o===void 0?void 0:o.insertRule(`*{cursor: ${r} !important;}`))!==null&&n!==void 0?n:-1}}function Ln(e){return e.type==="keydown"}function On(e){return e.type.startsWith("pointer")}function kn(e){return e.type.startsWith("mouse")}function rt(e){if(On(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(kn(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Zr(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Jr(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Qr(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:tn(e),b:tn(t)};let o;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),o=e;j(o,"Stacking order can only be calculated for elements with a common ancestor");const r={a:en(Qt(n.a)),b:en(Qt(n.b))};if(r.a===r.b){const s=o.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let a=s.length;for(;a--;){const u=s[a];if(u===l.a)return 1;if(u===l.b)return-1}}return Math.sign(r.a-r.b)}const es=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function ts(e){var t;const n=getComputedStyle((t=zn(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function ns(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||ts(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||es.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Qt(e){let t=e.length;for(;t--;){const n=e[t];if(j(n,"Missing node"),ns(n))return n}return null}function en(e){return e&&Number(getComputedStyle(e).zIndex)||0}function tn(e){const t=[];for(;e;)t.push(e),e=zn(e);return t}function zn(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Fn=1,$n=2,Gn=4,Hn=8,os=Zr()==="coarse";let se=[],Re=!1,xe=new Map,st=new Map;const Oe=new Set;function rs(e,t,n,o,r){var s;const{ownerDocument:l}=t,a={direction:n,element:t,hitAreaMargins:o,setResizeHandlerState:r},u=(s=xe.get(l))!==null&&s!==void 0?s:0;return xe.set(l,u+1),Oe.add(a),qe(),function(){var p;st.delete(e),Oe.delete(a);const d=(p=xe.get(l))!==null&&p!==void 0?p:1;if(xe.set(l,d-1),qe(),d===1&&xe.delete(l),se.includes(a)){const m=se.indexOf(a);m>=0&&se.splice(m,1),Lt(),r("up",!0,null)}}}function ss(e){const{target:t}=e,{x:n,y:o}=rt(e);Re=!0,jt({target:t,x:n,y:o}),qe(),se.length>0&&(Ze("down",e),e.preventDefault(),Kn(t)||e.stopImmediatePropagation())}function mt(e){const{x:t,y:n}=rt(e);if(Re&&e.buttons===0&&(Re=!1,Ze("up",e)),!Re){const{target:o}=e;jt({target:o,x:t,y:n})}Ze("move",e),Lt(),se.length>0&&e.preventDefault()}function gt(e){const{target:t}=e,{x:n,y:o}=rt(e);st.clear(),Re=!1,se.length>0&&(e.preventDefault(),Kn(t)||e.stopImmediatePropagation()),Ze("up",e),jt({target:t,x:n,y:o}),Lt(),qe()}function Kn(e){let t=e;for(;t;){if(t.hasAttribute(W.resizeHandle))return!0;t=t.parentElement}return!1}function jt({target:e,x:t,y:n}){se.splice(0);let o=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(o=e),Oe.forEach(r=>{const{element:s,hitAreaMargins:l}=r,a=s.getBoundingClientRect(),{bottom:u,left:g,right:p,top:d}=a,m=os?l.coarse:l.fine;if(t>=g-m&&t<=p+m&&n>=d-m&&n<=u+m){if(o!==null&&document.contains(o)&&s!==o&&!s.contains(o)&&!o.contains(s)&&Qr(o,s)>0){let b=o,y=!1;for(;b&&!b.contains(s);){if(Jr(b.getBoundingClientRect(),a)){y=!0;break}b=b.parentElement}if(y)return}se.push(r)}})}function ht(e,t){st.set(e,t)}function Lt(){let e=!1,t=!1;se.forEach(o=>{const{direction:r}=o;r==="horizontal"?e=!0:t=!0});let n=0;st.forEach(o=>{n|=o}),e&&t?pt("intersection",n):e?pt("horizontal",n):t?pt("vertical",n):qr()}let xt=new AbortController;function qe(){xt.abort(),xt=new AbortController;const e={capture:!0,signal:xt.signal};Oe.size&&(Re?(se.length>0&&xe.forEach((t,n)=>{const{body:o}=n;t>0&&(o.addEventListener("contextmenu",gt,e),o.addEventListener("pointerleave",mt,e),o.addEventListener("pointermove",mt,e))}),window.addEventListener("pointerup",gt,e),window.addEventListener("pointercancel",gt,e)):xe.forEach((t,n)=>{const{body:o}=n;t>0&&(o.addEventListener("pointerdown",ss,e),o.addEventListener("pointermove",mt,e))}))}function Ze(e,t){Oe.forEach(n=>{const{setResizeHandlerState:o}=n,r=se.includes(n);o(e,r,t)})}function as(){const[e,t]=i.useState(0);return i.useCallback(()=>t(n=>n+1),[])}function j(e,t){if(!e)throw console.error(t),Error(t)}function ye(e,t,n=Tt){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function ue(e,t,n=Tt){return ye(e,t,n)===0}function Q(e,t,n){return ye(e,t,n)===0}function is(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){const r=e[o],s=t[o];if(!Q(r,s,n))return!1}return!0}function Pe({panelConstraints:e,panelIndex:t,size:n}){const o=e[t];j(o!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:r=0,collapsible:s,maxSize:l=100,minSize:a=0}=o;if(ye(n,a)<0)if(s){const u=(r+a)/2;ye(n,u)<0?n=r:n=a}else n=a;return n=Math.min(l,n),n=parseFloat(n.toFixed(Tt)),n}function Te({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:o,prevLayout:r,trigger:s}){if(Q(e,0))return t;const l=[...t],[a,u]=o;j(a!=null,"Invalid first pivot index"),j(u!=null,"Invalid second pivot index");let g=0;if(s==="keyboard"){{const d=e<0?u:a,m=n[d];j(m,`Panel constraints not found for index ${d}`);const{collapsedSize:v=0,collapsible:b,minSize:y=0}=m;if(b){const x=t[d];if(j(x!=null,`Previous layout not found for panel index ${d}`),Q(x,v)){const f=y-x;ye(f,Math.abs(e))>0&&(e=e<0?0-f:f)}}}{const d=e<0?a:u,m=n[d];j(m,`No panel constraints found for index ${d}`);const{collapsedSize:v=0,collapsible:b,minSize:y=0}=m;if(b){const x=t[d];if(j(x!=null,`Previous layout not found for panel index ${d}`),Q(x,y)){const f=x-v;ye(f,Math.abs(e))>0&&(e=e<0?0-f:f)}}}}{const d=e<0?1:-1;let m=e<0?u:a,v=0;for(;;){const y=t[m];j(y!=null,`Previous layout not found for panel index ${m}`);const f=Pe({panelConstraints:n,panelIndex:m,size:100})-y;if(v+=f,m+=d,m<0||m>=n.length)break}const b=Math.min(Math.abs(e),Math.abs(v));e=e<0?0-b:b}{let m=e<0?a:u;for(;m>=0&&m<n.length;){const v=Math.abs(e)-Math.abs(g),b=t[m];j(b!=null,`Previous layout not found for panel index ${m}`);const y=b-v,x=Pe({panelConstraints:n,panelIndex:m,size:y});if(!Q(b,x)&&(g+=b-x,l[m]=x,g.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?m--:m++}}if(is(r,l))return r;{const d=e<0?u:a,m=t[d];j(m!=null,`Previous layout not found for panel index ${d}`);const v=m+g,b=Pe({panelConstraints:n,panelIndex:d,size:v});if(l[d]=b,!Q(b,v)){let y=v-b,f=e<0?u:a;for(;f>=0&&f<n.length;){const h=l[f];j(h!=null,`Previous layout not found for panel index ${f}`);const E=h+y,C=Pe({panelConstraints:n,panelIndex:f,size:E});if(Q(h,C)||(y-=C-h,l[f]=C),Q(y,0))break;e>0?f--:f++}}}const p=l.reduce((d,m)=>m+d,0);return Q(p,100)?l:r}function ls({layout:e,panelsArray:t,pivotIndices:n}){let o=0,r=100,s=0,l=0;const a=n[0];j(a!=null,"No pivot index found"),t.forEach((d,m)=>{const{constraints:v}=d,{maxSize:b=100,minSize:y=0}=v;m===a?(o=y,r=b):(s+=y,l+=b)});const u=Math.min(r,100-s),g=Math.max(o,100-l),p=e[a];return{valueMax:u,valueMin:g,valueNow:p}}function ke(e,t=document){return Array.from(t.querySelectorAll(`[${W.resizeHandleId}][data-panel-group-id="${e}"]`))}function Un(e,t,n=document){const r=ke(e,n).findIndex(s=>s.getAttribute(W.resizeHandleId)===t);return r??null}function Bn(e,t,n){const o=Un(e,t,n);return o!=null?[o,o+1]:[-1,-1]}function Wn(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const o=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return o||null}function at(e,t=document){const n=t.querySelector(`[${W.resizeHandleId}="${e}"]`);return n||null}function cs(e,t,n,o=document){var r,s,l,a;const u=at(t,o),g=ke(e,o),p=u?g.indexOf(u):-1,d=(r=(s=n[p])===null||s===void 0?void 0:s.id)!==null&&r!==void 0?r:null,m=(l=(a=n[p+1])===null||a===void 0?void 0:a.id)!==null&&l!==void 0?l:null;return[d,m]}function us({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:o,panelDataArray:r,panelGroupElement:s,setLayout:l}){i.useRef({didWarnAboutMissingResizeHandle:!1}),ve(()=>{if(!s)return;const a=ke(n,s);for(let u=0;u<r.length-1;u++){const{valueMax:g,valueMin:p,valueNow:d}=ls({layout:o,panelsArray:r,pivotIndices:[u,u+1]}),m=a[u];if(m!=null){const v=r[u];j(v,`No panel data found for index "${u}"`),m.setAttribute("aria-controls",v.id),m.setAttribute("aria-valuemax",""+Math.round(g)),m.setAttribute("aria-valuemin",""+Math.round(p)),m.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{a.forEach((u,g)=>{u.removeAttribute("aria-controls"),u.removeAttribute("aria-valuemax"),u.removeAttribute("aria-valuemin"),u.removeAttribute("aria-valuenow")})}},[n,o,r,s]),i.useEffect(()=>{if(!s)return;const a=t.current;j(a,"Eager values not found");const{panelDataArray:u}=a,g=Wn(n,s);j(g!=null,`No group found for id "${n}"`);const p=ke(n,s);j(p,`No resize handles found for group id "${n}"`);const d=p.map(m=>{const v=m.getAttribute(W.resizeHandleId);j(v,"Resize handle element has no handle id attribute");const[b,y]=cs(n,v,u,s);if(b==null||y==null)return()=>{};const x=f=>{if(!f.defaultPrevented)switch(f.key){case"Enter":{f.preventDefault();const h=u.findIndex(E=>E.id===b);if(h>=0){const E=u[h];j(E,`No panel data found for index ${h}`);const C=o[h],{collapsedSize:S=0,collapsible:M,minSize:w=0}=E.constraints;if(C!=null&&M){const _=Te({delta:Q(C,S)?w-S:S-C,initialLayout:o,panelConstraints:u.map(H=>H.constraints),pivotIndices:Bn(n,v,s),prevLayout:o,trigger:"keyboard"});o!==_&&l(_)}}break}}};return m.addEventListener("keydown",x),()=>{m.removeEventListener("keydown",x)}});return()=>{d.forEach(m=>m())}},[s,e,t,n,o,r,l])}function nn(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Vn(e,t){const n=e==="horizontal",{x:o,y:r}=rt(t);return n?o:r}function ds(e,t,n,o,r){const s=n==="horizontal",l=at(t,r);j(l,`No resize handle element found for id "${t}"`);const a=l.getAttribute(W.groupId);j(a,"Resize handle element has no group id attribute");let{initialCursorPosition:u}=o;const g=Vn(n,e),p=Wn(a,r);j(p,`No group element found for id "${a}"`);const d=p.getBoundingClientRect(),m=s?d.width:d.height;return(g-u)/m*100}function fs(e,t,n,o,r,s){if(Ln(e)){const l=n==="horizontal";let a=0;e.shiftKey?a=100:r!=null?a=r:a=10;let u=0;switch(e.key){case"ArrowDown":u=l?0:a;break;case"ArrowLeft":u=l?-a:0;break;case"ArrowRight":u=l?a:0;break;case"ArrowUp":u=l?0:-a;break;case"End":u=100;break;case"Home":u=-100;break}return u}else return o==null?0:ds(e,t,n,o,s)}function ps({panelDataArray:e}){const t=Array(e.length),n=e.map(s=>s.constraints);let o=0,r=100;for(let s=0;s<e.length;s++){const l=n[s];j(l,`Panel constraints not found for index ${s}`);const{defaultSize:a}=l;a!=null&&(o++,t[s]=a,r-=a)}for(let s=0;s<e.length;s++){const l=n[s];j(l,`Panel constraints not found for index ${s}`);const{defaultSize:a}=l;if(a!=null)continue;const u=e.length-o,g=r/u;o++,t[s]=g,r-=g}return t}function Se(e,t,n){t.forEach((o,r)=>{const s=e[r];j(s,`Panel data not found for index ${r}`);const{callbacks:l,constraints:a,id:u}=s,{collapsedSize:g=0,collapsible:p}=a,d=n[u];if(d==null||o!==d){n[u]=o;const{onCollapse:m,onExpand:v,onResize:b}=l;b&&b(o,d),p&&(m||v)&&(v&&(d==null||ue(d,g))&&!ue(o,g)&&v(),m&&(d==null||!ue(d,g))&&ue(o,g)&&m())}})}function We(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function ms({defaultSize:e,dragState:t,layout:n,panelData:o,panelIndex:r,precision:s=3}){const l=n[r];let a;return l==null?a=e!=null?e.toPrecision(s):"1":o.length===1?a="1":a=l.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function gs(e,t=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}function on(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Xn(e){return`react-resizable-panels:${e}`}function Yn(e){return e.map(t=>{const{constraints:n,id:o,idIsFromProps:r,order:s}=t;return r?o:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function qn(e,t){try{const n=Xn(e),o=t.getItem(n);if(o){const r=JSON.parse(o);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function hs(e,t,n){var o,r;const s=(o=qn(e,n))!==null&&o!==void 0?o:{},l=Yn(t);return(r=s[l])!==null&&r!==void 0?r:null}function xs(e,t,n,o,r){var s;const l=Xn(e),a=Yn(t),u=(s=qn(e,r))!==null&&s!==void 0?s:{};u[a]={expandToSizes:Object.fromEntries(n.entries()),layout:o};try{r.setItem(l,JSON.stringify(u))}catch(g){console.error(g)}}function rn({layout:e,panelConstraints:t}){const n=[...e],o=n.reduce((s,l)=>s+l,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!Q(o,100)&&n.length>0)for(let s=0;s<t.length;s++){const l=n[s];j(l!=null,`No layout data found for index ${s}`);const a=100/o*l;n[s]=a}let r=0;for(let s=0;s<t.length;s++){const l=n[s];j(l!=null,`No layout data found for index ${s}`);const a=Pe({panelConstraints:t,panelIndex:s,size:l});l!=a&&(r+=l-a,n[s]=a)}if(!Q(r,0))for(let s=0;s<t.length;s++){const l=n[s];j(l!=null,`No layout data found for index ${s}`);const a=l+r,u=Pe({panelConstraints:t,panelIndex:s,size:a});if(l!==u&&(r-=u-l,n[s]=u,Q(r,0)))break}return n}const vs=100,Ae={getItem:e=>(on(Ae),Ae.getItem(e)),setItem:(e,t)=>{on(Ae),Ae.setItem(e,t)}},sn={};function Zn({autoSaveId:e=null,children:t,className:n="",direction:o,forwardedRef:r,id:s=null,onLayout:l=null,keyboardResizeBy:a=null,storage:u=Ae,style:g,tagName:p="div",...d}){const m=At(s),v=i.useRef(null),[b,y]=i.useState(null),[x,f]=i.useState([]),h=as(),E=i.useRef({}),C=i.useRef(new Map),S=i.useRef(0),M=i.useRef({autoSaveId:e,direction:o,dragState:b,id:m,keyboardResizeBy:a,onLayout:l,storage:u}),w=i.useRef({layout:x,panelDataArray:[],panelDataArrayChanged:!1});i.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),i.useImperativeHandle(r,()=>({getId:()=>M.current.id,getLayout:()=>{const{layout:I}=w.current;return I},setLayout:I=>{const{onLayout:N}=M.current,{layout:A,panelDataArray:R}=w.current,P=rn({layout:I,panelConstraints:R.map(T=>T.constraints)});nn(A,P)||(f(P),w.current.layout=P,N&&N(P),Se(R,P,E.current))}}),[]),ve(()=>{M.current.autoSaveId=e,M.current.direction=o,M.current.dragState=b,M.current.id=m,M.current.onLayout=l,M.current.storage=u}),us({committedValuesRef:M,eagerValuesRef:w,groupId:m,layout:x,panelDataArray:w.current.panelDataArray,setLayout:f,panelGroupElement:v.current}),i.useEffect(()=>{const{panelDataArray:I}=w.current;if(e){if(x.length===0||x.length!==I.length)return;let N=sn[e];N==null&&(N=gs(xs,vs),sn[e]=N);const A=[...I],R=new Map(C.current);N(e,A,R,x,u)}},[e,x,u]),i.useEffect(()=>{});const _=i.useCallback(I=>{const{onLayout:N}=M.current,{layout:A,panelDataArray:R}=w.current;if(I.constraints.collapsible){const P=R.map(ie=>ie.constraints),{collapsedSize:T=0,panelSize:k,pivotIndices:U}=he(R,I,A);if(j(k!=null,`Panel size not found for panel "${I.id}"`),!ue(k,T)){C.current.set(I.id,k);const le=Ie(R,I)===R.length-1?k-T:T-k,B=Te({delta:le,initialLayout:A,panelConstraints:P,pivotIndices:U,prevLayout:A,trigger:"imperative-api"});We(A,B)||(f(B),w.current.layout=B,N&&N(B),Se(R,B,E.current))}}},[]),H=i.useCallback((I,N)=>{const{onLayout:A}=M.current,{layout:R,panelDataArray:P}=w.current;if(I.constraints.collapsible){const T=P.map(re=>re.constraints),{collapsedSize:k=0,panelSize:U=0,minSize:ie=0,pivotIndices:le}=he(P,I,R),B=N??ie;if(ue(U,k)){const re=C.current.get(I.id),Ne=re!=null&&re>=B?re:B,dt=Ie(P,I)===P.length-1?U-Ne:Ne-U,J=Te({delta:dt,initialLayout:R,panelConstraints:T,pivotIndices:le,prevLayout:R,trigger:"imperative-api"});We(R,J)||(f(J),w.current.layout=J,A&&A(J),Se(P,J,E.current))}}},[]),z=i.useCallback(I=>{const{layout:N,panelDataArray:A}=w.current,{panelSize:R}=he(A,I,N);return j(R!=null,`Panel size not found for panel "${I.id}"`),R},[]),K=i.useCallback((I,N)=>{const{panelDataArray:A}=w.current,R=Ie(A,I);return ms({defaultSize:N,dragState:b,layout:x,panelData:A,panelIndex:R})},[b,x]),F=i.useCallback(I=>{const{layout:N,panelDataArray:A}=w.current,{collapsedSize:R=0,collapsible:P,panelSize:T}=he(A,I,N);return j(T!=null,`Panel size not found for panel "${I.id}"`),P===!0&&ue(T,R)},[]),Y=i.useCallback(I=>{const{layout:N,panelDataArray:A}=w.current,{collapsedSize:R=0,collapsible:P,panelSize:T}=he(A,I,N);return j(T!=null,`Panel size not found for panel "${I.id}"`),!P||ye(T,R)>0},[]),O=i.useCallback(I=>{const{panelDataArray:N}=w.current;N.push(I),N.sort((A,R)=>{const P=A.order,T=R.order;return P==null&&T==null?0:P==null?-1:T==null?1:P-T}),w.current.panelDataArrayChanged=!0,h()},[h]);ve(()=>{if(w.current.panelDataArrayChanged){w.current.panelDataArrayChanged=!1;const{autoSaveId:I,onLayout:N,storage:A}=M.current,{layout:R,panelDataArray:P}=w.current;let T=null;if(I){const U=hs(I,P,A);U&&(C.current=new Map(Object.entries(U.expandToSizes)),T=U.layout)}T==null&&(T=ps({panelDataArray:P}));const k=rn({layout:T,panelConstraints:P.map(U=>U.constraints)});nn(R,k)||(f(k),w.current.layout=k,N&&N(k),Se(P,k,E.current))}}),ve(()=>{const I=w.current;return()=>{I.layout=[]}},[]);const G=i.useCallback(I=>{let N=!1;const A=v.current;return A&&window.getComputedStyle(A,null).getPropertyValue("direction")==="rtl"&&(N=!0),function(P){P.preventDefault();const T=v.current;if(!T)return()=>null;const{direction:k,dragState:U,id:ie,keyboardResizeBy:le,onLayout:B}=M.current,{layout:re,panelDataArray:Ne}=w.current,{initialLayout:Be}=U??{},dt=Bn(ie,I,T);let J=fs(P,I,k,U,le,T);const Vt=k==="horizontal";Vt&&N&&(J=-J);const ir=Ne.map(lr=>lr.constraints),De=Te({delta:J,initialLayout:Be??re,panelConstraints:ir,pivotIndices:dt,prevLayout:re,trigger:Ln(P)?"keyboard":"mouse-or-touch"}),Xt=!We(re,De);(On(P)||kn(P))&&S.current!=J&&(S.current=J,!Xt&&J!==0?Vt?ht(I,J<0?Fn:$n):ht(I,J<0?Gn:Hn):ht(I,0)),Xt&&(f(De),w.current.layout=De,B&&B(De),Se(Ne,De,E.current))}},[]),$=i.useCallback((I,N)=>{const{onLayout:A}=M.current,{layout:R,panelDataArray:P}=w.current,T=P.map(re=>re.constraints),{panelSize:k,pivotIndices:U}=he(P,I,R);j(k!=null,`Panel size not found for panel "${I.id}"`);const le=Ie(P,I)===P.length-1?k-N:N-k,B=Te({delta:le,initialLayout:R,panelConstraints:T,pivotIndices:U,prevLayout:R,trigger:"imperative-api"});We(R,B)||(f(B),w.current.layout=B,A&&A(B),Se(P,B,E.current))},[]),ce=i.useCallback((I,N)=>{const{layout:A,panelDataArray:R}=w.current,{collapsedSize:P=0,collapsible:T}=N,{collapsedSize:k=0,collapsible:U,maxSize:ie=100,minSize:le=0}=I.constraints,{panelSize:B}=he(R,I,A);B!=null&&(T&&U&&ue(B,P)?ue(P,k)||$(I,k):B<le?$(I,le):B>ie&&$(I,ie))},[$]),te=i.useCallback((I,N)=>{const{direction:A}=M.current,{layout:R}=w.current;if(!v.current)return;const P=at(I,v.current);j(P,`Drag handle element not found for id "${I}"`);const T=Vn(A,N);y({dragHandleId:I,dragHandleRect:P.getBoundingClientRect(),initialCursorPosition:T,initialLayout:R})},[]),D=i.useCallback(()=>{y(null)},[]),V=i.useCallback(I=>{const{panelDataArray:N}=w.current,A=Ie(N,I);A>=0&&(N.splice(A,1),delete E.current[I.id],w.current.panelDataArrayChanged=!0,h())},[h]),X=i.useMemo(()=>({collapsePanel:_,direction:o,dragState:b,expandPanel:H,getPanelSize:z,getPanelStyle:K,groupId:m,isPanelCollapsed:F,isPanelExpanded:Y,reevaluatePanelConstraints:ce,registerPanel:O,registerResizeHandle:G,resizePanel:$,startDragging:te,stopDragging:D,unregisterPanel:V,panelGroupElement:v.current}),[_,b,o,H,z,K,m,F,Y,ce,O,G,$,te,D,V]),Z={display:"flex",flexDirection:o==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return i.createElement(ot.Provider,{value:X},i.createElement(p,{...d,children:t,className:n,id:s,ref:v,style:{...Z,...g},[W.group]:"",[W.groupDirection]:o,[W.groupId]:m}))}const Jn=i.forwardRef((e,t)=>i.createElement(Zn,{...e,forwardedRef:t}));Zn.displayName="PanelGroup";Jn.displayName="forwardRef(PanelGroup)";function Ie(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function he(e,t,n){const o=Ie(e,t),s=o===e.length-1?[o-1,o]:[o,o+1],l=n[o];return{...t.constraints,panelSize:l,pivotIndices:s}}function ys({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:o}){i.useEffect(()=>{if(e||n==null||o==null)return;const r=at(t,o);if(r==null)return;const s=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),n(l);break}case"F6":{l.preventDefault();const a=r.getAttribute(W.groupId);j(a,`No group element found for id "${a}"`);const u=ke(a,o),g=Un(a,t,o);j(g!==null,`No resize element found for id "${t}"`);const p=l.shiftKey?g>0?g-1:u.length-1:g+1<u.length?g+1:0;u[p].focus();break}}};return r.addEventListener("keydown",s),()=>{r.removeEventListener("keydown",s)}},[o,e,t,n])}function Qn({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:o,id:r,onBlur:s,onClick:l,onDragging:a,onFocus:u,onPointerDown:g,onPointerUp:p,style:d={},tabIndex:m=0,tagName:v="div",...b}){var y,x;const f=i.useRef(null),h=i.useRef({onClick:l,onDragging:a,onPointerDown:g,onPointerUp:p});i.useEffect(()=>{h.current.onClick=l,h.current.onDragging=a,h.current.onPointerDown=g,h.current.onPointerUp=p});const E=i.useContext(ot);if(E===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:C,groupId:S,registerResizeHandle:M,startDragging:w,stopDragging:_,panelGroupElement:H}=E,z=At(r),[K,F]=i.useState("inactive"),[Y,O]=i.useState(!1),[G,$]=i.useState(null),ce=i.useRef({state:K});ve(()=>{ce.current.state=K}),i.useEffect(()=>{if(n)$(null);else{const X=M(z);$(()=>X)}},[n,z,M]);const te=(y=o==null?void 0:o.coarse)!==null&&y!==void 0?y:15,D=(x=o==null?void 0:o.fine)!==null&&x!==void 0?x:5;i.useEffect(()=>{if(n||G==null)return;const X=f.current;j(X,"Element ref not attached");let Z=!1;return rs(z,X,C,{coarse:te,fine:D},(N,A,R)=>{if(!A){F("inactive");return}switch(N){case"down":{F("drag"),Z=!1,j(R,'Expected event to be defined for "down" action'),w(z,R);const{onDragging:P,onPointerDown:T}=h.current;P==null||P(!0),T==null||T();break}case"move":{const{state:P}=ce.current;Z=!0,P!=="drag"&&F("hover"),j(R,'Expected event to be defined for "move" action'),G(R);break}case"up":{F("hover"),_();const{onClick:P,onDragging:T,onPointerUp:k}=h.current;T==null||T(!1),k==null||k(),Z||P==null||P();break}}})},[te,C,n,D,M,z,G,w,_]),ys({disabled:n,handleId:z,resizeHandler:G,panelGroupElement:H});const V={touchAction:"none",userSelect:"none"};return i.createElement(v,{...b,children:e,className:t,id:r,onBlur:()=>{O(!1),s==null||s()},onFocus:()=>{O(!0),u==null||u()},ref:f,role:"separator",style:{...V,...d},tabIndex:m,[W.groupDirection]:C,[W.groupId]:S,[W.resizeHandle]:"",[W.resizeHandleActive]:K==="drag"?"pointer":Y?"keyboard":void 0,[W.resizeHandleEnabled]:!n,[W.resizeHandleId]:z,[W.resizeHandleState]:K})}Qn.displayName="PanelResizeHandle";const bs=e=>{if(!(e in Ye))throw new Error(`Level ${e} not found`);const t=Ye[e];Er.setState(()=>({gameObjects:new Map(t.modifiableGameObjects.map(o=>[o.id,new Map(o.connections.map(r=>[r.label,{handleId:wr(),access:r.access,value:0}]))]))})),t.initialState()};var Es=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ws=Es.reduce((e,t)=>{const n=Nt(`Primitive.${t}`),o=i.forwardRef((r,s)=>{const{asChild:l,...a}=r,u=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...a,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),vt="focusScope.autoFocusOnMount",yt="focusScope.autoFocusOnUnmount",an={bubbles:!1,cancelable:!0},Cs="FocusScope",eo=i.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...l}=e,[a,u]=i.useState(null),g=de(r),p=de(s),d=i.useRef(null),m=ee(t,y=>u(y)),v=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(o){let y=function(E){if(v.paused||!a)return;const C=E.target;a.contains(C)?d.current=C:fe(d.current,{select:!0})},x=function(E){if(v.paused||!a)return;const C=E.relatedTarget;C!==null&&(a.contains(C)||fe(d.current,{select:!0}))},f=function(E){if(document.activeElement===document.body)for(const S of E)S.removedNodes.length>0&&fe(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const h=new MutationObserver(f);return a&&h.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),h.disconnect()}}},[o,a,v.paused]),i.useEffect(()=>{if(a){cn.add(v);const y=document.activeElement;if(!a.contains(y)){const f=new CustomEvent(vt,an);a.addEventListener(vt,g),a.dispatchEvent(f),f.defaultPrevented||(Ss(Ns(to(a)),{select:!0}),document.activeElement===y&&fe(a))}return()=>{a.removeEventListener(vt,g),setTimeout(()=>{const f=new CustomEvent(yt,an);a.addEventListener(yt,p),a.dispatchEvent(f),f.defaultPrevented||fe(y??document.body,{select:!0}),a.removeEventListener(yt,p),cn.remove(v)},0)}}},[a,g,p,v]);const b=i.useCallback(y=>{if(!n&&!o||v.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,f=document.activeElement;if(x&&f){const h=y.currentTarget,[E,C]=Is(h);E&&C?!y.shiftKey&&f===C?(y.preventDefault(),n&&fe(E,{select:!0})):y.shiftKey&&f===E&&(y.preventDefault(),n&&fe(C,{select:!0})):f===h&&y.preventDefault()}},[n,o,v.paused]);return c.jsx(ws.div,{tabIndex:-1,...l,ref:m,onKeyDown:b})});eo.displayName=Cs;function Ss(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(fe(o,{select:t}),document.activeElement!==n)return}function Is(e){const t=to(e),n=ln(t,e),o=ln(t.reverse(),e);return[n,o]}function to(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ln(e,t){for(const n of e)if(!Ps(n,{upTo:t}))return n}function Ps(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ms(e){return e instanceof HTMLInputElement&&"select"in e}function fe(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ms(e)&&t&&e.select()}}var cn=Rs();function Rs(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=un(e,t),e.unshift(t)},remove(t){var n;e=un(e,t),(n=e[0])==null||n.resume()}}}function un(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function Ns(e){return e.filter(t=>t.tagName!=="A")}var Ds=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=Ds.reduce((e,t)=>{const n=Nt(`Primitive.${t}`),o=i.forwardRef((r,s)=>{const{asChild:l,...a}=r,u=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...a,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),it="Dialog",[no,el]=tt(it),[_s,ae]=no(it),oo=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:r,onOpenChange:s,modal:l=!0}=e,a=i.useRef(null),u=i.useRef(null),[g,p]=Dt({prop:o,defaultProp:r??!1,onChange:s,caller:it});return c.jsx(_s,{scope:t,triggerRef:a,contentRef:u,contentId:Me(),titleId:Me(),descriptionId:Me(),open:g,onOpenChange:p,onOpenToggle:i.useCallback(()=>p(d=>!d),[p]),modal:l,children:n})};oo.displayName=it;var ro="DialogTrigger",so=i.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,r=ae(ro,n),s=ee(t,r.triggerRef);return c.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Ft(r.open),...o,ref:s,onClick:L(e.onClick,r.onOpenToggle)})});so.displayName=ro;var Ot="DialogPortal",[Ts,ao]=no(Ot,{forceMount:void 0}),io=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:r}=e,s=ae(Ot,t);return c.jsx(Ts,{scope:t,forceMount:n,children:i.Children.map(o,l=>c.jsx(Ee,{present:n||s.open,children:c.jsx(Nr,{asChild:!0,container:r,children:l})}))})};io.displayName=Ot;var Je="DialogOverlay",lo=i.forwardRef((e,t)=>{const n=ao(Je,e.__scopeDialog),{forceMount:o=n.forceMount,...r}=e,s=ae(Je,e.__scopeDialog);return s.modal?c.jsx(Ee,{present:o||s.open,children:c.jsx(js,{...r,ref:t})}):null});lo.displayName=Je;var As=Nt("DialogOverlay.RemoveScroll"),js=i.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,r=ae(Je,n);return c.jsx(Mn,{as:As,allowPinchZoom:!0,shards:[r.contentRef],children:c.jsx(Ge.div,{"data-state":Ft(r.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),be="DialogContent",co=i.forwardRef((e,t)=>{const n=ao(be,e.__scopeDialog),{forceMount:o=n.forceMount,...r}=e,s=ae(be,e.__scopeDialog);return c.jsx(Ee,{present:o||s.open,children:s.modal?c.jsx(Ls,{...r,ref:t}):c.jsx(Os,{...r,ref:t})})});co.displayName=be;var Ls=i.forwardRef((e,t)=>{const n=ae(be,e.__scopeDialog),o=i.useRef(null),r=ee(t,n.contentRef,o);return i.useEffect(()=>{const s=o.current;if(s)return Rn(s)},[]),c.jsx(uo,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:L(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:L(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,a=l.button===0&&l.ctrlKey===!0;(l.button===2||a)&&s.preventDefault()}),onFocusOutside:L(e.onFocusOutside,s=>s.preventDefault())})}),Os=i.forwardRef((e,t)=>{const n=ae(be,e.__scopeDialog),o=i.useRef(!1),r=i.useRef(!1);return c.jsx(uo,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,a;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(o.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:s=>{var u,g;(u=e.onInteractOutside)==null||u.call(e,s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=s.target;((g=n.triggerRef.current)==null?void 0:g.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),uo=i.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:s,...l}=e,a=ae(be,n),u=i.useRef(null),g=ee(t,u);return Nn(),c.jsxs(c.Fragment,{children:[c.jsx(eo,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:s,children:c.jsx(Dr,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ft(a.open),...l,ref:g,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(zs,{titleId:a.titleId}),c.jsx($s,{contentRef:u,descriptionId:a.descriptionId})]})]})}),kt="DialogTitle",fo=i.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,r=ae(kt,n);return c.jsx(Ge.h2,{id:r.titleId,...o,ref:t})});fo.displayName=kt;var po="DialogDescription",ks=i.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,r=ae(po,n);return c.jsx(Ge.p,{id:r.descriptionId,...o,ref:t})});ks.displayName=po;var mo="DialogClose",zt=i.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,r=ae(mo,n);return c.jsx(Ge.button,{type:"button",...o,ref:t,onClick:L(e.onClick,()=>r.onOpenChange(!1))})});zt.displayName=mo;function Ft(e){return e?"open":"closed"}var go="DialogTitleWarning",[tl,ho]=dr(go,{contentName:be,titleName:kt,docsSlug:"dialog"}),zs=({titleId:e})=>{const t=ho(go),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Fs="DialogDescriptionWarning",$s=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ho(Fs).contentName}}.`;return i.useEffect(()=>{var s;const r=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null};const Gs=({title:e,trigger:t,defaultOpen:n,children:o})=>c.jsxs(oo,{defaultOpen:n,children:[c.jsx(so,{asChild:!0,children:t}),c.jsxs(io,{children:[c.jsx(lo,{className:"fixed inset-0 bg-slate-800/25"}),c.jsxs(co,{className:"fixed top-1/2 left-1/2 flex w-1/2 -translate-x-1/2 -translate-y-1/2 flex-col gap-6 rounded-lg border-2 border-blue-300 bg-slate-800/95 p-8 font-mono text-white",children:[c.jsx(fo,{className:"text-center text-4xl font-bold capitalize",children:e}),o,c.jsx(zt,{asChild:!0,children:c.jsx("button",{className:"absolute top-2.5 right-2.5 inline-flex size-[25px] cursor-pointer appearance-none items-center justify-center rounded-full bg-slate-700 focus:outline-1 focus:outline-blue-300","aria-label":"Close",children:c.jsx(fr,{})})})]})]})]}),xo=({defaultOpen:e=!1,skip:t=!1,trigger:n})=>{var y,x;const o=Le(f=>f.currentLevel),r=((y=Ye[o])==null?void 0:y.goals)||["No goals defined for this level yet."],s=((x=Ye[o])==null?void 0:x.description)||["No description available for this level."],l=i.useRef(0),[a,u]=i.useState(""),[g,p]=i.useState(s[l.current]),[d,m]=i.useState(t);i.useEffect(()=>{let f=0;const h=setInterval(()=>{f<=g.length?(u(g.slice(0,f)),f++):clearInterval(h)},10);return()=>{clearInterval(h),u("")}},[g]);const v=()=>{d||(l.current<s.length-1?(l.current++,p(s[l.current])):(l.current=0,m(!0),p("")))},b=()=>{d?(m(!1),l.current=s.length-1,p(s[l.current])):l.current>0&&(l.current--,p(s[l.current]))};return c.jsx(Gs,{title:o,trigger:n,defaultOpen:e,children:c.jsxs("div",{className:"flex flex-col gap-5",children:[c.jsxs("div",{className:"flex flex-1 flex-row",children:[c.jsx("div",{className:"my-auto w-1/3 pr-4",children:c.jsx("div",{style:{aspectRatio:"1 / 1",width:"100%",backgroundImage:"url('/game/sprites/raccoon_spritesheet.png')",backgroundPosition:"0 0",backgroundSize:"400% 400%",backgroundRepeat:"no-repeat",imageRendering:"pixelated"}})}),c.jsxs("div",{className:"relative my-auto h-36 w-full rounded-lg bg-slate-700 p-4 text-white shadow-lg",children:[c.jsx("div",{className:"absolute top-1/2 -left-2.5 h-0 w-0 -translate-y-1/2 border-t-10 border-r-10 border-b-10 border-t-transparent border-r-slate-700 border-b-transparent"}),c.jsx("p",{className:"h-full overflow-auto pr-2 text-lg italic [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-slate-500 [&::-webkit-scrollbar-track]:rounded-full [&::-webkit-scrollbar-track]:bg-slate-900",children:d?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"not-italic",children:"Goals:"}),r.map(f=>c.jsx("li",{className:"text-lg italic",children:f},f.slice(0,20)))]}):a})]})]}),c.jsxs("div",{className:"flex flex-row justify-end gap-5",children:[c.jsx("button",{onClick:b,className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Previous"}),d?c.jsx(zt,{asChild:!0,children:c.jsx("button",{className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Start"})}):c.jsx("button",{onClick:v,className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Next"})]})]})})},Xe=wn.forwardRef(({tooltip:e,className:t,children:n,side:o,...r},s)=>c.jsxs(_r,{children:[c.jsx(Tr,{asChild:!0,children:c.jsx("button",{ref:s,className:Cn("cursor-pointer rounded bg-slate-800 p-2 outline outline-slate-500 hover:bg-slate-900",t),...r,children:n})}),c.jsx(Ar,{side:o,children:c.jsx("p",{children:e})})]})),Hs=()=>{const e=Le(o=>o.isPaused),t=Le(o=>o.play),n=Le(o=>o.pause);return c.jsxs(nt,{position:"top-left",className:"flex flex-col items-center justify-center gap-2",children:[c.jsx(Xe,{tooltip:"Play/Pause",side:"right",onClick:()=>{e?t():n()},children:e?c.jsx(pr,{className:"text-white"}):c.jsx(mr,{className:"text-white"})}),c.jsx(Xe,{tooltip:"Reset Level",side:"right",children:c.jsx(gr,{className:"text-white"})}),c.jsx(xo,{skip:!0,trigger:c.jsx(Xe,{tooltip:"Level Info",side:"right",children:c.jsx(hr,{className:"text-white"})})})]})},vo=({x:e,y:t,onClose:n,position:o,parentLoopId:r,children:s})=>{const l=Object.values(jr).flat(),{addNodes:a,addEdges:u,screenToFlowPosition:g,getNodes:p}=$e(),d=i.useRef(null),[m,v]=i.useState(""),[b,y]=i.useState(0),[x,f]=i.useState(Zt.map(S=>({nodeType:S})));i.useEffect(()=>{var S;(S=d.current)==null||S.focus()},[]),i.useEffect(()=>{const S=Zt.filter(_=>_.toLowerCase().includes(m.toLowerCase())).map(_=>({nodeType:_}));if(m==="")return f(S);const M=l.filter(_=>_.toLowerCase().includes(m.toLowerCase())).map(_=>({nodeType:"MathFloat",computeType:_})),w=[...S,...M];f(w),y(0)},[m]);const h=(S,M)=>{const w=S==="ForLoop"?In(a,e,t,u,g,r):[E(S,M)];r&&Pn(p,u,w,r),n()},E=(S,M)=>{const w=me();return a({id:w,type:S,position:g({x:e,y:t}),data:{initialComputeType:M,parentLoopId:r}}),w},C=S=>{if(S.key==="ArrowDown")S.preventDefault(),y(M=>(M+1)%x.length);else if(S.key==="ArrowUp")S.preventDefault(),y(M=>(M-1+x.length)%x.length);else if(S.key==="Enter"){S.preventDefault();const M=x[b];M&&h(M.nodeType,M.computeType)}};return i.useEffect(()=>(window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)),[x,b]),c.jsxs(nt,{position:o,className:"flex w-65 flex-col gap-2 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:[c.jsx("div",{className:"shadow",children:c.jsx("input",{ref:d,type:"text",spellCheck:"false",placeholder:"Search",className:"w-full rounded bg-slate-900 p-2 text-sm text-white focus:border-gray-300 focus:ring-0 focus:outline-none",onChange:S=>v(S.target.value)})}),c.jsx("div",{className:"flex flex-col gap-1",children:x.map((S,M)=>c.jsx("button",{className:Cn("w-full rounded px-2 py-1 text-left text-sm text-white",b===M?"bg-slate-700":"hover:bg-slate-700"),onClick:()=>h(S.nodeType,S.computeType),children:S.computeType?c.jsxs("span",{children:[c.jsx("span",{className:"text-slate-400",children:S.nodeType}),c.jsx(xr,{className:"inline-block h-4 w-4 text-slate-400"}),c.jsx("span",{className:"",children:S.computeType})]}):c.jsx(c.Fragment,{children:S.nodeType})},`add_node_${S}_${M}`))}),m===""&&c.jsx(c.Fragment,{children:s})]})},Ks=({nodeId:e,nodeType:t,nodeLoopId:n,x:o,y:r,onClose:s})=>c.jsx("div",{style:{position:"absolute",top:r,left:o,zIndex:1e3},children:t==="ForStart"||t==="ForEnd"?c.jsxs(vo,{onClose:s,x:o,y:r,parentLoopId:n,children:[c.jsx("hr",{className:"mx-auto h-1 w-44 rounded-sm border-0 bg-slate-700"}),c.jsx(dn,{nodeId:e,onClose:s})]}):c.jsx("div",{className:"flex w-36 flex-col gap-1 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:c.jsx(dn,{nodeId:e,onClose:s})})}),dn=({nodeId:e,onClose:t})=>{const{getNode:n,getNodes:o,setNodes:r,addNodes:s,setEdges:l,addEdges:a}=$e(),u=i.useCallback(()=>{const p=n(e);if(!p)return;const d={x:p.position.x+50,y:p.position.y+50};if(p.data.loopStart||p.data.loopEnd)In(s,d.x,d.y,a);else{const m=me();s({...p,selected:!1,dragging:!1,id:m,position:d}),console.log(p.data.parentLoopId),p.data.parentLoopId&&Pn(o,a,[m],p.data.parentLoopId)}t()},[n,e,t,s,a,o]),g=i.useCallback(()=>{r(p=>p.filter(d=>d.id!==e)),l(p=>p.filter(d=>d.source!==e)),t()},[r,l,t,e]);return c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:u,children:"Duplicate"}),c.jsx("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:g,children:"Delete"})]})},Us=({x:e,y:t,onClose:n})=>c.jsx("div",{style:{position:"absolute",top:t,left:e,zIndex:1e3},children:c.jsx(vo,{onClose:n,x:e,y:t})});var Bs="DismissableLayer",It="dismissableLayer.update",Ws="dismissableLayer.pointerDownOutside",Vs="dismissableLayer.focusOutside",fn,yo=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bo=i.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:l,onDismiss:a,...u}=e,g=i.useContext(yo),[p,d]=i.useState(null),m=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=i.useState({}),b=ee(t,w=>d(w)),y=Array.from(g.layers),[x]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),f=y.indexOf(x),h=p?y.indexOf(p):-1,E=g.layersWithOutsidePointerEventsDisabled.size>0,C=h>=f,S=qs(w=>{const _=w.target,H=[...g.branches].some(z=>z.contains(_));!C||H||(r==null||r(w),l==null||l(w),w.defaultPrevented||a==null||a())},m),M=Zs(w=>{const _=w.target;[...g.branches].some(z=>z.contains(_))||(s==null||s(w),l==null||l(w),w.defaultPrevented||a==null||a())},m);return Lr(w=>{h===g.layers.size-1&&(o==null||o(w),!w.defaultPrevented&&a&&(w.preventDefault(),a()))},m),i.useEffect(()=>{if(p)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(fn=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(p)),g.layers.add(p),pn(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=fn)}},[p,m,n,g]),i.useEffect(()=>()=>{p&&(g.layers.delete(p),g.layersWithOutsidePointerEventsDisabled.delete(p),pn())},[p,g]),i.useEffect(()=>{const w=()=>v({});return document.addEventListener(It,w),()=>document.removeEventListener(It,w)},[]),c.jsx(oe.div,{...u,ref:b,style:{pointerEvents:E?C?"auto":"none":void 0,...e.style},onFocusCapture:L(e.onFocusCapture,M.onFocusCapture),onBlurCapture:L(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:L(e.onPointerDownCapture,S.onPointerDownCapture)})});bo.displayName=Bs;var Xs="DismissableLayerBranch",Ys=i.forwardRef((e,t)=>{const n=i.useContext(yo),o=i.useRef(null),r=ee(t,o);return i.useEffect(()=>{const s=o.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),c.jsx(oe.div,{...e,ref:r})});Ys.displayName=Xs;function qs(e,t=globalThis==null?void 0:globalThis.document){const n=de(e),o=i.useRef(!1),r=i.useRef(()=>{});return i.useEffect(()=>{const s=a=>{if(a.target&&!o.current){let u=function(){Eo(Ws,n,g,{discrete:!0})};const g={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=u,t.addEventListener("click",r.current,{once:!0})):u()}else t.removeEventListener("click",r.current);o.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function Zs(e,t=globalThis==null?void 0:globalThis.document){const n=de(e),o=i.useRef(!1);return i.useEffect(()=>{const r=s=>{s.target&&!o.current&&Eo(Vs,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function pn(){const e=new CustomEvent(It);document.dispatchEvent(e)}function Eo(e,t,n,{discrete:o}){const r=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),o?Sn(r,s):r.dispatchEvent(s)}var bt="focusScope.autoFocusOnMount",Et="focusScope.autoFocusOnUnmount",mn={bubbles:!1,cancelable:!0},Js="FocusScope",wo=i.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...l}=e,[a,u]=i.useState(null),g=de(r),p=de(s),d=i.useRef(null),m=ee(t,y=>u(y)),v=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(o){let y=function(E){if(v.paused||!a)return;const C=E.target;a.contains(C)?d.current=C:pe(d.current,{select:!0})},x=function(E){if(v.paused||!a)return;const C=E.relatedTarget;C!==null&&(a.contains(C)||pe(d.current,{select:!0}))},f=function(E){if(document.activeElement===document.body)for(const S of E)S.removedNodes.length>0&&pe(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const h=new MutationObserver(f);return a&&h.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),h.disconnect()}}},[o,a,v.paused]),i.useEffect(()=>{if(a){hn.add(v);const y=document.activeElement;if(!a.contains(y)){const f=new CustomEvent(bt,mn);a.addEventListener(bt,g),a.dispatchEvent(f),f.defaultPrevented||(Qs(ra(Co(a)),{select:!0}),document.activeElement===y&&pe(a))}return()=>{a.removeEventListener(bt,g),setTimeout(()=>{const f=new CustomEvent(Et,mn);a.addEventListener(Et,p),a.dispatchEvent(f),f.defaultPrevented||pe(y??document.body,{select:!0}),a.removeEventListener(Et,p),hn.remove(v)},0)}}},[a,g,p,v]);const b=i.useCallback(y=>{if(!n&&!o||v.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,f=document.activeElement;if(x&&f){const h=y.currentTarget,[E,C]=ea(h);E&&C?!y.shiftKey&&f===C?(y.preventDefault(),n&&pe(E,{select:!0})):y.shiftKey&&f===E&&(y.preventDefault(),n&&pe(C,{select:!0})):f===h&&y.preventDefault()}},[n,o,v.paused]);return c.jsx(oe.div,{tabIndex:-1,...l,ref:m,onKeyDown:b})});wo.displayName=Js;function Qs(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(pe(o,{select:t}),document.activeElement!==n)return}function ea(e){const t=Co(e),n=gn(t,e),o=gn(t.reverse(),e);return[n,o]}function Co(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function gn(e,t){for(const n of e)if(!ta(n,{upTo:t}))return n}function ta(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function na(e){return e instanceof HTMLInputElement&&"select"in e}function pe(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&na(e)&&t&&e.select()}}var hn=oa();function oa(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=xn(e,t),e.unshift(t)},remove(t){var n;e=xn(e,t),(n=e[0])==null||n.resume()}}}function xn(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function ra(e){return e.filter(t=>t.tagName!=="A")}var sa="Portal",So=i.forwardRef((e,t)=>{var a;const{container:n,...o}=e,[r,s]=i.useState(!1);vr(()=>s(!0),[]);const l=n||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return l?Wr.createPortal(c.jsx(oe.div,{...o,ref:t}),l):null});So.displayName=sa;var wt="rovingFocusGroup.onEntryFocus",aa={bubbles:!1,cancelable:!0},He="RovingFocusGroup",[Pt,Io,ia]=Dn(He),[la,Po]=tt(He,[ia]),[ca,ua]=la(He),Mo=i.forwardRef((e,t)=>c.jsx(Pt.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Pt.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(da,{...e,ref:t})})}));Mo.displayName=He;var da=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:r=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:g,preventScrollOnEntryFocus:p=!1,...d}=e,m=i.useRef(null),v=ee(t,m),b=_n(s),[y,x]=Dt({prop:l,defaultProp:a??null,onChange:u,caller:He}),[f,h]=i.useState(!1),E=de(g),C=Io(n),S=i.useRef(!1),[M,w]=i.useState(0);return i.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(wt,E),()=>_.removeEventListener(wt,E)},[E]),c.jsx(ca,{scope:n,orientation:o,dir:b,loop:r,currentTabStopId:y,onItemFocus:i.useCallback(_=>x(_),[x]),onItemShiftTab:i.useCallback(()=>h(!0),[]),onFocusableItemAdd:i.useCallback(()=>w(_=>_+1),[]),onFocusableItemRemove:i.useCallback(()=>w(_=>_-1),[]),children:c.jsx(oe.div,{tabIndex:f||M===0?-1:0,"data-orientation":o,...d,ref:v,style:{outline:"none",...e.style},onMouseDown:L(e.onMouseDown,()=>{S.current=!0}),onFocus:L(e.onFocus,_=>{const H=!S.current;if(_.target===_.currentTarget&&H&&!f){const z=new CustomEvent(wt,aa);if(_.currentTarget.dispatchEvent(z),!z.defaultPrevented){const K=C().filter($=>$.focusable),F=K.find($=>$.active),Y=K.find($=>$.id===y),G=[F,Y,...K].filter(Boolean).map($=>$.ref.current);Do(G,p)}}S.current=!1}),onBlur:L(e.onBlur,()=>h(!1))})})}),Ro="RovingFocusGroupItem",No=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:r=!1,tabStopId:s,children:l,...a}=e,u=Me(),g=s||u,p=ua(Ro,n),d=p.currentTabStopId===g,m=Io(n),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:y}=p;return i.useEffect(()=>{if(o)return v(),()=>b()},[o,v,b]),c.jsx(Pt.ItemSlot,{scope:n,id:g,focusable:o,active:r,children:c.jsx(oe.span,{tabIndex:d?0:-1,"data-orientation":p.orientation,...a,ref:t,onMouseDown:L(e.onMouseDown,x=>{o?p.onItemFocus(g):x.preventDefault()}),onFocus:L(e.onFocus,()=>p.onItemFocus(g)),onKeyDown:L(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){p.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const f=ma(x,p.orientation,p.dir);if(f!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let E=m().filter(C=>C.focusable).map(C=>C.ref.current);if(f==="last")E.reverse();else if(f==="prev"||f==="next"){f==="prev"&&E.reverse();const C=E.indexOf(x.currentTarget);E=p.loop?ga(E,C+1):E.slice(C+1)}setTimeout(()=>Do(E))}}),children:typeof l=="function"?l({isCurrentTabStop:d,hasTabStop:y!=null}):l})})});No.displayName=Ro;var fa={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pa(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ma(e,t,n){const o=pa(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return fa[o]}function Do(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function ga(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var ha=Mo,xa=No;function va(e){const t=ya(e),n=i.forwardRef((o,r)=>{const{children:s,...l}=o,a=i.Children.toArray(s),u=a.find(Ea);if(u){const g=u.props.children,p=a.map(d=>d===u?i.Children.count(g)>1?i.Children.only(null):i.isValidElement(g)?g.props.children:null:d);return c.jsx(t,{...l,ref:r,children:i.isValidElement(g)?i.cloneElement(g,void 0,p):null})}return c.jsx(t,{...l,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}function ya(e){const t=i.forwardRef((n,o)=>{const{children:r,...s}=n;if(i.isValidElement(r)){const l=Ca(r),a=wa(s,r.props);return r.type!==i.Fragment&&(a.ref=o?_t(o,l):l),i.cloneElement(r,a)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ba=Symbol("radix.slottable");function Ea(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ba}function wa(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{s(...a),r(...a)}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function Ca(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Mt=["Enter"," "],Sa=["ArrowDown","PageUp","Home"],_o=["ArrowUp","PageDown","End"],Ia=[...Sa,..._o],Pa={ltr:[...Mt,"ArrowRight"],rtl:[...Mt,"ArrowLeft"]},Ma={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ke="Menu",[ze,Ra,Na]=Dn(Ke),[we,To]=tt(Ke,[Na,Tn,Po]),lt=Tn(),Ao=Po(),[Da,Ce]=we(Ke),[_a,Ue]=we(Ke),jo=e=>{const{__scopeMenu:t,open:n=!1,children:o,dir:r,onOpenChange:s,modal:l=!0}=e,a=lt(t),[u,g]=i.useState(null),p=i.useRef(!1),d=de(s),m=_n(r);return i.useEffect(()=>{const v=()=>{p.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>p.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),c.jsx(Or,{...a,children:c.jsx(Da,{scope:t,open:n,onOpenChange:d,content:u,onContentChange:g,children:c.jsx(_a,{scope:t,onClose:i.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:p,dir:m,modal:l,children:o})})})};jo.displayName=Ke;var Ta="MenuAnchor",$t=i.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,r=lt(n);return c.jsx(kr,{...r,...o,ref:t})});$t.displayName=Ta;var Gt="MenuPortal",[Aa,Lo]=we(Gt,{forceMount:void 0}),Oo=e=>{const{__scopeMenu:t,forceMount:n,children:o,container:r}=e,s=Ce(Gt,t);return c.jsx(Aa,{scope:t,forceMount:n,children:c.jsx(Ee,{present:n||s.open,children:c.jsx(So,{asChild:!0,container:r,children:o})})})};Oo.displayName=Gt;var ne="MenuContent",[ja,Ht]=we(ne),ko=i.forwardRef((e,t)=>{const n=Lo(ne,e.__scopeMenu),{forceMount:o=n.forceMount,...r}=e,s=Ce(ne,e.__scopeMenu),l=Ue(ne,e.__scopeMenu);return c.jsx(ze.Provider,{scope:e.__scopeMenu,children:c.jsx(Ee,{present:o||s.open,children:c.jsx(ze.Slot,{scope:e.__scopeMenu,children:l.modal?c.jsx(La,{...r,ref:t}):c.jsx(Oa,{...r,ref:t})})})})}),La=i.forwardRef((e,t)=>{const n=Ce(ne,e.__scopeMenu),o=i.useRef(null),r=ee(t,o);return i.useEffect(()=>{const s=o.current;if(s)return Rn(s)},[]),c.jsx(Kt,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:L(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Oa=i.forwardRef((e,t)=>{const n=Ce(ne,e.__scopeMenu);return c.jsx(Kt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ka=va("MenuContent.ScrollLock"),Kt=i.forwardRef((e,t)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:a,onEntryFocus:u,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:d,onInteractOutside:m,onDismiss:v,disableOutsideScroll:b,...y}=e,x=Ce(ne,n),f=Ue(ne,n),h=lt(n),E=Ao(n),C=Ra(n),[S,M]=i.useState(null),w=i.useRef(null),_=ee(t,w,x.onContentChange),H=i.useRef(0),z=i.useRef(""),K=i.useRef(0),F=i.useRef(null),Y=i.useRef("right"),O=i.useRef(0),G=b?Mn:i.Fragment,$=b?{as:ka,allowPinchZoom:!0}:void 0,ce=D=>{var P,T;const V=z.current+D,X=C().filter(k=>!k.disabled),Z=document.activeElement,I=(P=X.find(k=>k.ref.current===Z))==null?void 0:P.textValue,N=X.map(k=>k.textValue),A=Ya(N,V,I),R=(T=X.find(k=>k.textValue===A))==null?void 0:T.ref.current;(function k(U){z.current=U,window.clearTimeout(H.current),U!==""&&(H.current=window.setTimeout(()=>k(""),1e3))})(V),R&&setTimeout(()=>R.focus())};i.useEffect(()=>()=>window.clearTimeout(H.current),[]),Nn();const te=i.useCallback(D=>{var X,Z;return Y.current===((X=F.current)==null?void 0:X.side)&&Za(D,(Z=F.current)==null?void 0:Z.area)},[]);return c.jsx(ja,{scope:n,searchRef:z,onItemEnter:i.useCallback(D=>{te(D)&&D.preventDefault()},[te]),onItemLeave:i.useCallback(D=>{var V;te(D)||((V=w.current)==null||V.focus(),M(null))},[te]),onTriggerLeave:i.useCallback(D=>{te(D)&&D.preventDefault()},[te]),pointerGraceTimerRef:K,onPointerGraceIntentChange:i.useCallback(D=>{F.current=D},[]),children:c.jsx(G,{...$,children:c.jsx(wo,{asChild:!0,trapped:r,onMountAutoFocus:L(s,D=>{var V;D.preventDefault(),(V=w.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:c.jsx(bo,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:d,onInteractOutside:m,onDismiss:v,children:c.jsx(ha,{asChild:!0,...E,dir:f.dir,orientation:"vertical",loop:o,currentTabStopId:S,onCurrentTabStopIdChange:M,onEntryFocus:L(u,D=>{f.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(zr,{role:"menu","aria-orientation":"vertical","data-state":Qo(x.open),"data-radix-menu-content":"",dir:f.dir,...h,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:L(y.onKeyDown,D=>{const X=D.target.closest("[data-radix-menu-content]")===D.currentTarget,Z=D.ctrlKey||D.altKey||D.metaKey,I=D.key.length===1;X&&(D.key==="Tab"&&D.preventDefault(),!Z&&I&&ce(D.key));const N=w.current;if(D.target!==N||!Ia.includes(D.key))return;D.preventDefault();const R=C().filter(P=>!P.disabled).map(P=>P.ref.current);_o.includes(D.key)&&R.reverse(),Va(R)}),onBlur:L(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(H.current),z.current="")}),onPointerMove:L(e.onPointerMove,Fe(D=>{const V=D.target,X=O.current!==D.clientX;if(D.currentTarget.contains(V)&&X){const Z=D.clientX>O.current?"right":"left";Y.current=Z,O.current=D.clientX}}))})})})})})})});ko.displayName=ne;var za="MenuGroup",Ut=i.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return c.jsx(oe.div,{role:"group",...o,ref:t})});Ut.displayName=za;var Fa="MenuLabel",zo=i.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return c.jsx(oe.div,{...o,ref:t})});zo.displayName=Fa;var Qe="MenuItem",vn="menu.itemSelect",ct=i.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:o,...r}=e,s=i.useRef(null),l=Ue(Qe,e.__scopeMenu),a=Ht(Qe,e.__scopeMenu),u=ee(t,s),g=i.useRef(!1),p=()=>{const d=s.current;if(!n&&d){const m=new CustomEvent(vn,{bubbles:!0,cancelable:!0});d.addEventListener(vn,v=>o==null?void 0:o(v),{once:!0}),Sn(d,m),m.defaultPrevented?g.current=!1:l.onClose()}};return c.jsx(Fo,{...r,ref:u,disabled:n,onClick:L(e.onClick,p),onPointerDown:d=>{var m;(m=e.onPointerDown)==null||m.call(e,d),g.current=!0},onPointerUp:L(e.onPointerUp,d=>{var m;g.current||(m=d.currentTarget)==null||m.click()}),onKeyDown:L(e.onKeyDown,d=>{const m=a.searchRef.current!=="";n||m&&d.key===" "||Mt.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});ct.displayName=Qe;var Fo=i.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:o=!1,textValue:r,...s}=e,l=Ht(Qe,n),a=Ao(n),u=i.useRef(null),g=ee(t,u),[p,d]=i.useState(!1),[m,v]=i.useState("");return i.useEffect(()=>{const b=u.current;b&&v((b.textContent??"").trim())},[s.children]),c.jsx(ze.ItemSlot,{scope:n,disabled:o,textValue:r??m,children:c.jsx(xa,{asChild:!0,...a,focusable:!o,children:c.jsx(oe.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...s,ref:g,onPointerMove:L(e.onPointerMove,Fe(b=>{o?l.onItemLeave(b):(l.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:L(e.onPointerLeave,Fe(b=>l.onItemLeave(b))),onFocus:L(e.onFocus,()=>d(!0)),onBlur:L(e.onBlur,()=>d(!1))})})})}),$a="MenuCheckboxItem",$o=i.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:o,...r}=e;return c.jsx(Bo,{scope:e.__scopeMenu,checked:n,children:c.jsx(ct,{role:"menuitemcheckbox","aria-checked":et(n)?"mixed":n,...r,ref:t,"data-state":Wt(n),onSelect:L(r.onSelect,()=>o==null?void 0:o(et(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$o.displayName=$a;var Go="MenuRadioGroup",[Ga,Ha]=we(Go,{value:void 0,onValueChange:()=>{}}),Ho=i.forwardRef((e,t)=>{const{value:n,onValueChange:o,...r}=e,s=de(o);return c.jsx(Ga,{scope:e.__scopeMenu,value:n,onValueChange:s,children:c.jsx(Ut,{...r,ref:t})})});Ho.displayName=Go;var Ko="MenuRadioItem",Uo=i.forwardRef((e,t)=>{const{value:n,...o}=e,r=Ha(Ko,e.__scopeMenu),s=n===r.value;return c.jsx(Bo,{scope:e.__scopeMenu,checked:s,children:c.jsx(ct,{role:"menuitemradio","aria-checked":s,...o,ref:t,"data-state":Wt(s),onSelect:L(o.onSelect,()=>{var l;return(l=r.onValueChange)==null?void 0:l.call(r,n)},{checkForDefaultPrevented:!1})})})});Uo.displayName=Ko;var Bt="MenuItemIndicator",[Bo,Ka]=we(Bt,{checked:!1}),Wo=i.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:o,...r}=e,s=Ka(Bt,n);return c.jsx(Ee,{present:o||et(s.checked)||s.checked===!0,children:c.jsx(oe.span,{...r,ref:t,"data-state":Wt(s.checked)})})});Wo.displayName=Bt;var Ua="MenuSeparator",Vo=i.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return c.jsx(oe.div,{role:"separator","aria-orientation":"horizontal",...o,ref:t})});Vo.displayName=Ua;var Ba="MenuArrow",Xo=i.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,r=lt(n);return c.jsx(Fr,{...r,...o,ref:t})});Xo.displayName=Ba;var Wa="MenuSub",[nl,Yo]=we(Wa),je="MenuSubTrigger",qo=i.forwardRef((e,t)=>{const n=Ce(je,e.__scopeMenu),o=Ue(je,e.__scopeMenu),r=Yo(je,e.__scopeMenu),s=Ht(je,e.__scopeMenu),l=i.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:u}=s,g={__scopeMenu:e.__scopeMenu},p=i.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return i.useEffect(()=>p,[p]),i.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),u(null)}},[a,u]),c.jsx($t,{asChild:!0,...g,children:c.jsx(Fo,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":Qo(n.open),...e,ref:_t(t,r.onTriggerChange),onClick:d=>{var m;(m=e.onClick)==null||m.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:L(e.onPointerMove,Fe(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:L(e.onPointerLeave,Fe(d=>{var v,b;p();const m=(v=n.content)==null?void 0:v.getBoundingClientRect();if(m){const y=(b=n.content)==null?void 0:b.dataset.side,x=y==="right",f=x?-5:5,h=m[x?"left":"right"],E=m[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+f,y:d.clientY},{x:h,y:m.top},{x:E,y:m.top},{x:E,y:m.bottom},{x:h,y:m.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:L(e.onKeyDown,d=>{var v;const m=s.searchRef.current!=="";e.disabled||m&&d.key===" "||Pa[o.dir].includes(d.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),d.preventDefault())})})})});qo.displayName=je;var Zo="MenuSubContent",Jo=i.forwardRef((e,t)=>{const n=Lo(ne,e.__scopeMenu),{forceMount:o=n.forceMount,...r}=e,s=Ce(ne,e.__scopeMenu),l=Ue(ne,e.__scopeMenu),a=Yo(Zo,e.__scopeMenu),u=i.useRef(null),g=ee(t,u);return c.jsx(ze.Provider,{scope:e.__scopeMenu,children:c.jsx(Ee,{present:o||s.open,children:c.jsx(ze.Slot,{scope:e.__scopeMenu,children:c.jsx(Kt,{id:a.contentId,"aria-labelledby":a.triggerId,...r,ref:g,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var d;l.isUsingKeyboardRef.current&&((d=u.current)==null||d.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:L(e.onFocusOutside,p=>{p.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:L(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:L(e.onKeyDown,p=>{var v;const d=p.currentTarget.contains(p.target),m=Ma[l.dir].includes(p.key);d&&m&&(s.onOpenChange(!1),(v=a.trigger)==null||v.focus(),p.preventDefault())})})})})})});Jo.displayName=Zo;function Qo(e){return e?"open":"closed"}function et(e){return e==="indeterminate"}function Wt(e){return et(e)?"indeterminate":e?"checked":"unchecked"}function Va(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Xa(e,t){return e.map((n,o)=>e[(t+o)%e.length])}function Ya(e,t,n){const r=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=Xa(e,Math.max(s,0));r.length===1&&(l=l.filter(g=>g!==n));const u=l.find(g=>g.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function qa(e,t){const{x:n,y:o}=e;let r=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const a=t[s],u=t[l],g=a.x,p=a.y,d=u.x,m=u.y;p>o!=m>o&&n<(d-g)*(o-p)/(m-p)+g&&(r=!r)}return r}function Za(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return qa(n,t)}function Fe(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ja=jo,Qa=$t,ei=Oo,ti=ko,ni=Ut,oi=zo,ri=ct,si=$o,ai=Ho,ii=Uo,li=Wo,ci=Vo,ui=Xo,di=qo,fi=Jo,ut="DropdownMenu",[pi,ol]=tt(ut,[To]),q=To(),[mi,er]=pi(ut),tr=e=>{const{__scopeDropdownMenu:t,children:n,dir:o,open:r,defaultOpen:s,onOpenChange:l,modal:a=!0}=e,u=q(t),g=i.useRef(null),[p,d]=Dt({prop:r,defaultProp:s??!1,onChange:l,caller:ut});return c.jsx(mi,{scope:t,triggerId:Me(),triggerRef:g,contentId:Me(),open:p,onOpenChange:d,onOpenToggle:i.useCallback(()=>d(m=>!m),[d]),modal:a,children:c.jsx(Ja,{...u,open:p,onOpenChange:d,dir:o,modal:a,children:n})})};tr.displayName=ut;var nr="DropdownMenuTrigger",or=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...r}=e,s=er(nr,n),l=q(n);return c.jsx(Qa,{asChild:!0,...l,children:c.jsx(oe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...r,ref:_t(t,s.triggerRef),onPointerDown:L(e.onPointerDown,a=>{!o&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:L(e.onKeyDown,a=>{o||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});or.displayName=nr;var gi="DropdownMenuPortal",rr=e=>{const{__scopeDropdownMenu:t,...n}=e,o=q(t);return c.jsx(ei,{...o,...n})};rr.displayName=gi;var sr="DropdownMenuContent",ar=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=er(sr,n),s=q(n),l=i.useRef(!1);return c.jsx(ti,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...o,ref:t,onCloseAutoFocus:L(e.onCloseAutoFocus,a=>{var u;l.current||(u=r.triggerRef.current)==null||u.focus(),l.current=!1,a.preventDefault()}),onInteractOutside:L(e.onInteractOutside,a=>{const u=a.detail.originalEvent,g=u.button===0&&u.ctrlKey===!0,p=u.button===2||g;(!r.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ar.displayName=sr;var hi="DropdownMenuGroup",xi=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=q(n);return c.jsx(ni,{...r,...o,ref:t})});xi.displayName=hi;var vi="DropdownMenuLabel",yi=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=q(n);return c.jsx(oi,{...r,...o,ref:t})});yi.displayName=vi;var bi="DropdownMenuItem",Rt=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=q(n);return c.jsx(ri,{...r,...o,ref:t})});Rt.displayName=bi;var Ei="DropdownMenuCheckboxItem",wi=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=q(n);return c.jsx(si,{...r,...o,ref:t})});wi.displayName=Ei;var Ci="DropdownMenuRadioGroup",Si=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=q(n);return c.jsx(ai,{...r,...o,ref:t})});Si.displayName=Ci;var Ii="DropdownMenuRadioItem",Pi=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=q(n);return c.jsx(ii,{...r,...o,ref:t})});Pi.displayName=Ii;var Mi="DropdownMenuItemIndicator",Ri=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=q(n);return c.jsx(li,{...r,...o,ref:t})});Ri.displayName=Mi;var Ni="DropdownMenuSeparator",Di=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=q(n);return c.jsx(ci,{...r,...o,ref:t})});Di.displayName=Ni;var _i="DropdownMenuArrow",Ti=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=q(n);return c.jsx(ui,{...r,...o,ref:t})});Ti.displayName=_i;var Ai="DropdownMenuSubTrigger",ji=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=q(n);return c.jsx(di,{...r,...o,ref:t})});ji.displayName=Ai;var Li="DropdownMenuSubContent",Oi=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=q(n);return c.jsx(fi,{...r,...o,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Oi.displayName=Li;const ki=({rfInstance:e})=>{const{addNodes:t,addEdges:n,getNodes:o,getEdges:r,setViewport:s,setEdges:l,setNodes:a}=$e();return _e(u=>u.debugPrint),c.jsxs(nt,{position:"top-right",className:"flex flex-col items-end justify-center gap-2",children:[c.jsxs(tr,{children:[c.jsx(or,{asChild:!0,children:c.jsx(Xe,{side:"left",tooltip:"Add Node","aria-label":"Add Node",children:c.jsx(yr,{className:"text-white"})})}),c.jsx(rr,{children:c.jsxs(ar,{className:"mt-2 flex w-65 flex-col items-center gap-1 rounded bg-slate-800 p-2 font-mono shadow-lg !outline-1 !outline-slate-700",align:"end",children:[Object.keys(An).map(u=>c.jsx(Rt,{asChild:!0,children:c.jsx("button",{className:"w-full cursor-pointer rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:()=>{t({id:me(),type:u,position:{x:0,y:0},data:{}})},children:u})},u)),c.jsx(Rt,{asChild:!0,children:c.jsx("button",{className:"w-full cursor-pointer rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:()=>{const u=me(),g=me(),p=me(),d=me();t([{id:u,type:"ForStart",position:{x:0,y:0},data:{loopId:p}},{id:g,type:"ForEnd",position:{x:300,y:0},data:{loopId:p}}]),n({id:d,type:"straight",source:u,target:g,sourceHandle:Yt,targetHandle:Yt,animated:!0,deletable:!1,selectable:!1,style:{strokeWidth:2,stroke:"var(--color-blue-300)"}})},children:"For Loop"})})]})})]}),!1]})},zi=({nodeIds:e,x:t,y:n,onClose:o})=>{const{getNodes:r,getEdges:s,addNodes:l,addEdges:a,setNodes:u,setEdges:g}=$e(),p=i.useCallback(()=>{const m=r().filter(f=>e.includes(f.id)),v=s(),b=new Map,y=m.map(f=>{const h=me();return b.set(f.id,h),{...f,id:h,position:{x:f.position.x+50,y:f.position.y+50},selected:!1,dragging:!1}}),x=v.filter(f=>b.has(f.source)&&b.has(f.target)).map(f=>{const h=b.get(f.source),E=b.get(f.target),C=Cr({source:h,sourceHandle:f.sourceHandle,target:E,targetHandle:f.targetHandle});return{...f,id:C,source:h,target:E,selected:!1}});l(y),a(x),u(f=>f.map(h=>({...h,selected:y.some(E=>E.id===h.id)}))),o()},[e,r,s,l,a,u,o]),d=i.useCallback(()=>{u(m=>m.filter(v=>!e.includes(v.id))),g(m=>m.filter(v=>!e.includes(v.source)&&!e.includes(v.target))),o()},[e,u,g,o]);return c.jsx("div",{style:{position:"absolute",top:n,left:t,zIndex:1e3},children:c.jsxs(nt,{className:"flex w-44 flex-col gap-1 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:[c.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:p,children:["Duplicate ",e.length," nodes"]}),c.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:d,children:["Delete ",e.length," nodes"]})]})})};function Fi(){const[e,t]=i.useState(null),[n,o]=i.useState(null),[r,s]=i.useState(null),l=i.useCallback(p=>{p.preventDefault();const d=ft(p);t({x:d.x,y:d.y})},[t]),a=i.useCallback((p,d)=>{p.preventDefault();const m=ft(p);o({nodeId:d.id,nodeType:d.type,nodeLoopId:d.data.loopId,x:m.x,y:m.y})},[o]),u=i.useCallback((p,d)=>{if(p.preventDefault(),d.length===0)return;const m=ft(p);s({nodeIds:d.map(v=>v.id),x:m.x,y:m.y})},[s]),g=i.useCallback(()=>{t(null),o(null),s(null)},[t,o,s]);return{paneContextMenu:e,nodeContextMenu:n,selectionContextMenu:r,setPaneContextMenu:t,setNodeContextMenu:o,setSelectionContextMenu:s,handlePaneContextMenu:l,handleNodeContextMenu:a,handleSelectionContextMenu:u,onPaneClick:g}}const yn=e=>Symbol.iterator in e,bn=e=>"entries"in e,En=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),o=t instanceof Map?t:new Map(t.entries());if(n.size!==o.size)return!1;for(const[r,s]of n)if(!Object.is(s,o.get(r)))return!1;return!0},$i=(e,t)=>{const n=e[Symbol.iterator](),o=t[Symbol.iterator]();let r=n.next(),s=o.next();for(;!r.done&&!s.done;){if(!Object.is(r.value,s.value))return!1;r=n.next(),s=o.next()}return!!r.done&&!!s.done};function Gi(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:!yn(e)||!yn(t)?En({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)}):bn(e)&&bn(t)?En(e,t):$i(e,t)}function Hi(e){const t=wn.useRef(void 0);return n=>{const o=e(n);return Gi(t.current,o)?t.current:t.current=o}}const Ki=e=>({nodes:e.nodes,setNodes:e.setNodes,highlightDuplicateNodes:e.highlightDuplicateNodes});function Ui(){const{getIntersectingNodes:e,getNode:t,getNodes:n}=$e(),{nodes:o,setNodes:r,highlightDuplicateNodes:s}=Sr(Hi(Ki)),[l,a]=i.useState(Ir),u=_e(x=>x.replaceNode),g=_e(x=>x.removeNode),p=_e(x=>x.addEdge),d=_e(x=>x.removeEdge),m=i.useCallback(x=>{let f=!1;x.forEach(h=>{switch(h.type){case"add":u(h.item),f=h.item.type==="ExportToGameobject";break;case"remove":{const E=t(h.id);if(E!=null&&E.data.loopStart||E!=null&&E.data.loopEnd){const C=n().filter(S=>S.id!==h.id&&S.data.loopId===E.data.loopId)[0];r(o.filter(S=>S.data.loopId!==(E==null?void 0:E.data.loopId)).map(S=>({...S,data:{...S.data,parentLoopId:S.data.parentLoopId===E.data.loopId?void 0:S.data.parentLoopId}}))),a(S=>S.filter(M=>M.target===C.id||M.source===C.id?(d(M.id),!1):!0)),g(C.id)}g(h.id),f=!0;break}case"replace":u(h.item),f=h.item.type==="ExportToGameobject";break}}),r(Pr(x,o)),f&&s()},[r,o,u,s,t,g,n,d]),v=i.useCallback(x=>{x.forEach(f=>{switch(f.type){case"remove":d(f.id);break;case"add":p(f.item);break}}),a(f=>$r(x,f))},[a,p,d]),b=i.useCallback(x=>{const f=t(x.source),h=t(x.target);!!(f!=null&&f.data.loopStart&&f.data.loopId===(h==null?void 0:h.data.loopId)||f!=null&&f.data.loopStart&&(h==null?void 0:h.data.parentLoopId)===f.data.loopId||f!=null&&f.data.loopEnd&&f.data.parentLoopId===(h==null?void 0:h.data.parentLoopId)||h!=null&&h.data.loopEnd&&(f==null?void 0:f.data.parentLoopId)===h.data.loopId||!(f!=null&&f.data.loopStart)&&!(h!=null&&h.data.loopEnd)&&(f==null?void 0:f.data.parentLoopId)===(h==null?void 0:h.data.parentLoopId))&&(p(x),a(C=>Gr(x,C)))},[a,t,p]);return{nodes:o,edges:l,onNodesChange:m,onEdgesChange:v,onConnect:b,onNodeDragStop:(x,f)=>{var Y;if(f.type==="Group")return;const h=(Y=e(f))==null?void 0:Y[0];if((!h||h.type!=="Group")&&f.parentId){r(o.map(O=>{if(O.id===f.id){const G=o.find(ce=>ce.id===f.parentId);if(!G)return O;const $={x:O.position.x+G.position.x,y:O.position.y+G.position.y};return{...O,position:$,parentId:void 0}}return O}));return}if(!h||h.type!=="Group")return;let E=f.position;if(f.parentId){const O=f.parentId===h.id?h:t(f.parentId);E={x:f.position.x+O.position.x,y:f.position.y+O.position.y}}const C=20,S=h.position.x-E.x+C,M=h.position.y-E.y+C,w={x:h.position.x-Math.max(S,0),y:h.position.y-Math.max(M,0)};let _=h.measured.width+Math.max(S,0),H=h.measured.height+Math.max(M,0);const z={x:E.x-w.x,y:E.y-w.y},K=z.x+f.measured.width+20,F=z.y+f.measured.height+20;_=Math.max(K,_),H=Math.max(F,H),r(o.map(O=>O.id===f.id?{...O,parentId:h.id,position:z}:O.id===h.id?{...O,position:w,width:_,height:H,data:{isParent:!0},style:{zIndex:-1}}:O))}}}const Bi=()=>{const[e,t]=i.useState(),{nodes:n,edges:o,onNodesChange:r,onEdgesChange:s,onConnect:l,onNodeDragStop:a}=Ui(),{paneContextMenu:u,nodeContextMenu:g,selectionContextMenu:p,handlePaneContextMenu:d,handleNodeContextMenu:m,handleSelectionContextMenu:v,onPaneClick:b,setNodeContextMenu:y,setPaneContextMenu:x,setSelectionContextMenu:f}=Fi();return c.jsxs(c.Fragment,{children:[c.jsxs(Ur,{id:"node-editor",onInit:t,nodeTypes:An,nodes:n,edges:o,onNodesChange:r,onEdgesChange:s,onPaneContextMenu:d,onNodeContextMenu:m,onSelectionContextMenu:v,onConnect:l,onPaneClick:b,disableKeyboardA11y:!0,fitView:!0,proOptions:{hideAttribution:!0},deleteKeyCode:["Delete","Backspace"],onNodeDragStop:a,children:[c.jsx(Br,{bgColor:"#14141d",color:"#a7abc2"}),c.jsx(ki,{rfInstance:e}),c.jsx(Hs,{})]}),u&&c.jsx(Us,{x:u.x,y:u.y,onClose:()=>x(null)}),g&&c.jsx(Ks,{nodeId:g.nodeId,nodeType:g.nodeType,nodeLoopId:g.nodeLoopId,x:g.x,y:g.y,onClose:()=>y(null)}),p&&c.jsx(zi,{nodeIds:p.nodeIds,x:p.x,y:p.y,onClose:()=>f(null)})]})},Wi=()=>c.jsx(Hr,{children:c.jsx(Kr,{children:c.jsx(Bi,{})})}),Vi=({params:e})=>{const t=i.useRef(null),n=Le(r=>r.setCurrentLevel),o=e.id||"playground";return n(o),i.useEffect(()=>{if(t.current)return qt.init(),Mr(t.current),bs(o),()=>{Rr(),qt.cleanup()}},[]),c.jsxs(c.Fragment,{children:[c.jsx(xo,{defaultOpen:!0}),c.jsxs(Jn,{direction:"horizontal",children:[c.jsx(Ct,{id:"game-panel",minSize:25,order:1,children:c.jsx("canvas",{id:"game-canvas",ref:t,className:"w-1/2"})}),c.jsx(Qn,{className:"flex w-2 items-center justify-center bg-slate-800",children:c.jsx(br,{width:32,height:32,className:"scale-125 text-slate-400"})}),c.jsx(Ct,{id:"nodes-panel",minSize:25,order:2,children:c.jsx(Wi,{})})]})]})},rl=cr(Vi);export{rl as default};
