import{w as zs}from"./with-props-DHRFOzHR.js";import{a as i,s as Hs,t as qn,o as c,N as He}from"./chunk-AYJ5UCUI-DfzbB4N7.js";import{c as qe,A as Gs,H as Us,a as Ws,C as Ks,P as Bs,b as Vs,R as Ys,I as Xs,d as Zs,Q as qs,e as Js,f as Qs,D as ei}from"./index-DLnbUen7.js";import{L as fe,g as bn,i as ti,c as ni}from"./levels-CURjH8QQ.js";import{u as Re,a as ae,b as Vt,c as Me,d as Jn,e as oi,f as ri,v as si,I as wn,g as Qn,h as It,i as ii,j as ai,k as eo,l as zt,m as ct,T as li}from"./time-DteIwvcY.js";import{T as ci,a as ui,b as di,P as gt,u as re,c as fi,R as Yt,h as Xt,d as Zt,D as pi,e as mi,f as ge,g as to,i as no,j as oo,o as ro,s as so,k as io,l as ao,m as lo,n as co,p as uo,q as fo,r as po,t as mo,_ as hi,v as gi,w as vi,x as ho,N as go,B as vo,y as ut,M as xo,L as yo,A as xi,z as yi,F as bi,C as wi,G as Ei,S as Ci,E as Pi,K as Si,H as Ni,I as Ii,V as Ri,J as Mi,O as _i,Q as Di,U as ji,W as Ai,X as Oi,Y as Ti}from"./Value-CW6GmJ2D.js";import{c as qt,u as Z,a as Oe,b as $,d as vt,e as _e,P as ve,f as Li,g as Te,h as se,i as bo,j as We}from"./index-B3TdJQmR.js";import{R as wo,a as $i}from"./index-BMLNhK5V.js";const xt=i.createContext(null);xt.displayName="PanelGroupContext";const X={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Jt=10,De=i.useLayoutEffect,En=Hs.useId,Fi=typeof En=="function"?En:()=>null;let ki=0;function Qt(e=null){const t=Fi(),n=i.useRef(e||t||null);return n.current===null&&(n.current=""+ki++),e??n.current}function Eo({children:e,className:t="",collapsedSize:n,collapsible:o,defaultSize:r,forwardedRef:s,id:l,maxSize:a,minSize:d,onCollapse:u,onExpand:p,onResize:f,order:m,style:g,tagName:x="div",...v}){const y=i.useContext(xt);if(y===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:h,expandPanel:b,getPanelSize:E,getPanelStyle:w,groupId:I,isPanelCollapsed:N,reevaluatePanelConstraints:P,registerPanel:C,resizePanel:S,unregisterPanel:D}=y,T=Qt(l),_=i.useRef({callbacks:{onCollapse:u,onExpand:p,onResize:f},constraints:{collapsedSize:n,collapsible:o,defaultSize:r,maxSize:a,minSize:d},id:T,idIsFromProps:l!==void 0,order:m});i.useRef({didLogMissingDefaultSizeWarning:!1}),De(()=>{const{callbacks:U,constraints:G}=_.current,W={...G};_.current.id=T,_.current.idIsFromProps=l!==void 0,_.current.order=m,U.onCollapse=u,U.onExpand=p,U.onResize=f,G.collapsedSize=n,G.collapsible=o,G.defaultSize=r,G.maxSize=a,G.minSize=d,(W.collapsedSize!==G.collapsedSize||W.collapsible!==G.collapsible||W.maxSize!==G.maxSize||W.minSize!==G.minSize)&&P(_.current,W)}),De(()=>{const U=_.current;return C(U),()=>{D(U)}},[m,T,C,D]),i.useImperativeHandle(s,()=>({collapse:()=>{h(_.current)},expand:U=>{b(_.current,U)},getId(){return T},getSize(){return E(_.current)},isCollapsed(){return N(_.current)},isExpanded(){return!N(_.current)},resize:U=>{S(_.current,U)}}),[h,b,E,N,T,S]);const H=w(_.current,r);return i.createElement(x,{...v,children:e,className:t,id:T,style:{...H,...g},[X.groupId]:I,[X.panel]:"",[X.panelCollapsible]:o||void 0,[X.panelId]:T,[X.panelSize]:parseFloat(""+H.flexGrow).toFixed(1)})}const Ht=i.forwardRef((e,t)=>i.createElement(Eo,{...e,forwardedRef:t}));Eo.displayName="Panel";Ht.displayName="forwardRef(Panel)";let Gt=null,lt=-1,Ee=null;function zi(e,t){if(t){const n=(t&Io)!==0,o=(t&Ro)!==0,r=(t&Mo)!==0,s=(t&_o)!==0;if(n)return r?"se-resize":s?"ne-resize":"e-resize";if(o)return r?"sw-resize":s?"nw-resize":"w-resize";if(r)return"s-resize";if(s)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Hi(){Ee!==null&&(document.head.removeChild(Ee),Gt=null,Ee=null,lt=-1)}function Rt(e,t){var n,o;const r=zi(e,t);if(Gt!==r){if(Gt=r,Ee===null&&(Ee=document.createElement("style"),document.head.appendChild(Ee)),lt>=0){var s;(s=Ee.sheet)===null||s===void 0||s.removeRule(lt)}lt=(n=(o=Ee.sheet)===null||o===void 0?void 0:o.insertRule(`*{cursor: ${r} !important;}`))!==null&&n!==void 0?n:-1}}function Co(e){return e.type==="keydown"}function Po(e){return e.type.startsWith("pointer")}function So(e){return e.type.startsWith("mouse")}function yt(e){if(Po(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(So(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Gi(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Ui(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Wi(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:Sn(e),b:Sn(t)};let o;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),o=e;z(o,"Stacking order can only be calculated for elements with a common ancestor");const r={a:Pn(Cn(n.a)),b:Pn(Cn(n.b))};if(r.a===r.b){const s=o.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let a=s.length;for(;a--;){const d=s[a];if(d===l.a)return 1;if(d===l.b)return-1}}return Math.sign(r.a-r.b)}const Ki=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Bi(e){var t;const n=getComputedStyle((t=No(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function Vi(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Bi(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Ki.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Cn(e){let t=e.length;for(;t--;){const n=e[t];if(z(n,"Missing node"),Vi(n))return n}return null}function Pn(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Sn(e){const t=[];for(;e;)t.push(e),e=No(e);return t}function No(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Io=1,Ro=2,Mo=4,_o=8,Yi=Gi()==="coarse";let de=[],Ge=!1,Ie=new Map,bt=new Map;const Je=new Set;function Xi(e,t,n,o,r){var s;const{ownerDocument:l}=t,a={direction:n,element:t,hitAreaMargins:o,setResizeHandlerState:r},d=(s=Ie.get(l))!==null&&s!==void 0?s:0;return Ie.set(l,d+1),Je.add(a),dt(),function(){var p;bt.delete(e),Je.delete(a);const f=(p=Ie.get(l))!==null&&p!==void 0?p:1;if(Ie.set(l,f-1),dt(),f===1&&Ie.delete(l),de.includes(a)){const m=de.indexOf(a);m>=0&&de.splice(m,1),tn(),r("up",!0,null)}}}function Zi(e){const{target:t}=e,{x:n,y:o}=yt(e);Ge=!0,en({target:t,x:n,y:o}),dt(),de.length>0&&(ft("down",e),e.preventDefault(),Do(t)||e.stopImmediatePropagation())}function Mt(e){const{x:t,y:n}=yt(e);if(Ge&&e.buttons===0&&(Ge=!1,ft("up",e)),!Ge){const{target:o}=e;en({target:o,x:t,y:n})}ft("move",e),tn(),de.length>0&&e.preventDefault()}function _t(e){const{target:t}=e,{x:n,y:o}=yt(e);bt.clear(),Ge=!1,de.length>0&&(e.preventDefault(),Do(t)||e.stopImmediatePropagation()),ft("up",e),en({target:t,x:n,y:o}),tn(),dt()}function Do(e){let t=e;for(;t;){if(t.hasAttribute(X.resizeHandle))return!0;t=t.parentElement}return!1}function en({target:e,x:t,y:n}){de.splice(0);let o=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(o=e),Je.forEach(r=>{const{element:s,hitAreaMargins:l}=r,a=s.getBoundingClientRect(),{bottom:d,left:u,right:p,top:f}=a,m=Yi?l.coarse:l.fine;if(t>=u-m&&t<=p+m&&n>=f-m&&n<=d+m){if(o!==null&&document.contains(o)&&s!==o&&!s.contains(o)&&!o.contains(s)&&Wi(o,s)>0){let x=o,v=!1;for(;x&&!x.contains(s);){if(Ui(x.getBoundingClientRect(),a)){v=!0;break}x=x.parentElement}if(v)return}de.push(r)}})}function Dt(e,t){bt.set(e,t)}function tn(){let e=!1,t=!1;de.forEach(o=>{const{direction:r}=o;r==="horizontal"?e=!0:t=!0});let n=0;bt.forEach(o=>{n|=o}),e&&t?Rt("intersection",n):e?Rt("horizontal",n):t?Rt("vertical",n):Hi()}let jt=new AbortController;function dt(){jt.abort(),jt=new AbortController;const e={capture:!0,signal:jt.signal};Je.size&&(Ge?(de.length>0&&Ie.forEach((t,n)=>{const{body:o}=n;t>0&&(o.addEventListener("contextmenu",_t,e),o.addEventListener("pointerleave",Mt,e),o.addEventListener("pointermove",Mt,e))}),window.addEventListener("pointerup",_t,e),window.addEventListener("pointercancel",_t,e)):Ie.forEach((t,n)=>{const{body:o}=n;t>0&&(o.addEventListener("pointerdown",Zi,e),o.addEventListener("pointermove",Mt,e))}))}function ft(e,t){Je.forEach(n=>{const{setResizeHandlerState:o}=n,r=de.includes(n);o(e,r,t)})}function qi(){const[e,t]=i.useState(0);return i.useCallback(()=>t(n=>n+1),[])}function z(e,t){if(!e)throw console.error(t),Error(t)}function je(e,t,n=Jt){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function he(e,t,n=Jt){return je(e,t,n)===0}function le(e,t,n){return je(e,t,n)===0}function Ji(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){const r=e[o],s=t[o];if(!le(r,s,n))return!1}return!0}function ze({panelConstraints:e,panelIndex:t,size:n}){const o=e[t];z(o!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:r=0,collapsible:s,maxSize:l=100,minSize:a=0}=o;if(je(n,a)<0)if(s){const d=(r+a)/2;je(n,d)<0?n=r:n=a}else n=a;return n=Math.min(l,n),n=parseFloat(n.toFixed(Jt)),n}function Ye({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:o,prevLayout:r,trigger:s}){if(le(e,0))return t;const l=[...t],[a,d]=o;z(a!=null,"Invalid first pivot index"),z(d!=null,"Invalid second pivot index");let u=0;if(s==="keyboard"){{const f=e<0?d:a,m=n[f];z(m,`Panel constraints not found for index ${f}`);const{collapsedSize:g=0,collapsible:x,minSize:v=0}=m;if(x){const y=t[f];if(z(y!=null,`Previous layout not found for panel index ${f}`),le(y,g)){const h=v-y;je(h,Math.abs(e))>0&&(e=e<0?0-h:h)}}}{const f=e<0?a:d,m=n[f];z(m,`No panel constraints found for index ${f}`);const{collapsedSize:g=0,collapsible:x,minSize:v=0}=m;if(x){const y=t[f];if(z(y!=null,`Previous layout not found for panel index ${f}`),le(y,v)){const h=y-g;je(h,Math.abs(e))>0&&(e=e<0?0-h:h)}}}}{const f=e<0?1:-1;let m=e<0?d:a,g=0;for(;;){const v=t[m];z(v!=null,`Previous layout not found for panel index ${m}`);const h=ze({panelConstraints:n,panelIndex:m,size:100})-v;if(g+=h,m+=f,m<0||m>=n.length)break}const x=Math.min(Math.abs(e),Math.abs(g));e=e<0?0-x:x}{let m=e<0?a:d;for(;m>=0&&m<n.length;){const g=Math.abs(e)-Math.abs(u),x=t[m];z(x!=null,`Previous layout not found for panel index ${m}`);const v=x-g,y=ze({panelConstraints:n,panelIndex:m,size:v});if(!le(x,y)&&(u+=x-y,l[m]=y,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?m--:m++}}if(Ji(r,l))return r;{const f=e<0?d:a,m=t[f];z(m!=null,`Previous layout not found for panel index ${f}`);const g=m+u,x=ze({panelConstraints:n,panelIndex:f,size:g});if(l[f]=x,!le(x,g)){let v=g-x,h=e<0?d:a;for(;h>=0&&h<n.length;){const b=l[h];z(b!=null,`Previous layout not found for panel index ${h}`);const E=b+v,w=ze({panelConstraints:n,panelIndex:h,size:E});if(le(b,w)||(v-=w-b,l[h]=w),le(v,0))break;e>0?h--:h++}}}const p=l.reduce((f,m)=>m+f,0);return le(p,100)?l:r}function Qi({layout:e,panelsArray:t,pivotIndices:n}){let o=0,r=100,s=0,l=0;const a=n[0];z(a!=null,"No pivot index found"),t.forEach((f,m)=>{const{constraints:g}=f,{maxSize:x=100,minSize:v=0}=g;m===a?(o=v,r=x):(s+=v,l+=x)});const d=Math.min(r,100-s),u=Math.max(o,100-l),p=e[a];return{valueMax:d,valueMin:u,valueNow:p}}function Qe(e,t=document){return Array.from(t.querySelectorAll(`[${X.resizeHandleId}][data-panel-group-id="${e}"]`))}function jo(e,t,n=document){const r=Qe(e,n).findIndex(s=>s.getAttribute(X.resizeHandleId)===t);return r??null}function Ao(e,t,n){const o=jo(e,t,n);return o!=null?[o,o+1]:[-1,-1]}function Oo(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const o=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return o||null}function wt(e,t=document){const n=t.querySelector(`[${X.resizeHandleId}="${e}"]`);return n||null}function ea(e,t,n,o=document){var r,s,l,a;const d=wt(t,o),u=Qe(e,o),p=d?u.indexOf(d):-1,f=(r=(s=n[p])===null||s===void 0?void 0:s.id)!==null&&r!==void 0?r:null,m=(l=(a=n[p+1])===null||a===void 0?void 0:a.id)!==null&&l!==void 0?l:null;return[f,m]}function ta({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:o,panelDataArray:r,panelGroupElement:s,setLayout:l}){i.useRef({didWarnAboutMissingResizeHandle:!1}),De(()=>{if(!s)return;const a=Qe(n,s);for(let d=0;d<r.length-1;d++){const{valueMax:u,valueMin:p,valueNow:f}=Qi({layout:o,panelsArray:r,pivotIndices:[d,d+1]}),m=a[d];if(m!=null){const g=r[d];z(g,`No panel data found for index "${d}"`),m.setAttribute("aria-controls",g.id),m.setAttribute("aria-valuemax",""+Math.round(u)),m.setAttribute("aria-valuemin",""+Math.round(p)),m.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{a.forEach((d,u)=>{d.removeAttribute("aria-controls"),d.removeAttribute("aria-valuemax"),d.removeAttribute("aria-valuemin"),d.removeAttribute("aria-valuenow")})}},[n,o,r,s]),i.useEffect(()=>{if(!s)return;const a=t.current;z(a,"Eager values not found");const{panelDataArray:d}=a,u=Oo(n,s);z(u!=null,`No group found for id "${n}"`);const p=Qe(n,s);z(p,`No resize handles found for group id "${n}"`);const f=p.map(m=>{const g=m.getAttribute(X.resizeHandleId);z(g,"Resize handle element has no handle id attribute");const[x,v]=ea(n,g,d,s);if(x==null||v==null)return()=>{};const y=h=>{if(!h.defaultPrevented)switch(h.key){case"Enter":{h.preventDefault();const b=d.findIndex(E=>E.id===x);if(b>=0){const E=d[b];z(E,`No panel data found for index ${b}`);const w=o[b],{collapsedSize:I=0,collapsible:N,minSize:P=0}=E.constraints;if(w!=null&&N){const C=Ye({delta:le(w,I)?P-I:I-w,initialLayout:o,panelConstraints:d.map(S=>S.constraints),pivotIndices:Ao(n,g,s),prevLayout:o,trigger:"keyboard"});o!==C&&l(C)}}break}}};return m.addEventListener("keydown",y),()=>{m.removeEventListener("keydown",y)}});return()=>{f.forEach(m=>m())}},[s,e,t,n,o,r,l])}function Nn(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function To(e,t){const n=e==="horizontal",{x:o,y:r}=yt(t);return n?o:r}function na(e,t,n,o,r){const s=n==="horizontal",l=wt(t,r);z(l,`No resize handle element found for id "${t}"`);const a=l.getAttribute(X.groupId);z(a,"Resize handle element has no group id attribute");let{initialCursorPosition:d}=o;const u=To(n,e),p=Oo(a,r);z(p,`No group element found for id "${a}"`);const f=p.getBoundingClientRect(),m=s?f.width:f.height;return(u-d)/m*100}function oa(e,t,n,o,r,s){if(Co(e)){const l=n==="horizontal";let a=0;e.shiftKey?a=100:r!=null?a=r:a=10;let d=0;switch(e.key){case"ArrowDown":d=l?0:a;break;case"ArrowLeft":d=l?-a:0;break;case"ArrowRight":d=l?a:0;break;case"ArrowUp":d=l?0:-a;break;case"End":d=100;break;case"Home":d=-100;break}return d}else return o==null?0:na(e,t,n,o,s)}function ra({panelDataArray:e}){const t=Array(e.length),n=e.map(s=>s.constraints);let o=0,r=100;for(let s=0;s<e.length;s++){const l=n[s];z(l,`Panel constraints not found for index ${s}`);const{defaultSize:a}=l;a!=null&&(o++,t[s]=a,r-=a)}for(let s=0;s<e.length;s++){const l=n[s];z(l,`Panel constraints not found for index ${s}`);const{defaultSize:a}=l;if(a!=null)continue;const d=e.length-o,u=r/d;o++,t[s]=u,r-=u}return t}function Fe(e,t,n){t.forEach((o,r)=>{const s=e[r];z(s,`Panel data not found for index ${r}`);const{callbacks:l,constraints:a,id:d}=s,{collapsedSize:u=0,collapsible:p}=a,f=n[d];if(f==null||o!==f){n[d]=o;const{onCollapse:m,onExpand:g,onResize:x}=l;x&&x(o,f),p&&(m||g)&&(g&&(f==null||he(f,u))&&!he(o,u)&&g(),m&&(f==null||!he(f,u))&&he(o,u)&&m())}})}function at(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function sa({defaultSize:e,dragState:t,layout:n,panelData:o,panelIndex:r,precision:s=3}){const l=n[r];let a;return l==null?a=e!=null?e.toPrecision(s):"1":o.length===1?a="1":a=l.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function ia(e,t=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}function In(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Lo(e){return`react-resizable-panels:${e}`}function $o(e){return e.map(t=>{const{constraints:n,id:o,idIsFromProps:r,order:s}=t;return r?o:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Fo(e,t){try{const n=Lo(e),o=t.getItem(n);if(o){const r=JSON.parse(o);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function aa(e,t,n){var o,r;const s=(o=Fo(e,n))!==null&&o!==void 0?o:{},l=$o(t);return(r=s[l])!==null&&r!==void 0?r:null}function la(e,t,n,o,r){var s;const l=Lo(e),a=$o(t),d=(s=Fo(e,r))!==null&&s!==void 0?s:{};d[a]={expandToSizes:Object.fromEntries(n.entries()),layout:o};try{r.setItem(l,JSON.stringify(d))}catch(u){console.error(u)}}function Rn({layout:e,panelConstraints:t}){const n=[...e],o=n.reduce((s,l)=>s+l,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!le(o,100)&&n.length>0)for(let s=0;s<t.length;s++){const l=n[s];z(l!=null,`No layout data found for index ${s}`);const a=100/o*l;n[s]=a}let r=0;for(let s=0;s<t.length;s++){const l=n[s];z(l!=null,`No layout data found for index ${s}`);const a=ze({panelConstraints:t,panelIndex:s,size:l});l!=a&&(r+=l-a,n[s]=a)}if(!le(r,0))for(let s=0;s<t.length;s++){const l=n[s];z(l!=null,`No layout data found for index ${s}`);const a=l+r,d=ze({panelConstraints:t,panelIndex:s,size:a});if(l!==d&&(r-=d-l,n[s]=d,le(r,0)))break}return n}const ca=100,Xe={getItem:e=>(In(Xe),Xe.getItem(e)),setItem:(e,t)=>{In(Xe),Xe.setItem(e,t)}},Mn={};function ko({autoSaveId:e=null,children:t,className:n="",direction:o,forwardedRef:r,id:s=null,onLayout:l=null,keyboardResizeBy:a=null,storage:d=Xe,style:u,tagName:p="div",...f}){const m=Qt(s),g=i.useRef(null),[x,v]=i.useState(null),[y,h]=i.useState([]),b=qi(),E=i.useRef({}),w=i.useRef(new Map),I=i.useRef(0),N=i.useRef({autoSaveId:e,direction:o,dragState:x,id:m,keyboardResizeBy:a,onLayout:l,storage:d}),P=i.useRef({layout:y,panelDataArray:[],panelDataArrayChanged:!1});i.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),i.useImperativeHandle(r,()=>({getId:()=>N.current.id,getLayout:()=>{const{layout:R}=P.current;return R},setLayout:R=>{const{onLayout:O}=N.current,{layout:F,panelDataArray:j}=P.current,M=Rn({layout:R,panelConstraints:j.map(L=>L.constraints)});Nn(F,M)||(h(M),P.current.layout=M,O&&O(M),Fe(j,M,E.current))}}),[]),De(()=>{N.current.autoSaveId=e,N.current.direction=o,N.current.dragState=x,N.current.id=m,N.current.onLayout=l,N.current.storage=d}),ta({committedValuesRef:N,eagerValuesRef:P,groupId:m,layout:y,panelDataArray:P.current.panelDataArray,setLayout:h,panelGroupElement:g.current}),i.useEffect(()=>{const{panelDataArray:R}=P.current;if(e){if(y.length===0||y.length!==R.length)return;let O=Mn[e];O==null&&(O=ia(la,ca),Mn[e]=O);const F=[...R],j=new Map(w.current);O(e,F,j,y,d)}},[e,y,d]),i.useEffect(()=>{});const C=i.useCallback(R=>{const{onLayout:O}=N.current,{layout:F,panelDataArray:j}=P.current;if(R.constraints.collapsible){const M=j.map(ne=>ne.constraints),{collapsedSize:L=0,panelSize:k,pivotIndices:B}=Ne(j,R,F);if(z(k!=null,`Panel size not found for panel "${R.id}"`),!he(k,L)){w.current.set(R.id,k);const oe=ke(j,R)===j.length-1?k-L:L-k,K=Ye({delta:oe,initialLayout:F,panelConstraints:M,pivotIndices:B,prevLayout:F,trigger:"imperative-api"});at(F,K)||(h(K),P.current.layout=K,O&&O(K),Fe(j,K,E.current))}}},[]),S=i.useCallback((R,O)=>{const{onLayout:F}=N.current,{layout:j,panelDataArray:M}=P.current;if(R.constraints.collapsible){const L=M.map(te=>te.constraints),{collapsedSize:k=0,panelSize:B=0,minSize:ne=0,pivotIndices:oe}=Ne(M,R,j),K=O??ne;if(he(B,k)){const te=w.current.get(R.id),me=te!=null&&te>=K?te:K,Se=ke(M,R)===M.length-1?B-me:me-B,ee=Ye({delta:Se,initialLayout:j,panelConstraints:L,pivotIndices:oe,prevLayout:j,trigger:"imperative-api"});at(j,ee)||(h(ee),P.current.layout=ee,F&&F(ee),Fe(M,ee,E.current))}}},[]),D=i.useCallback(R=>{const{layout:O,panelDataArray:F}=P.current,{panelSize:j}=Ne(F,R,O);return z(j!=null,`Panel size not found for panel "${R.id}"`),j},[]),T=i.useCallback((R,O)=>{const{panelDataArray:F}=P.current,j=ke(F,R);return sa({defaultSize:O,dragState:x,layout:y,panelData:F,panelIndex:j})},[x,y]),_=i.useCallback(R=>{const{layout:O,panelDataArray:F}=P.current,{collapsedSize:j=0,collapsible:M,panelSize:L}=Ne(F,R,O);return z(L!=null,`Panel size not found for panel "${R.id}"`),M===!0&&he(L,j)},[]),H=i.useCallback(R=>{const{layout:O,panelDataArray:F}=P.current,{collapsedSize:j=0,collapsible:M,panelSize:L}=Ne(F,R,O);return z(L!=null,`Panel size not found for panel "${R.id}"`),!M||je(L,j)>0},[]),U=i.useCallback(R=>{const{panelDataArray:O}=P.current;O.push(R),O.sort((F,j)=>{const M=F.order,L=j.order;return M==null&&L==null?0:M==null?-1:L==null?1:M-L}),P.current.panelDataArrayChanged=!0,b()},[b]);De(()=>{if(P.current.panelDataArrayChanged){P.current.panelDataArrayChanged=!1;const{autoSaveId:R,onLayout:O,storage:F}=N.current,{layout:j,panelDataArray:M}=P.current;let L=null;if(R){const B=aa(R,M,F);B&&(w.current=new Map(Object.entries(B.expandToSizes)),L=B.layout)}L==null&&(L=ra({panelDataArray:M}));const k=Rn({layout:L,panelConstraints:M.map(B=>B.constraints)});Nn(j,k)||(h(k),P.current.layout=k,O&&O(k),Fe(M,k,E.current))}}),De(()=>{const R=P.current;return()=>{R.layout=[]}},[]);const G=i.useCallback(R=>{let O=!1;const F=g.current;return F&&window.getComputedStyle(F,null).getPropertyValue("direction")==="rtl"&&(O=!0),function(M){M.preventDefault();const L=g.current;if(!L)return()=>null;const{direction:k,dragState:B,id:ne,keyboardResizeBy:oe,onLayout:K}=N.current,{layout:te,panelDataArray:me}=P.current,{initialLayout:xe}=B??{},Se=Ao(ne,R,L);let ee=oa(M,R,k,B,oe,L);const ce=k==="horizontal";ce&&O&&(ee=-ee);const Fs=me.map(ks=>ks.constraints),Ve=Ye({delta:ee,initialLayout:xe??te,panelConstraints:Fs,pivotIndices:Se,prevLayout:te,trigger:Co(M)?"keyboard":"mouse-or-touch"}),yn=!at(te,Ve);(Po(M)||So(M))&&I.current!=ee&&(I.current=ee,!yn&&ee!==0?ce?Dt(R,ee<0?Io:Ro):Dt(R,ee<0?Mo:_o):Dt(R,0)),yn&&(h(Ve),P.current.layout=Ve,K&&K(Ve),Fe(me,Ve,E.current))}},[]),W=i.useCallback((R,O)=>{const{onLayout:F}=N.current,{layout:j,panelDataArray:M}=P.current,L=M.map(te=>te.constraints),{panelSize:k,pivotIndices:B}=Ne(M,R,j);z(k!=null,`Panel size not found for panel "${R.id}"`);const oe=ke(M,R)===M.length-1?k-O:O-k,K=Ye({delta:oe,initialLayout:j,panelConstraints:L,pivotIndices:B,prevLayout:j,trigger:"imperative-api"});at(j,K)||(h(K),P.current.layout=K,F&&F(K),Fe(M,K,E.current))},[]),q=i.useCallback((R,O)=>{const{layout:F,panelDataArray:j}=P.current,{collapsedSize:M=0,collapsible:L}=O,{collapsedSize:k=0,collapsible:B,maxSize:ne=100,minSize:oe=0}=R.constraints,{panelSize:K}=Ne(j,R,F);K!=null&&(L&&B&&he(K,M)?he(M,k)||W(R,k):K<oe?W(R,oe):K>ne&&W(R,ne))},[W]),Y=i.useCallback((R,O)=>{const{direction:F}=N.current,{layout:j}=P.current;if(!g.current)return;const M=wt(R,g.current);z(M,`Drag handle element not found for id "${R}"`);const L=To(F,O);v({dragHandleId:R,dragHandleRect:M.getBoundingClientRect(),initialCursorPosition:L,initialLayout:j})},[]),A=i.useCallback(()=>{v(null)},[]),J=i.useCallback(R=>{const{panelDataArray:O}=P.current,F=ke(O,R);F>=0&&(O.splice(F,1),delete E.current[R.id],P.current.panelDataArrayChanged=!0,b())},[b]),V=i.useMemo(()=>({collapsePanel:C,direction:o,dragState:x,expandPanel:S,getPanelSize:D,getPanelStyle:T,groupId:m,isPanelCollapsed:_,isPanelExpanded:H,reevaluatePanelConstraints:q,registerPanel:U,registerResizeHandle:G,resizePanel:W,startDragging:Y,stopDragging:A,unregisterPanel:J,panelGroupElement:g.current}),[C,x,o,S,D,T,m,_,H,q,U,G,W,Y,A,J]),Q={display:"flex",flexDirection:o==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return i.createElement(xt.Provider,{value:V},i.createElement(p,{...f,children:t,className:n,id:s,ref:g,style:{...Q,...u},[X.group]:"",[X.groupDirection]:o,[X.groupId]:m}))}const zo=i.forwardRef((e,t)=>i.createElement(ko,{...e,forwardedRef:t}));ko.displayName="PanelGroup";zo.displayName="forwardRef(PanelGroup)";function ke(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Ne(e,t,n){const o=ke(e,t),s=o===e.length-1?[o-1,o]:[o,o+1],l=n[o];return{...t.constraints,panelSize:l,pivotIndices:s}}function ua({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:o}){i.useEffect(()=>{if(e||n==null||o==null)return;const r=wt(t,o);if(r==null)return;const s=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),n(l);break}case"F6":{l.preventDefault();const a=r.getAttribute(X.groupId);z(a,`No group element found for id "${a}"`);const d=Qe(a,o),u=jo(a,t,o);z(u!==null,`No resize element found for id "${t}"`);const p=l.shiftKey?u>0?u-1:d.length-1:u+1<d.length?u+1:0;d[p].focus();break}}};return r.addEventListener("keydown",s),()=>{r.removeEventListener("keydown",s)}},[o,e,t,n])}function Ho({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:o,id:r,onBlur:s,onClick:l,onDragging:a,onFocus:d,onPointerDown:u,onPointerUp:p,style:f={},tabIndex:m=0,tagName:g="div",...x}){var v,y;const h=i.useRef(null),b=i.useRef({onClick:l,onDragging:a,onPointerDown:u,onPointerUp:p});i.useEffect(()=>{b.current.onClick=l,b.current.onDragging=a,b.current.onPointerDown=u,b.current.onPointerUp=p});const E=i.useContext(xt);if(E===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:w,groupId:I,registerResizeHandle:N,startDragging:P,stopDragging:C,panelGroupElement:S}=E,D=Qt(r),[T,_]=i.useState("inactive"),[H,U]=i.useState(!1),[G,W]=i.useState(null),q=i.useRef({state:T});De(()=>{q.current.state=T}),i.useEffect(()=>{if(n)W(null);else{const V=N(D);W(()=>V)}},[n,D,N]);const Y=(v=o==null?void 0:o.coarse)!==null&&v!==void 0?v:15,A=(y=o==null?void 0:o.fine)!==null&&y!==void 0?y:5;i.useEffect(()=>{if(n||G==null)return;const V=h.current;z(V,"Element ref not attached");let Q=!1;return Xi(D,V,w,{coarse:Y,fine:A},(O,F,j)=>{if(!F){_("inactive");return}switch(O){case"down":{_("drag"),Q=!1,z(j,'Expected event to be defined for "down" action'),P(D,j);const{onDragging:M,onPointerDown:L}=b.current;M==null||M(!0),L==null||L();break}case"move":{const{state:M}=q.current;Q=!0,M!=="drag"&&_("hover"),z(j,'Expected event to be defined for "move" action'),G(j);break}case"up":{_("hover"),C();const{onClick:M,onDragging:L,onPointerUp:k}=b.current;L==null||L(!1),k==null||k(),Q||M==null||M();break}}})},[Y,w,n,A,N,D,G,P,C]),ua({disabled:n,handleId:D,resizeHandler:G,panelGroupElement:S});const J={touchAction:"none",userSelect:"none"};return i.createElement(g,{...x,children:e,className:t,id:r,onBlur:()=>{U(!1),s==null||s()},onFocus:()=>{U(!0),d==null||d()},ref:h,role:"separator",style:{...J,...f},tabIndex:m,[X.groupDirection]:w,[X.groupId]:I,[X.resizeHandle]:"",[X.resizeHandleActive]:T==="drag"?"pointer":H?"keyboard":void 0,[X.resizeHandleEnabled]:!n,[X.resizeHandleId]:D,[X.resizeHandleState]:T})}Ho.displayName="PanelResizeHandle";const da=e=>{if(!(e in fe))throw new Error(`Level ${e} not found`);const t=fe[e];Re.getState().init(t.modifiableGameObjects),t.initialState()};function Go(e){const t=Object.keys(fe),n=t.indexOf(e);if(n!==-1)return{prev:n===0?void 0:t[n-1],next:n===t.length-1?void 0:t[n+1]}}const Ce=qn.forwardRef(({tooltip:e,className:t,children:n,side:o,...r},s)=>c.jsxs(ci,{children:[c.jsx(ui,{asChild:!0,children:c.jsx("button",{ref:s,className:qe("cursor-pointer rounded bg-slate-800 p-2 outline outline-slate-500 hover:bg-slate-900",t),...r,children:n})}),c.jsx(di,{side:o,children:c.jsx("p",{children:e})})]})),fa=()=>{const e=ae(n=>n.currentLevel),t=Go(e);return c.jsxs(gt,{position:"top-center",className:"flex flex-row items-center justify-center gap-2",children:[(t==null?void 0:t.prev)&&c.jsx(He,{to:`/game/${t==null?void 0:t.prev}`,children:c.jsx(Ce,{tooltip:"Previous Level",side:"left",className:"text-white",children:c.jsx(Gs,{className:"text-white"})})}),c.jsx(He,{to:"/",children:c.jsx(Ce,{tooltip:"Home",side:"bottom",children:c.jsx(Us,{className:"text-white"})})}),(t==null?void 0:t.next)&&c.jsx(He,{to:`/game/${t==null?void 0:t.next}`,children:c.jsx(Ce,{tooltip:"Next Level",side:"right",children:c.jsx(Ws,{className:"text-white"})})})]})};var pa=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ma=pa.reduce((e,t)=>{const n=qt(`Primitive.${t}`),o=i.forwardRef((r,s)=>{const{asChild:l,...a}=r,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...a,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),At="focusScope.autoFocusOnMount",Ot="focusScope.autoFocusOnUnmount",_n={bubbles:!1,cancelable:!0},ha="FocusScope",Uo=i.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...l}=e,[a,d]=i.useState(null),u=re(r),p=re(s),f=i.useRef(null),m=Z(t,v=>d(v)),g=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(o){let v=function(E){if(g.paused||!a)return;const w=E.target;a.contains(w)?f.current=w:ye(f.current,{select:!0})},y=function(E){if(g.paused||!a)return;const w=E.relatedTarget;w!==null&&(a.contains(w)||ye(f.current,{select:!0}))},h=function(E){if(document.activeElement===document.body)for(const I of E)I.removedNodes.length>0&&ye(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const b=new MutationObserver(h);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),b.disconnect()}}},[o,a,g.paused]),i.useEffect(()=>{if(a){jn.add(g);const v=document.activeElement;if(!a.contains(v)){const h=new CustomEvent(At,_n);a.addEventListener(At,u),a.dispatchEvent(h),h.defaultPrevented||(ga(wa(Wo(a)),{select:!0}),document.activeElement===v&&ye(a))}return()=>{a.removeEventListener(At,u),setTimeout(()=>{const h=new CustomEvent(Ot,_n);a.addEventListener(Ot,p),a.dispatchEvent(h),h.defaultPrevented||ye(v??document.body,{select:!0}),a.removeEventListener(Ot,p),jn.remove(g)},0)}}},[a,u,p,g]);const x=i.useCallback(v=>{if(!n&&!o||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,h=document.activeElement;if(y&&h){const b=v.currentTarget,[E,w]=va(b);E&&w?!v.shiftKey&&h===w?(v.preventDefault(),n&&ye(E,{select:!0})):v.shiftKey&&h===E&&(v.preventDefault(),n&&ye(w,{select:!0})):h===b&&v.preventDefault()}},[n,o,g.paused]);return c.jsx(ma.div,{tabIndex:-1,...l,ref:m,onKeyDown:x})});Uo.displayName=ha;function ga(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(ye(o,{select:t}),document.activeElement!==n)return}function va(e){const t=Wo(e),n=Dn(t,e),o=Dn(t.reverse(),e);return[n,o]}function Wo(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Dn(e,t){for(const n of e)if(!xa(n,{upTo:t}))return n}function xa(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ya(e){return e instanceof HTMLInputElement&&"select"in e}function ye(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ya(e)&&t&&e.select()}}var jn=ba();function ba(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=An(e,t),e.unshift(t)},remove(t){var n;e=An(e,t),(n=e[0])==null||n.resume()}}}function An(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function wa(e){return e.filter(t=>t.tagName!=="A")}var Ea=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nt=Ea.reduce((e,t)=>{const n=qt(`Primitive.${t}`),o=i.forwardRef((r,s)=>{const{asChild:l,...a}=r,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...a,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),Et="Dialog",[Ko,Id]=Oe(Et),[Ca,pe]=Ko(Et),Bo=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:r,onOpenChange:s,modal:l=!0}=e,a=i.useRef(null),d=i.useRef(null),[u,p]=vt({prop:o,defaultProp:r??!1,onChange:s,caller:Et});return c.jsx(Ca,{scope:t,triggerRef:a,contentRef:d,contentId:_e(),titleId:_e(),descriptionId:_e(),open:u,onOpenChange:p,onOpenToggle:i.useCallback(()=>p(f=>!f),[p]),modal:l,children:n})};Bo.displayName=Et;var Vo="DialogTrigger",Yo=i.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,r=pe(Vo,n),s=Z(t,r.triggerRef);return c.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":rn(r.open),...o,ref:s,onClick:$(e.onClick,r.onOpenToggle)})});Yo.displayName=Vo;var nn="DialogPortal",[Pa,Xo]=Ko(nn,{forceMount:void 0}),Zo=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:r}=e,s=pe(nn,t);return c.jsx(Pa,{scope:t,forceMount:n,children:i.Children.map(o,l=>c.jsx(ve,{present:n||s.open,children:c.jsx(fi,{asChild:!0,container:r,children:l})}))})};Zo.displayName=nn;var pt="DialogOverlay",qo=i.forwardRef((e,t)=>{const n=Xo(pt,e.__scopeDialog),{forceMount:o=n.forceMount,...r}=e,s=pe(pt,e.__scopeDialog);return s.modal?c.jsx(ve,{present:o||s.open,children:c.jsx(Na,{...r,ref:t})}):null});qo.displayName=pt;var Sa=qt("DialogOverlay.RemoveScroll"),Na=i.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,r=pe(pt,n);return c.jsx(Yt,{as:Sa,allowPinchZoom:!0,shards:[r.contentRef],children:c.jsx(nt.div,{"data-state":rn(r.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),Ae="DialogContent",Jo=i.forwardRef((e,t)=>{const n=Xo(Ae,e.__scopeDialog),{forceMount:o=n.forceMount,...r}=e,s=pe(Ae,e.__scopeDialog);return c.jsx(ve,{present:o||s.open,children:s.modal?c.jsx(Ia,{...r,ref:t}):c.jsx(Ra,{...r,ref:t})})});Jo.displayName=Ae;var Ia=i.forwardRef((e,t)=>{const n=pe(Ae,e.__scopeDialog),o=i.useRef(null),r=Z(t,n.contentRef,o);return i.useEffect(()=>{const s=o.current;if(s)return Xt(s)},[]),c.jsx(Qo,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:$(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,a=l.button===0&&l.ctrlKey===!0;(l.button===2||a)&&s.preventDefault()}),onFocusOutside:$(e.onFocusOutside,s=>s.preventDefault())})}),Ra=i.forwardRef((e,t)=>{const n=pe(Ae,e.__scopeDialog),o=i.useRef(!1),r=i.useRef(!1);return c.jsx(Qo,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,a;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(o.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:s=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),Qo=i.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:s,...l}=e,a=pe(Ae,n),d=i.useRef(null),u=Z(t,d);return Zt(),c.jsxs(c.Fragment,{children:[c.jsx(Uo,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:s,children:c.jsx(pi,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":rn(a.open),...l,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Ma,{titleId:a.titleId}),c.jsx(Da,{contentRef:d,descriptionId:a.descriptionId})]})]})}),on="DialogTitle",er=i.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,r=pe(on,n);return c.jsx(nt.h2,{id:r.titleId,...o,ref:t})});er.displayName=on;var tr="DialogDescription",nr=i.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,r=pe(tr,n);return c.jsx(nt.p,{id:r.descriptionId,...o,ref:t})});nr.displayName=tr;var or="DialogClose",Ue=i.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,r=pe(or,n);return c.jsx(nt.button,{type:"button",...o,ref:t,onClick:$(e.onClick,()=>r.onOpenChange(!1))})});Ue.displayName=or;function rn(e){return e?"open":"closed"}var rr="DialogTitleWarning",[Rd,sr]=Li(rr,{contentName:Ae,titleName:on,docsSlug:"dialog"}),Ma=({titleId:e})=>{const t=sr(rr),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},_a="DialogDescriptionWarning",Da=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sr(_a).contentName}}.`;return i.useEffect(()=>{var s;const r=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null};function ja(e){const t=Aa(e),n=i.forwardRef((o,r)=>{const{children:s,...l}=o,a=i.Children.toArray(s),d=a.find(Ta);if(d){const u=d.props.children,p=a.map(f=>f===d?i.Children.count(u)>1?i.Children.only(null):i.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...l,ref:r,children:i.isValidElement(u)?i.cloneElement(u,void 0,p):null})}return c.jsx(t,{...l,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}function Aa(e){const t=i.forwardRef((n,o)=>{const{children:r,...s}=n;if(i.isValidElement(r)){const l=$a(r),a=La(s,r.props);return r.type!==i.Fragment&&(a.ref=o?Te(o,l):l),i.cloneElement(r,a)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Oa=Symbol("radix.slottable");function Ta(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Oa}function La(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{const d=s(...a);return r(...a),d}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function $a(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Fa=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ka=Fa.reduce((e,t)=>{const n=ja(`Primitive.${t}`),o=i.forwardRef((r,s)=>{const{asChild:l,...a}=r,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...a,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),za=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ha="VisuallyHidden",ir=i.forwardRef((e,t)=>c.jsx(ka.span,{...e,ref:t,style:{...za,...e.style}}));ir.displayName=Ha;const ar=({title:e,trigger:t,defaultOpen:n,open:o,onOpenChange:r,desc:s,children:l})=>c.jsxs(Bo,{defaultOpen:n,open:o,onOpenChange:r,children:[c.jsx(Yo,{asChild:!0,children:t}),c.jsxs(Zo,{children:[c.jsx(qo,{className:"fixed inset-0 bg-slate-800/25"}),c.jsxs(Jo,{className:"fixed top-1/2 left-1/2 flex w-1/2 -translate-x-1/2 -translate-y-1/2 flex-col gap-6 rounded-lg border-2 border-blue-300 bg-slate-800/95 p-8 font-mono text-white",children:[c.jsx(ir,{asChild:!0,children:c.jsx(nr,{children:s})}),c.jsx(er,{className:"text-center text-4xl font-bold capitalize",children:e}),c.jsx("div",{id:"dialog",children:l}),c.jsx(Ue,{asChild:!0,children:c.jsx("button",{className:"absolute top-2.5 right-2.5 inline-flex size-[25px] cursor-pointer appearance-none items-center justify-center rounded-full bg-slate-700 focus:outline-1 focus:outline-blue-300","aria-label":"Close",children:c.jsx(Ks,{})})})]})]})]}),lr=({open:e,onOpenChange:t,skip:n=!1,trigger:o})=>{var h,b;const r=ae(E=>E.currentLevel),s=((h=fe[r])==null?void 0:h.goals)||["No goals defined for this level yet."],l=((b=fe[r])==null?void 0:b.dialog)||["No dialog available for this level."],a=i.useRef(0),[d,u]=i.useState(""),[p,f]=i.useState(l[a.current]),[m,g]=i.useState(n);i.useEffect(()=>{let E=0;const w=setInterval(()=>{E<=p.length?(u(p.slice(0,E)),E++):clearInterval(w)},10);return()=>{clearInterval(w),u("")}},[p]),i.useEffect(()=>{a.current=0,f(l[0]),g(n),u("")},[r]);const x=i.useRef(null),v=()=>{m||(a.current<l.length-1?(a.current++,f(l[a.current])):(a.current=0,g(!0),setTimeout(()=>{var E;(E=x.current)==null||E.focus()},0),f("")))},y=()=>{m?(g(!1),a.current=l.length-1,f(l[a.current])):a.current>0&&(a.current--,f(l[a.current]))};return c.jsx(ar,{title:r,trigger:o,open:e,onOpenChange:t,desc:`This dialog displays the level goals and instructions for the
            ${r} level. You can close it by clicking the close button or
            pressing the escape key.`,children:c.jsxs("div",{className:"flex flex-col gap-5",children:[c.jsxs("div",{className:"flex flex-1 flex-row",children:[c.jsx("div",{className:"my-auto w-1/3 pr-4",children:c.jsx("div",{style:{aspectRatio:"1 / 1",width:"100%",backgroundImage:"url('/game/sprites/raccoon_spritesheet.png')",backgroundPosition:"0 0",backgroundSize:"400% 400%",backgroundRepeat:"no-repeat",imageRendering:"pixelated"}})}),c.jsxs("div",{className:"relative my-auto h-36 w-full rounded-lg bg-slate-700 p-4 text-white shadow-lg",children:[c.jsx("div",{className:"absolute top-1/2 -left-2.5 h-0 w-0 -translate-y-1/2 border-t-10 border-r-10 border-b-10 border-t-transparent border-r-slate-700 border-b-transparent"}),c.jsx("p",{className:"h-full overflow-auto pr-2 text-lg italic [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-slate-500 [&::-webkit-scrollbar-track]:rounded-full [&::-webkit-scrollbar-track]:bg-slate-900",children:m?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"not-italic",children:"Goals:"}),s.map(E=>c.jsx("li",{className:"text-lg italic",children:E},E.slice(0,20)))]}):d})]})]}),c.jsxs("div",{className:"flex flex-row justify-end gap-5",children:[c.jsx("button",{onClick:y,disabled:m?!1:a.current===0,className:qe("rounded-lg bg-slate-700/80 px-3 py-2 focus:outline-1 focus:outline-blue-300",!m&&a.current===0?"opacity-50":"cursor-pointer hover:bg-slate-600"),children:"Previous"}),m?c.jsx(Ue,{asChild:!0,children:c.jsx("button",{ref:x,className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Start"})}):c.jsx("button",{onClick:v,className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Next"})]})]})})},Ga=()=>{const e=ae(r=>r.currentLevel),t=ae(r=>r.isPaused),n=ae(r=>r.play),o=ae(r=>r.pause);return c.jsxs(gt,{position:"top-left",className:"flex flex-col items-center justify-center gap-2",children:[c.jsx(Ce,{tooltip:"Play/Pause",side:"right",onClick:()=>{t?n():o()},children:t?c.jsx(Bs,{className:"text-white"}):c.jsx(Vs,{className:"text-white"})}),c.jsx(Ce,{tooltip:"Reset Level",side:"right",onClick:()=>{Vt.getState().reset(),Me.getState().reset(),Jn.getState().reset(),Re.getState().init(fe[e].modifiableGameObjects)},children:c.jsx(Ys,{className:"text-white"})}),c.jsx(lr,{skip:!0,trigger:c.jsx(Ce,{tooltip:"Level Info",side:"right",children:c.jsx(Xs,{className:"text-white"})})})]})},sn=({x:e,y:t,onClose:n,parentLoopId:o,children:r,parentId:s})=>{const l=ae(S=>S.currentLevel),a=fe[l].availableNodes,d=Object.values(mi).flat(),{addNodes:u,addEdges:p,screenToFlowPosition:f,getNodes:m,getNode:g}=ge(),x=i.useRef(null),[v,y]=i.useState(""),[h,b]=i.useState(0),[E,w]=i.useState(a.map(S=>({nodeType:S}))),I=g(s??"");i.useEffect(()=>{var S;(S=x.current)==null||S.focus()},[]),i.useEffect(()=>{const S=a.filter(_=>_.toLowerCase().includes(v.toLowerCase())).map(_=>({nodeType:_}));if(v===""||!a.some(_=>_==="MathFloat"))return w(S);const D=d.filter(_=>_.toLowerCase().includes(v.toLowerCase())).map(_=>({nodeType:"MathFloat",computeType:_})),T=[...S,...D];w(T),b(0)},[v]);const N=(S,D)=>{const T=f({x:e,y:t}),_={x:I?T.x-I.position.x:T.x,y:I?T.y-I.position.y:T.y},H={x:I?T.x-I.position.x+300:T.x+300,y:I?T.y-I.position.y:T.y},U=[],G=[];if(S==="ForLoop"){const W=oi(_,H,o,s);U.push(W.mainConnectorEdge),G.push(...W.nodes)}else G.push(P(S,D));if(u(G),o){const W=m().filter(q=>q.data.loopId===o);U.push(...ri(W,G.map(q=>q.id)))}p(U),n()},P=(S,D)=>{const T=si(),_=f({x:e,y:t}),H={x:I?_.x-I.position.x:_.x,y:I?_.y-I.position.y:_.y};return{id:T,type:S,position:H,parentId:s,data:{initialComputeType:D,parentLoopId:o},height:S==="Group"?wn.height:void 0,width:S==="Group"?wn.width:void 0,selected:!1,dragging:!1}},C=S=>{if(S.key==="ArrowDown")S.preventDefault(),b(D=>(D+1)%E.length);else if(S.key==="ArrowUp")S.preventDefault(),b(D=>(D-1+E.length)%E.length);else if(S.key==="Enter"){S.preventDefault();const D=E[h];D&&N(D.nodeType,D.computeType)}};return i.useEffect(()=>(window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)),[E,h]),c.jsxs("div",{className:"flex w-65 flex-col gap-2 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:[c.jsx("div",{className:"shadow",children:c.jsx("input",{ref:x,type:"text",spellCheck:"false",placeholder:"Search",className:"w-full rounded bg-slate-900 p-2 text-sm text-white focus:border-gray-300 focus:ring-0 focus:outline-none",onChange:S=>y(S.target.value)})}),c.jsx("div",{className:"flex flex-col gap-1",children:E.map((S,D)=>c.jsx("button",{className:qe("w-full cursor-pointer rounded px-2 py-1 text-left text-sm text-white",h===D?"bg-slate-700":"hover:bg-slate-700"),onClick:()=>N(S.nodeType,S.computeType),children:S.computeType?c.jsxs("span",{children:[c.jsx("span",{className:"text-slate-400",children:S.nodeType}),c.jsx(Zs,{className:"inline-block h-4 w-4 text-slate-400"}),c.jsx("span",{className:"",children:S.computeType})]}):c.jsx(c.Fragment,{children:S.nodeType})},`add_node_${S}_${D}`))}),v===""&&c.jsx(c.Fragment,{children:r})]})},Ua=({nodeId:e,nodeType:t,nodeLoopId:n,x:o,y:r,onClose:s,nodeParentId:l})=>c.jsx("div",{style:{position:"absolute",top:r,left:o,zIndex:1e3},children:t==="ForStart"||t==="ForEnd"?c.jsxs(sn,{onClose:s,x:o,y:r,parentLoopId:n,parentId:l,children:[c.jsx("hr",{className:"mx-auto h-1 w-44 rounded-sm border-0 bg-slate-700"}),c.jsx(On,{nodeId:e,onClose:s})]}):c.jsx("div",{className:"flex w-36 flex-col gap-1 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:c.jsx(On,{nodeId:e,onClose:s})})}),On=({nodeId:e,onClose:t})=>{const{getNode:n,getNodes:o,getEdges:r,setNodes:s,setEdges:l}=ge(),a=i.useCallback(()=>{const u=n(e);if(!u)return;const p=o().filter(f=>f.id===u.id||f.parentId===u.id||(f.data.loopId===u.data.loopId||f.data.parentLoopId===u.data.loopId)&&u.data.loopId!=null);Qn(p,r,o,l,s),t()},[r,n,o,e,t,l,s]),d=i.useCallback(()=>{var p;const u=[e];if(((p=n(e))==null?void 0:p.type)==="Group"){const f=o().filter(g=>g.parentId===e),m=n(e);s(g=>g.map(x=>f.some(v=>v.id===x.id)?{...x,position:{x:m?x.position.x+m.position.x:x.position.x,y:m?x.position.y+m.position.y:x.position.y},parentId:void 0}:x))}s(f=>f.filter(m=>!u.includes(m.id))),l(f=>f.filter(m=>!(u.includes(m.source)||u.includes(m.target)))),t()},[e,n,s,l,t,o]);return c.jsxs(c.Fragment,{children:[c.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:a,children:[c.jsx("span",{children:"Duplicate"}),c.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:"Ctrl+D"})]}),c.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:d,children:[c.jsx("span",{children:"Delete"}),c.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:"Del"})]})]})},Wa=({x:e,y:t,onClose:n})=>c.jsx("div",{style:{position:"absolute",top:t,left:e,zIndex:1e3},children:c.jsx(sn,{onClose:n,x:e,y:t})});var Ka="DismissableLayer",Ut="dismissableLayer.update",Ba="dismissableLayer.pointerDownOutside",Va="dismissableLayer.focusOutside",Tn,cr=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ur=i.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:l,onDismiss:a,...d}=e,u=i.useContext(cr),[p,f]=i.useState(null),m=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=i.useState({}),x=Z(t,P=>f(P)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),h=v.indexOf(y),b=p?v.indexOf(p):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=h,I=Za(P=>{const C=P.target,S=[...u.branches].some(D=>D.contains(C));!w||S||(r==null||r(P),l==null||l(P),P.defaultPrevented||a==null||a())},m),N=qa(P=>{const C=P.target;[...u.branches].some(D=>D.contains(C))||(s==null||s(P),l==null||l(P),P.defaultPrevented||a==null||a())},m);return to(P=>{b===u.layers.size-1&&(o==null||o(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},m),i.useEffect(()=>{if(p)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Tn=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(p)),u.layers.add(p),Ln(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Tn)}},[p,m,n,u]),i.useEffect(()=>()=>{p&&(u.layers.delete(p),u.layersWithOutsidePointerEventsDisabled.delete(p),Ln())},[p,u]),i.useEffect(()=>{const P=()=>g({});return document.addEventListener(Ut,P),()=>document.removeEventListener(Ut,P)},[]),c.jsx(se.div,{...d,ref:x,style:{pointerEvents:E?w?"auto":"none":void 0,...e.style},onFocusCapture:$(e.onFocusCapture,N.onFocusCapture),onBlurCapture:$(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:$(e.onPointerDownCapture,I.onPointerDownCapture)})});ur.displayName=Ka;var Ya="DismissableLayerBranch",Xa=i.forwardRef((e,t)=>{const n=i.useContext(cr),o=i.useRef(null),r=Z(t,o);return i.useEffect(()=>{const s=o.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),c.jsx(se.div,{...e,ref:r})});Xa.displayName=Ya;function Za(e,t=globalThis==null?void 0:globalThis.document){const n=re(e),o=i.useRef(!1),r=i.useRef(()=>{});return i.useEffect(()=>{const s=a=>{if(a.target&&!o.current){let d=function(){dr(Ba,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=d,t.addEventListener("click",r.current,{once:!0})):d()}else t.removeEventListener("click",r.current);o.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function qa(e,t=globalThis==null?void 0:globalThis.document){const n=re(e),o=i.useRef(!1);return i.useEffect(()=>{const r=s=>{s.target&&!o.current&&dr(Va,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Ln(){const e=new CustomEvent(Ut);document.dispatchEvent(e)}function dr(e,t,n,{discrete:o}){const r=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),o?bo(r,s):r.dispatchEvent(s)}var Tt="focusScope.autoFocusOnMount",Lt="focusScope.autoFocusOnUnmount",$n={bubbles:!1,cancelable:!0},Ja="FocusScope",fr=i.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...l}=e,[a,d]=i.useState(null),u=re(r),p=re(s),f=i.useRef(null),m=Z(t,v=>d(v)),g=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(o){let v=function(E){if(g.paused||!a)return;const w=E.target;a.contains(w)?f.current=w:be(f.current,{select:!0})},y=function(E){if(g.paused||!a)return;const w=E.relatedTarget;w!==null&&(a.contains(w)||be(f.current,{select:!0}))},h=function(E){if(document.activeElement===document.body)for(const I of E)I.removedNodes.length>0&&be(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const b=new MutationObserver(h);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),b.disconnect()}}},[o,a,g.paused]),i.useEffect(()=>{if(a){kn.add(g);const v=document.activeElement;if(!a.contains(v)){const h=new CustomEvent(Tt,$n);a.addEventListener(Tt,u),a.dispatchEvent(h),h.defaultPrevented||(Qa(rl(pr(a)),{select:!0}),document.activeElement===v&&be(a))}return()=>{a.removeEventListener(Tt,u),setTimeout(()=>{const h=new CustomEvent(Lt,$n);a.addEventListener(Lt,p),a.dispatchEvent(h),h.defaultPrevented||be(v??document.body,{select:!0}),a.removeEventListener(Lt,p),kn.remove(g)},0)}}},[a,u,p,g]);const x=i.useCallback(v=>{if(!n&&!o||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,h=document.activeElement;if(y&&h){const b=v.currentTarget,[E,w]=el(b);E&&w?!v.shiftKey&&h===w?(v.preventDefault(),n&&be(E,{select:!0})):v.shiftKey&&h===E&&(v.preventDefault(),n&&be(w,{select:!0})):h===b&&v.preventDefault()}},[n,o,g.paused]);return c.jsx(se.div,{tabIndex:-1,...l,ref:m,onKeyDown:x})});fr.displayName=Ja;function Qa(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(be(o,{select:t}),document.activeElement!==n)return}function el(e){const t=pr(e),n=Fn(t,e),o=Fn(t.reverse(),e);return[n,o]}function pr(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fn(e,t){for(const n of e)if(!tl(n,{upTo:t}))return n}function tl(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nl(e){return e instanceof HTMLInputElement&&"select"in e}function be(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&nl(e)&&t&&e.select()}}var kn=ol();function ol(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=zn(e,t),e.unshift(t)},remove(t){var n;e=zn(e,t),(n=e[0])==null||n.resume()}}}function zn(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function rl(e){return e.filter(t=>t.tagName!=="A")}var sl="Arrow",mr=i.forwardRef((e,t)=>{const{children:n,width:o=10,height:r=5,...s}=e;return c.jsx(se.svg,{...s,ref:t,width:o,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});mr.displayName=sl;var il=mr,an="Popper",[hr,gr]=Oe(an),[al,vr]=hr(an),xr=e=>{const{__scopePopper:t,children:n}=e,[o,r]=i.useState(null);return c.jsx(al,{scope:t,anchor:o,onAnchorChange:r,children:n})};xr.displayName=an;var yr="PopperAnchor",br=i.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...r}=e,s=vr(yr,n),l=i.useRef(null),a=Z(t,l);return i.useEffect(()=>{s.onAnchorChange((o==null?void 0:o.current)||l.current)}),o?null:c.jsx(se.div,{...r,ref:a})});br.displayName=yr;var ln="PopperContent",[ll,cl]=hr(ln),wr=i.forwardRef((e,t)=>{var M,L,k,B,ne,oe;const{__scopePopper:n,side:o="bottom",sideOffset:r=0,align:s="center",alignOffset:l=0,arrowPadding:a=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:p=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=e,y=vr(ln,n),[h,b]=i.useState(null),E=Z(t,K=>b(K)),[w,I]=i.useState(null),N=no(w),P=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,S=o+(s!=="center"?"-"+s:""),D=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},T=Array.isArray(u)?u:[u],_=T.length>0,H={padding:D,boundary:T.filter(dl),altBoundary:_},{refs:U,floatingStyles:G,placement:W,isPositioned:q,middlewareData:Y}=oo({strategy:"fixed",placement:S,whileElementsMounted:(...K)=>fo(...K,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[ro({mainAxis:r+C,alignmentAxis:l}),d&&so({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uo():void 0,...H}),d&&io({...H}),ao({...H,apply:({elements:K,rects:te,availableWidth:me,availableHeight:xe})=>{const{width:Se,height:ee}=te.reference,ce=K.floating.style;ce.setProperty("--radix-popper-available-width",`${me}px`),ce.setProperty("--radix-popper-available-height",`${xe}px`),ce.setProperty("--radix-popper-anchor-width",`${Se}px`),ce.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),w&&lo({element:w,padding:a}),fl({arrowWidth:P,arrowHeight:C}),m&&co({strategy:"referenceHidden",...H})]}),[A,J]=Pr(W),V=re(x);We(()=>{q&&(V==null||V())},[q,V]);const Q=(M=Y.arrow)==null?void 0:M.x,R=(L=Y.arrow)==null?void 0:L.y,O=((k=Y.arrow)==null?void 0:k.centerOffset)!==0,[F,j]=i.useState();return We(()=>{h&&j(window.getComputedStyle(h).zIndex)},[h]),c.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[(B=Y.transformOrigin)==null?void 0:B.x,(ne=Y.transformOrigin)==null?void 0:ne.y].join(" "),...((oe=Y.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(ll,{scope:n,placedSide:A,onArrowChange:I,arrowX:Q,arrowY:R,shouldHideArrow:O,children:c.jsx(se.div,{"data-side":A,"data-align":J,...v,ref:E,style:{...v.style,animation:q?void 0:"none"}})})})});wr.displayName=ln;var Er="PopperArrow",ul={top:"bottom",right:"left",bottom:"top",left:"right"},Cr=i.forwardRef(function(t,n){const{__scopePopper:o,...r}=t,s=cl(Er,o),l=ul[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(il,{...r,ref:n,style:{...r.style,display:"block"}})})});Cr.displayName=Er;function dl(e){return e!==null}var fl=e=>({name:"transformOrigin",options:e,fn(t){var y,h,b;const{placement:n,rects:o,middlewareData:r}=t,l=((y=r.arrow)==null?void 0:y.centerOffset)!==0,a=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,p]=Pr(n),f={start:"0%",center:"50%",end:"100%"}[p],m=(((h=r.arrow)==null?void 0:h.x)??0)+a/2,g=(((b=r.arrow)==null?void 0:b.y)??0)+d/2;let x="",v="";return u==="bottom"?(x=l?f:`${m}px`,v=`${-d}px`):u==="top"?(x=l?f:`${m}px`,v=`${o.floating.height+d}px`):u==="right"?(x=`${-d}px`,v=l?f:`${g}px`):u==="left"&&(x=`${o.floating.width+d}px`,v=l?f:`${g}px`),{data:{x,y:v}}}});function Pr(e){const[t,n="center"]=e.split("-");return[t,n]}var pl=xr,ml=br,hl=wr,gl=Cr,vl="Portal",Sr=i.forwardRef((e,t)=>{var a;const{container:n,...o}=e,[r,s]=i.useState(!1);We(()=>s(!0),[]);const l=n||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return l?wo.createPortal(c.jsx(se.div,{...o,ref:t}),l):null});Sr.displayName=vl;var $t="rovingFocusGroup.onEntryFocus",xl={bubbles:!1,cancelable:!0},ot="RovingFocusGroup",[Wt,Nr,yl]=po(ot),[bl,Ir]=Oe(ot,[yl]),[wl,El]=bl(ot),Rr=i.forwardRef((e,t)=>c.jsx(Wt.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Wt.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Cl,{...e,ref:t})})}));Rr.displayName=ot;var Cl=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:r=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:p=!1,...f}=e,m=i.useRef(null),g=Z(t,m),x=mo(s),[v,y]=vt({prop:l,defaultProp:a??null,onChange:d,caller:ot}),[h,b]=i.useState(!1),E=re(u),w=Nr(n),I=i.useRef(!1),[N,P]=i.useState(0);return i.useEffect(()=>{const C=m.current;if(C)return C.addEventListener($t,E),()=>C.removeEventListener($t,E)},[E]),c.jsx(wl,{scope:n,orientation:o,dir:x,loop:r,currentTabStopId:v,onItemFocus:i.useCallback(C=>y(C),[y]),onItemShiftTab:i.useCallback(()=>b(!0),[]),onFocusableItemAdd:i.useCallback(()=>P(C=>C+1),[]),onFocusableItemRemove:i.useCallback(()=>P(C=>C-1),[]),children:c.jsx(se.div,{tabIndex:h||N===0?-1:0,"data-orientation":o,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:$(e.onMouseDown,()=>{I.current=!0}),onFocus:$(e.onFocus,C=>{const S=!I.current;if(C.target===C.currentTarget&&S&&!h){const D=new CustomEvent($t,xl);if(C.currentTarget.dispatchEvent(D),!D.defaultPrevented){const T=w().filter(W=>W.focusable),_=T.find(W=>W.active),H=T.find(W=>W.id===v),G=[_,H,...T].filter(Boolean).map(W=>W.ref.current);Dr(G,p)}}I.current=!1}),onBlur:$(e.onBlur,()=>b(!1))})})}),Mr="RovingFocusGroupItem",_r=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:r=!1,tabStopId:s,children:l,...a}=e,d=_e(),u=s||d,p=El(Mr,n),f=p.currentTabStopId===u,m=Nr(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=p;return i.useEffect(()=>{if(o)return g(),()=>x()},[o,g,x]),c.jsx(Wt.ItemSlot,{scope:n,id:u,focusable:o,active:r,children:c.jsx(se.span,{tabIndex:f?0:-1,"data-orientation":p.orientation,...a,ref:t,onMouseDown:$(e.onMouseDown,y=>{o?p.onItemFocus(u):y.preventDefault()}),onFocus:$(e.onFocus,()=>p.onItemFocus(u)),onKeyDown:$(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){p.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const h=Nl(y,p.orientation,p.dir);if(h!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let E=m().filter(w=>w.focusable).map(w=>w.ref.current);if(h==="last")E.reverse();else if(h==="prev"||h==="next"){h==="prev"&&E.reverse();const w=E.indexOf(y.currentTarget);E=p.loop?Il(E,w+1):E.slice(w+1)}setTimeout(()=>Dr(E))}}),children:typeof l=="function"?l({isCurrentTabStop:f,hasTabStop:v!=null}):l})})});_r.displayName=Mr;var Pl={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Sl(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Nl(e,t,n){const o=Sl(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Pl[o]}function Dr(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function Il(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Rl=Rr,Ml=_r;function _l(e){const t=Dl(e),n=i.forwardRef((o,r)=>{const{children:s,...l}=o,a=i.Children.toArray(s),d=a.find(Al);if(d){const u=d.props.children,p=a.map(f=>f===d?i.Children.count(u)>1?i.Children.only(null):i.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...l,ref:r,children:i.isValidElement(u)?i.cloneElement(u,void 0,p):null})}return c.jsx(t,{...l,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}function Dl(e){const t=i.forwardRef((n,o)=>{const{children:r,...s}=n;if(i.isValidElement(r)){const l=Tl(r),a=Ol(s,r.props);return r.type!==i.Fragment&&(a.ref=o?Te(o,l):l),i.cloneElement(r,a)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jl=Symbol("radix.slottable");function Al(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jl}function Ol(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{s(...a),r(...a)}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function Tl(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Kt=["Enter"," "],Ll=["ArrowDown","PageUp","Home"],jr=["ArrowUp","PageDown","End"],$l=[...Ll,...jr],Fl={ltr:[...Kt,"ArrowRight"],rtl:[...Kt,"ArrowLeft"]},kl={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rt="Menu",[et,zl,Hl]=po(rt),[Le,Ar]=Oe(rt,[Hl,gr,Ir]),Ct=gr(),Or=Ir(),[Gl,$e]=Le(rt),[Ul,st]=Le(rt),Tr=e=>{const{__scopeMenu:t,open:n=!1,children:o,dir:r,onOpenChange:s,modal:l=!0}=e,a=Ct(t),[d,u]=i.useState(null),p=i.useRef(!1),f=re(s),m=mo(r);return i.useEffect(()=>{const g=()=>{p.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>p.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),c.jsx(pl,{...a,children:c.jsx(Gl,{scope:t,open:n,onOpenChange:f,content:d,onContentChange:u,children:c.jsx(Ul,{scope:t,onClose:i.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:p,dir:m,modal:l,children:o})})})};Tr.displayName=rt;var Wl="MenuAnchor",cn=i.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,r=Ct(n);return c.jsx(ml,{...r,...o,ref:t})});cn.displayName=Wl;var un="MenuPortal",[Kl,Lr]=Le(un,{forceMount:void 0}),$r=e=>{const{__scopeMenu:t,forceMount:n,children:o,container:r}=e,s=$e(un,t);return c.jsx(Kl,{scope:t,forceMount:n,children:c.jsx(ve,{present:n||s.open,children:c.jsx(Sr,{asChild:!0,container:r,children:o})})})};$r.displayName=un;var ue="MenuContent",[Bl,dn]=Le(ue),Fr=i.forwardRef((e,t)=>{const n=Lr(ue,e.__scopeMenu),{forceMount:o=n.forceMount,...r}=e,s=$e(ue,e.__scopeMenu),l=st(ue,e.__scopeMenu);return c.jsx(et.Provider,{scope:e.__scopeMenu,children:c.jsx(ve,{present:o||s.open,children:c.jsx(et.Slot,{scope:e.__scopeMenu,children:l.modal?c.jsx(Vl,{...r,ref:t}):c.jsx(Yl,{...r,ref:t})})})})}),Vl=i.forwardRef((e,t)=>{const n=$e(ue,e.__scopeMenu),o=i.useRef(null),r=Z(t,o);return i.useEffect(()=>{const s=o.current;if(s)return Xt(s)},[]),c.jsx(fn,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:$(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Yl=i.forwardRef((e,t)=>{const n=$e(ue,e.__scopeMenu);return c.jsx(fn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Xl=_l("MenuContent.ScrollLock"),fn=i.forwardRef((e,t)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:a,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...v}=e,y=$e(ue,n),h=st(ue,n),b=Ct(n),E=Or(n),w=zl(n),[I,N]=i.useState(null),P=i.useRef(null),C=Z(t,P,y.onContentChange),S=i.useRef(0),D=i.useRef(""),T=i.useRef(0),_=i.useRef(null),H=i.useRef("right"),U=i.useRef(0),G=x?Yt:i.Fragment,W=x?{as:Xl,allowPinchZoom:!0}:void 0,q=A=>{var M,L;const J=D.current+A,V=w().filter(k=>!k.disabled),Q=document.activeElement,R=(M=V.find(k=>k.ref.current===Q))==null?void 0:M.textValue,O=V.map(k=>k.textValue),F=ac(O,J,R),j=(L=V.find(k=>k.textValue===F))==null?void 0:L.ref.current;(function k(B){D.current=B,window.clearTimeout(S.current),B!==""&&(S.current=window.setTimeout(()=>k(""),1e3))})(J),j&&setTimeout(()=>j.focus())};i.useEffect(()=>()=>window.clearTimeout(S.current),[]),Zt();const Y=i.useCallback(A=>{var V,Q;return H.current===((V=_.current)==null?void 0:V.side)&&cc(A,(Q=_.current)==null?void 0:Q.area)},[]);return c.jsx(Bl,{scope:n,searchRef:D,onItemEnter:i.useCallback(A=>{Y(A)&&A.preventDefault()},[Y]),onItemLeave:i.useCallback(A=>{var J;Y(A)||((J=P.current)==null||J.focus(),N(null))},[Y]),onTriggerLeave:i.useCallback(A=>{Y(A)&&A.preventDefault()},[Y]),pointerGraceTimerRef:T,onPointerGraceIntentChange:i.useCallback(A=>{_.current=A},[]),children:c.jsx(G,{...W,children:c.jsx(fr,{asChild:!0,trapped:r,onMountAutoFocus:$(s,A=>{var J;A.preventDefault(),(J=P.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:c.jsx(ur,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:c.jsx(Rl,{asChild:!0,...E,dir:h.dir,orientation:"vertical",loop:o,currentTabStopId:I,onCurrentTabStopIdChange:N,onEntryFocus:$(d,A=>{h.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(hl,{role:"menu","aria-orientation":"vertical","data-state":es(y.open),"data-radix-menu-content":"",dir:h.dir,...b,...v,ref:C,style:{outline:"none",...v.style},onKeyDown:$(v.onKeyDown,A=>{const V=A.target.closest("[data-radix-menu-content]")===A.currentTarget,Q=A.ctrlKey||A.altKey||A.metaKey,R=A.key.length===1;V&&(A.key==="Tab"&&A.preventDefault(),!Q&&R&&q(A.key));const O=P.current;if(A.target!==O||!$l.includes(A.key))return;A.preventDefault();const j=w().filter(M=>!M.disabled).map(M=>M.ref.current);jr.includes(A.key)&&j.reverse(),sc(j)}),onBlur:$(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(S.current),D.current="")}),onPointerMove:$(e.onPointerMove,tt(A=>{const J=A.target,V=U.current!==A.clientX;if(A.currentTarget.contains(J)&&V){const Q=A.clientX>U.current?"right":"left";H.current=Q,U.current=A.clientX}}))})})})})})})});Fr.displayName=ue;var Zl="MenuGroup",pn=i.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return c.jsx(se.div,{role:"group",...o,ref:t})});pn.displayName=Zl;var ql="MenuLabel",kr=i.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return c.jsx(se.div,{...o,ref:t})});kr.displayName=ql;var mt="MenuItem",Hn="menu.itemSelect",Pt=i.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:o,...r}=e,s=i.useRef(null),l=st(mt,e.__scopeMenu),a=dn(mt,e.__scopeMenu),d=Z(t,s),u=i.useRef(!1),p=()=>{const f=s.current;if(!n&&f){const m=new CustomEvent(Hn,{bubbles:!0,cancelable:!0});f.addEventListener(Hn,g=>o==null?void 0:o(g),{once:!0}),bo(f,m),m.defaultPrevented?u.current=!1:l.onClose()}};return c.jsx(zr,{...r,ref:d,disabled:n,onClick:$(e.onClick,p),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:$(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:$(e.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||Kt.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Pt.displayName=mt;var zr=i.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:o=!1,textValue:r,...s}=e,l=dn(mt,n),a=Or(n),d=i.useRef(null),u=Z(t,d),[p,f]=i.useState(!1),[m,g]=i.useState("");return i.useEffect(()=>{const x=d.current;x&&g((x.textContent??"").trim())},[s.children]),c.jsx(et.ItemSlot,{scope:n,disabled:o,textValue:r??m,children:c.jsx(Ml,{asChild:!0,...a,focusable:!o,children:c.jsx(se.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...s,ref:u,onPointerMove:$(e.onPointerMove,tt(x=>{o?l.onItemLeave(x):(l.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$(e.onPointerLeave,tt(x=>l.onItemLeave(x))),onFocus:$(e.onFocus,()=>f(!0)),onBlur:$(e.onBlur,()=>f(!1))})})})}),Jl="MenuCheckboxItem",Hr=i.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:o,...r}=e;return c.jsx(Br,{scope:e.__scopeMenu,checked:n,children:c.jsx(Pt,{role:"menuitemcheckbox","aria-checked":ht(n)?"mixed":n,...r,ref:t,"data-state":hn(n),onSelect:$(r.onSelect,()=>o==null?void 0:o(ht(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Hr.displayName=Jl;var Gr="MenuRadioGroup",[Ql,ec]=Le(Gr,{value:void 0,onValueChange:()=>{}}),Ur=i.forwardRef((e,t)=>{const{value:n,onValueChange:o,...r}=e,s=re(o);return c.jsx(Ql,{scope:e.__scopeMenu,value:n,onValueChange:s,children:c.jsx(pn,{...r,ref:t})})});Ur.displayName=Gr;var Wr="MenuRadioItem",Kr=i.forwardRef((e,t)=>{const{value:n,...o}=e,r=ec(Wr,e.__scopeMenu),s=n===r.value;return c.jsx(Br,{scope:e.__scopeMenu,checked:s,children:c.jsx(Pt,{role:"menuitemradio","aria-checked":s,...o,ref:t,"data-state":hn(s),onSelect:$(o.onSelect,()=>{var l;return(l=r.onValueChange)==null?void 0:l.call(r,n)},{checkForDefaultPrevented:!1})})})});Kr.displayName=Wr;var mn="MenuItemIndicator",[Br,tc]=Le(mn,{checked:!1}),Vr=i.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:o,...r}=e,s=tc(mn,n);return c.jsx(ve,{present:o||ht(s.checked)||s.checked===!0,children:c.jsx(se.span,{...r,ref:t,"data-state":hn(s.checked)})})});Vr.displayName=mn;var nc="MenuSeparator",Yr=i.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return c.jsx(se.div,{role:"separator","aria-orientation":"horizontal",...o,ref:t})});Yr.displayName=nc;var oc="MenuArrow",Xr=i.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,r=Ct(n);return c.jsx(gl,{...r,...o,ref:t})});Xr.displayName=oc;var rc="MenuSub",[Md,Zr]=Le(rc),Ze="MenuSubTrigger",qr=i.forwardRef((e,t)=>{const n=$e(Ze,e.__scopeMenu),o=st(Ze,e.__scopeMenu),r=Zr(Ze,e.__scopeMenu),s=dn(Ze,e.__scopeMenu),l=i.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:d}=s,u={__scopeMenu:e.__scopeMenu},p=i.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return i.useEffect(()=>p,[p]),i.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),d(null)}},[a,d]),c.jsx(cn,{asChild:!0,...u,children:c.jsx(zr,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":es(n.open),...e,ref:Te(t,r.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:$(e.onPointerMove,tt(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:$(e.onPointerLeave,tt(f=>{var g,x;p();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(x=n.content)==null?void 0:x.dataset.side,y=v==="right",h=y?-5:5,b=m[y?"left":"right"],E=m[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+h,y:f.clientY},{x:b,y:m.top},{x:E,y:m.top},{x:E,y:m.bottom},{x:b,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:$(e.onKeyDown,f=>{var g;const m=s.searchRef.current!=="";e.disabled||m&&f.key===" "||Fl[o.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});qr.displayName=Ze;var Jr="MenuSubContent",Qr=i.forwardRef((e,t)=>{const n=Lr(ue,e.__scopeMenu),{forceMount:o=n.forceMount,...r}=e,s=$e(ue,e.__scopeMenu),l=st(ue,e.__scopeMenu),a=Zr(Jr,e.__scopeMenu),d=i.useRef(null),u=Z(t,d);return c.jsx(et.Provider,{scope:e.__scopeMenu,children:c.jsx(ve,{present:o||s.open,children:c.jsx(et.Slot,{scope:e.__scopeMenu,children:c.jsx(fn,{id:a.contentId,"aria-labelledby":a.triggerId,...r,ref:u,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var f;l.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:$(e.onFocusOutside,p=>{p.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:$(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:$(e.onKeyDown,p=>{var g;const f=p.currentTarget.contains(p.target),m=kl[l.dir].includes(p.key);f&&m&&(s.onOpenChange(!1),(g=a.trigger)==null||g.focus(),p.preventDefault())})})})})})});Qr.displayName=Jr;function es(e){return e?"open":"closed"}function ht(e){return e==="indeterminate"}function hn(e){return ht(e)?"indeterminate":e?"checked":"unchecked"}function sc(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function ic(e,t){return e.map((n,o)=>e[(t+o)%e.length])}function ac(e,t,n){const r=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=ic(e,Math.max(s,0));r.length===1&&(l=l.filter(u=>u!==n));const d=l.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return d!==n?d:void 0}function lc(e,t){const{x:n,y:o}=e;let r=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const a=t[s],d=t[l],u=a.x,p=a.y,f=d.x,m=d.y;p>o!=m>o&&n<(f-u)*(o-p)/(m-p)+u&&(r=!r)}return r}function cc(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return lc(n,t)}function tt(e){return t=>t.pointerType==="mouse"?e(t):void 0}var uc=Tr,dc=cn,fc=$r,pc=Fr,mc=pn,hc=kr,gc=Pt,vc=Hr,xc=Ur,yc=Kr,bc=Vr,wc=Yr,Ec=Xr,Cc=qr,Pc=Qr,St="DropdownMenu",[Sc,_d]=Oe(St,[Ar]),ie=Ar(),[Nc,ts]=Sc(St),ns=e=>{const{__scopeDropdownMenu:t,children:n,dir:o,open:r,defaultOpen:s,onOpenChange:l,modal:a=!0}=e,d=ie(t),u=i.useRef(null),[p,f]=vt({prop:r,defaultProp:s??!1,onChange:l,caller:St});return c.jsx(Nc,{scope:t,triggerId:_e(),triggerRef:u,contentId:_e(),open:p,onOpenChange:f,onOpenToggle:i.useCallback(()=>f(m=>!m),[f]),modal:a,children:c.jsx(uc,{...d,open:p,onOpenChange:f,dir:o,modal:a,children:n})})};ns.displayName=St;var os="DropdownMenuTrigger",rs=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...r}=e,s=ts(os,n),l=ie(n);return c.jsx(dc,{asChild:!0,...l,children:c.jsx(se.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...r,ref:Te(t,s.triggerRef),onPointerDown:$(e.onPointerDown,a=>{!o&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:$(e.onKeyDown,a=>{o||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});rs.displayName=os;var Ic="DropdownMenuPortal",ss=e=>{const{__scopeDropdownMenu:t,...n}=e,o=ie(t);return c.jsx(fc,{...o,...n})};ss.displayName=Ic;var is="DropdownMenuContent",as=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ts(is,n),s=ie(n),l=i.useRef(!1);return c.jsx(pc,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...o,ref:t,onCloseAutoFocus:$(e.onCloseAutoFocus,a=>{var d;l.current||(d=r.triggerRef.current)==null||d.focus(),l.current=!1,a.preventDefault()}),onInteractOutside:$(e.onInteractOutside,a=>{const d=a.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,p=d.button===2||u;(!r.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});as.displayName=is;var Rc="DropdownMenuGroup",Mc=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ie(n);return c.jsx(mc,{...r,...o,ref:t})});Mc.displayName=Rc;var _c="DropdownMenuLabel",Dc=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ie(n);return c.jsx(hc,{...r,...o,ref:t})});Dc.displayName=_c;var jc="DropdownMenuItem",Ac=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ie(n);return c.jsx(gc,{...r,...o,ref:t})});Ac.displayName=jc;var Oc="DropdownMenuCheckboxItem",Tc=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ie(n);return c.jsx(vc,{...r,...o,ref:t})});Tc.displayName=Oc;var Lc="DropdownMenuRadioGroup",$c=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ie(n);return c.jsx(xc,{...r,...o,ref:t})});$c.displayName=Lc;var Fc="DropdownMenuRadioItem",kc=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ie(n);return c.jsx(yc,{...r,...o,ref:t})});kc.displayName=Fc;var zc="DropdownMenuItemIndicator",Hc=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ie(n);return c.jsx(bc,{...r,...o,ref:t})});Hc.displayName=zc;var Gc="DropdownMenuSeparator",Uc=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ie(n);return c.jsx(wc,{...r,...o,ref:t})});Uc.displayName=Gc;var Wc="DropdownMenuArrow",Kc=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ie(n);return c.jsx(Ec,{...r,...o,ref:t})});Kc.displayName=Wc;var Bc="DropdownMenuSubTrigger",Vc=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ie(n);return c.jsx(Cc,{...r,...o,ref:t})});Vc.displayName=Bc;var Yc="DropdownMenuSubContent",Xc=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=ie(n);return c.jsx(Pc,{...r,...o,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xc.displayName=Yc;function ls(e){const t=Zc(e),n=i.forwardRef((o,r)=>{const{children:s,...l}=o,a=i.Children.toArray(s),d=a.find(Jc);if(d){const u=d.props.children,p=a.map(f=>f===d?i.Children.count(u)>1?i.Children.only(null):i.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...l,ref:r,children:i.isValidElement(u)?i.cloneElement(u,void 0,p):null})}return c.jsx(t,{...l,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}function Zc(e){const t=i.forwardRef((n,o)=>{const{children:r,...s}=n;if(i.isValidElement(r)){const l=eu(r),a=Qc(s,r.props);return r.type!==i.Fragment&&(a.ref=o?Te(o,l):l),i.cloneElement(r,a)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qc=Symbol("radix.slottable");function Jc(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qc}function Qc(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{const d=s(...a);return r(...a),d}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function eu(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=tu.reduce((e,t)=>{const n=ls(`Primitive.${t}`),o=i.forwardRef((r,s)=>{const{asChild:l,...a}=r,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...a,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function nu(e,t){e&&$i.flushSync(()=>e.dispatchEvent(t))}var ou="DismissableLayer",Bt="dismissableLayer.update",ru="dismissableLayer.pointerDownOutside",su="dismissableLayer.focusOutside",Gn,cs=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),us=i.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:l,onDismiss:a,...d}=e,u=i.useContext(cs),[p,f]=i.useState(null),m=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=i.useState({}),x=Z(t,P=>f(P)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),h=v.indexOf(y),b=p?v.indexOf(p):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=h,I=lu(P=>{const C=P.target,S=[...u.branches].some(D=>D.contains(C));!w||S||(r==null||r(P),l==null||l(P),P.defaultPrevented||a==null||a())},m),N=cu(P=>{const C=P.target;[...u.branches].some(D=>D.contains(C))||(s==null||s(P),l==null||l(P),P.defaultPrevented||a==null||a())},m);return to(P=>{b===u.layers.size-1&&(o==null||o(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},m),i.useEffect(()=>{if(p)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gn=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(p)),u.layers.add(p),Un(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Gn)}},[p,m,n,u]),i.useEffect(()=>()=>{p&&(u.layers.delete(p),u.layersWithOutsidePointerEventsDisabled.delete(p),Un())},[p,u]),i.useEffect(()=>{const P=()=>g({});return document.addEventListener(Bt,P),()=>document.removeEventListener(Bt,P)},[]),c.jsx(Be.div,{...d,ref:x,style:{pointerEvents:E?w?"auto":"none":void 0,...e.style},onFocusCapture:$(e.onFocusCapture,N.onFocusCapture),onBlurCapture:$(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:$(e.onPointerDownCapture,I.onPointerDownCapture)})});us.displayName=ou;var iu="DismissableLayerBranch",au=i.forwardRef((e,t)=>{const n=i.useContext(cs),o=i.useRef(null),r=Z(t,o);return i.useEffect(()=>{const s=o.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),c.jsx(Be.div,{...e,ref:r})});au.displayName=iu;function lu(e,t=globalThis==null?void 0:globalThis.document){const n=re(e),o=i.useRef(!1),r=i.useRef(()=>{});return i.useEffect(()=>{const s=a=>{if(a.target&&!o.current){let d=function(){ds(ru,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=d,t.addEventListener("click",r.current,{once:!0})):d()}else t.removeEventListener("click",r.current);o.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function cu(e,t=globalThis==null?void 0:globalThis.document){const n=re(e),o=i.useRef(!1);return i.useEffect(()=>{const r=s=>{s.target&&!o.current&&ds(su,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Un(){const e=new CustomEvent(Bt);document.dispatchEvent(e)}function ds(e,t,n,{discrete:o}){const r=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),o?nu(r,s):r.dispatchEvent(s)}var Ft="focusScope.autoFocusOnMount",kt="focusScope.autoFocusOnUnmount",Wn={bubbles:!1,cancelable:!0},uu="FocusScope",fs=i.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...l}=e,[a,d]=i.useState(null),u=re(r),p=re(s),f=i.useRef(null),m=Z(t,v=>d(v)),g=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(o){let v=function(E){if(g.paused||!a)return;const w=E.target;a.contains(w)?f.current=w:we(f.current,{select:!0})},y=function(E){if(g.paused||!a)return;const w=E.relatedTarget;w!==null&&(a.contains(w)||we(f.current,{select:!0}))},h=function(E){if(document.activeElement===document.body)for(const I of E)I.removedNodes.length>0&&we(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const b=new MutationObserver(h);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),b.disconnect()}}},[o,a,g.paused]),i.useEffect(()=>{if(a){Bn.add(g);const v=document.activeElement;if(!a.contains(v)){const h=new CustomEvent(Ft,Wn);a.addEventListener(Ft,u),a.dispatchEvent(h),h.defaultPrevented||(du(gu(ps(a)),{select:!0}),document.activeElement===v&&we(a))}return()=>{a.removeEventListener(Ft,u),setTimeout(()=>{const h=new CustomEvent(kt,Wn);a.addEventListener(kt,p),a.dispatchEvent(h),h.defaultPrevented||we(v??document.body,{select:!0}),a.removeEventListener(kt,p),Bn.remove(g)},0)}}},[a,u,p,g]);const x=i.useCallback(v=>{if(!n&&!o||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,h=document.activeElement;if(y&&h){const b=v.currentTarget,[E,w]=fu(b);E&&w?!v.shiftKey&&h===w?(v.preventDefault(),n&&we(E,{select:!0})):v.shiftKey&&h===E&&(v.preventDefault(),n&&we(w,{select:!0})):h===b&&v.preventDefault()}},[n,o,g.paused]);return c.jsx(Be.div,{tabIndex:-1,...l,ref:m,onKeyDown:x})});fs.displayName=uu;function du(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(we(o,{select:t}),document.activeElement!==n)return}function fu(e){const t=ps(e),n=Kn(t,e),o=Kn(t.reverse(),e);return[n,o]}function ps(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kn(e,t){for(const n of e)if(!pu(n,{upTo:t}))return n}function pu(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mu(e){return e instanceof HTMLInputElement&&"select"in e}function we(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&mu(e)&&t&&e.select()}}var Bn=hu();function hu(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Vn(e,t),e.unshift(t)},remove(t){var n;e=Vn(e,t),(n=e[0])==null||n.resume()}}}function Vn(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function gu(e){return e.filter(t=>t.tagName!=="A")}function vu(e){const t=xu(e),n=i.forwardRef((o,r)=>{const{children:s,...l}=o,a=i.Children.toArray(s),d=a.find(bu);if(d){const u=d.props.children,p=a.map(f=>f===d?i.Children.count(u)>1?i.Children.only(null):i.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...l,ref:r,children:i.isValidElement(u)?i.cloneElement(u,void 0,p):null})}return c.jsx(t,{...l,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}function xu(e){const t=i.forwardRef((n,o)=>{const{children:r,...s}=n;if(i.isValidElement(r)){const l=Eu(r),a=wu(s,r.props);return r.type!==i.Fragment&&(a.ref=o?Te(o,l):l),i.cloneElement(r,a)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yu=Symbol("radix.slottable");function bu(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yu}function wu(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{const d=s(...a);return r(...a),d}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function Eu(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Cu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pu=Cu.reduce((e,t)=>{const n=vu(`Primitive.${t}`),o=i.forwardRef((r,s)=>{const{asChild:l,...a}=r,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...a,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),Su="Arrow",ms=i.forwardRef((e,t)=>{const{children:n,width:o=10,height:r=5,...s}=e;return c.jsx(Pu.svg,{...s,ref:t,width:o,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});ms.displayName=Su;var Nu=ms;function Iu(e){const t=Ru(e),n=i.forwardRef((o,r)=>{const{children:s,...l}=o,a=i.Children.toArray(s),d=a.find(_u);if(d){const u=d.props.children,p=a.map(f=>f===d?i.Children.count(u)>1?i.Children.only(null):i.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...l,ref:r,children:i.isValidElement(u)?i.cloneElement(u,void 0,p):null})}return c.jsx(t,{...l,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}function Ru(e){const t=i.forwardRef((n,o)=>{const{children:r,...s}=n;if(i.isValidElement(r)){const l=ju(r),a=Du(s,r.props);return r.type!==i.Fragment&&(a.ref=o?Te(o,l):l),i.cloneElement(r,a)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Mu=Symbol("radix.slottable");function _u(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Mu}function Du(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{const d=s(...a);return r(...a),d}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function ju(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Au=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hs=Au.reduce((e,t)=>{const n=Iu(`Primitive.${t}`),o=i.forwardRef((r,s)=>{const{asChild:l,...a}=r,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...a,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),gn="Popper",[gs,vs]=Oe(gn),[Ou,xs]=gs(gn),ys=e=>{const{__scopePopper:t,children:n}=e,[o,r]=i.useState(null);return c.jsx(Ou,{scope:t,anchor:o,onAnchorChange:r,children:n})};ys.displayName=gn;var bs="PopperAnchor",ws=i.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...r}=e,s=xs(bs,n),l=i.useRef(null),a=Z(t,l);return i.useEffect(()=>{s.onAnchorChange((o==null?void 0:o.current)||l.current)}),o?null:c.jsx(hs.div,{...r,ref:a})});ws.displayName=bs;var vn="PopperContent",[Tu,Lu]=gs(vn),Es=i.forwardRef((e,t)=>{var M,L,k,B,ne,oe;const{__scopePopper:n,side:o="bottom",sideOffset:r=0,align:s="center",alignOffset:l=0,arrowPadding:a=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:p=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=e,y=xs(vn,n),[h,b]=i.useState(null),E=Z(t,K=>b(K)),[w,I]=i.useState(null),N=no(w),P=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,S=o+(s!=="center"?"-"+s:""),D=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},T=Array.isArray(u)?u:[u],_=T.length>0,H={padding:D,boundary:T.filter(Fu),altBoundary:_},{refs:U,floatingStyles:G,placement:W,isPositioned:q,middlewareData:Y}=oo({strategy:"fixed",placement:S,whileElementsMounted:(...K)=>fo(...K,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[ro({mainAxis:r+C,alignmentAxis:l}),d&&so({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uo():void 0,...H}),d&&io({...H}),ao({...H,apply:({elements:K,rects:te,availableWidth:me,availableHeight:xe})=>{const{width:Se,height:ee}=te.reference,ce=K.floating.style;ce.setProperty("--radix-popper-available-width",`${me}px`),ce.setProperty("--radix-popper-available-height",`${xe}px`),ce.setProperty("--radix-popper-anchor-width",`${Se}px`),ce.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),w&&lo({element:w,padding:a}),ku({arrowWidth:P,arrowHeight:C}),m&&co({strategy:"referenceHidden",...H})]}),[A,J]=Ss(W),V=re(x);We(()=>{q&&(V==null||V())},[q,V]);const Q=(M=Y.arrow)==null?void 0:M.x,R=(L=Y.arrow)==null?void 0:L.y,O=((k=Y.arrow)==null?void 0:k.centerOffset)!==0,[F,j]=i.useState();return We(()=>{h&&j(window.getComputedStyle(h).zIndex)},[h]),c.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[(B=Y.transformOrigin)==null?void 0:B.x,(ne=Y.transformOrigin)==null?void 0:ne.y].join(" "),...((oe=Y.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(Tu,{scope:n,placedSide:A,onArrowChange:I,arrowX:Q,arrowY:R,shouldHideArrow:O,children:c.jsx(hs.div,{"data-side":A,"data-align":J,...v,ref:E,style:{...v.style,animation:q?void 0:"none"}})})})});Es.displayName=vn;var Cs="PopperArrow",$u={top:"bottom",right:"left",bottom:"top",left:"right"},Ps=i.forwardRef(function(t,n){const{__scopePopper:o,...r}=t,s=Lu(Cs,o),l=$u[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(Nu,{...r,ref:n,style:{...r.style,display:"block"}})})});Ps.displayName=Cs;function Fu(e){return e!==null}var ku=e=>({name:"transformOrigin",options:e,fn(t){var y,h,b;const{placement:n,rects:o,middlewareData:r}=t,l=((y=r.arrow)==null?void 0:y.centerOffset)!==0,a=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,p]=Ss(n),f={start:"0%",center:"50%",end:"100%"}[p],m=(((h=r.arrow)==null?void 0:h.x)??0)+a/2,g=(((b=r.arrow)==null?void 0:b.y)??0)+d/2;let x="",v="";return u==="bottom"?(x=l?f:`${m}px`,v=`${-d}px`):u==="top"?(x=l?f:`${m}px`,v=`${o.floating.height+d}px`):u==="right"?(x=`${-d}px`,v=l?f:`${g}px`):u==="left"&&(x=`${o.floating.width+d}px`,v=l?f:`${g}px`),{data:{x,y:v}}}});function Ss(e){const[t,n="center"]=e.split("-");return[t,n]}var zu=ys,Ns=ws,Hu=Es,Gu=Ps,Uu="Portal",Is=i.forwardRef((e,t)=>{var a;const{container:n,...o}=e,[r,s]=i.useState(!1);We(()=>s(!0),[]);const l=n||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return l?wo.createPortal(c.jsx(Be.div,{...o,ref:t}),l):null});Is.displayName=Uu;var Nt="Popover",[Rs,Dd]=Oe(Nt,[vs]),it=vs(),[Wu,Pe]=Rs(Nt),Ms=e=>{const{__scopePopover:t,children:n,open:o,defaultOpen:r,onOpenChange:s,modal:l=!1}=e,a=it(t),d=i.useRef(null),[u,p]=i.useState(!1),[f,m]=vt({prop:o,defaultProp:r??!1,onChange:s,caller:Nt});return c.jsx(zu,{...a,children:c.jsx(Wu,{scope:t,contentId:_e(),triggerRef:d,open:f,onOpenChange:m,onOpenToggle:i.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:i.useCallback(()=>p(!0),[]),onCustomAnchorRemove:i.useCallback(()=>p(!1),[]),modal:l,children:n})})};Ms.displayName=Nt;var _s="PopoverAnchor",Ku=i.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,r=Pe(_s,n),s=it(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:a}=r;return i.useEffect(()=>(l(),()=>a()),[l,a]),c.jsx(Ns,{...s,...o,ref:t})});Ku.displayName=_s;var Ds="PopoverTrigger",js=i.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,r=Pe(Ds,n),s=it(n),l=Z(t,r.triggerRef),a=c.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":$s(r.open),...o,ref:l,onClick:$(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?a:c.jsx(Ns,{asChild:!0,...s,children:a})});js.displayName=Ds;var xn="PopoverPortal",[Bu,Vu]=Rs(xn,{forceMount:void 0}),As=e=>{const{__scopePopover:t,forceMount:n,children:o,container:r}=e,s=Pe(xn,t);return c.jsx(Bu,{scope:t,forceMount:n,children:c.jsx(ve,{present:n||s.open,children:c.jsx(Is,{asChild:!0,container:r,children:o})})})};As.displayName=xn;var Ke="PopoverContent",Os=i.forwardRef((e,t)=>{const n=Vu(Ke,e.__scopePopover),{forceMount:o=n.forceMount,...r}=e,s=Pe(Ke,e.__scopePopover);return c.jsx(ve,{present:o||s.open,children:s.modal?c.jsx(Xu,{...r,ref:t}):c.jsx(Zu,{...r,ref:t})})});Os.displayName=Ke;var Yu=ls("PopoverContent.RemoveScroll"),Xu=i.forwardRef((e,t)=>{const n=Pe(Ke,e.__scopePopover),o=i.useRef(null),r=Z(t,o),s=i.useRef(!1);return i.useEffect(()=>{const l=o.current;if(l)return Xt(l)},[]),c.jsx(Yt,{as:Yu,allowPinchZoom:!0,children:c.jsx(Ts,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$(e.onCloseAutoFocus,l=>{var a;l.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:$(e.onPointerDownOutside,l=>{const a=l.detail.originalEvent,d=a.button===0&&a.ctrlKey===!0,u=a.button===2||d;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:$(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Zu=i.forwardRef((e,t)=>{const n=Pe(Ke,e.__scopePopover),o=i.useRef(!1),r=i.useRef(!1);return c.jsx(Ts,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,a;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(o.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:s=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),Ts=i.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:p,...f}=e,m=Pe(Ke,n),g=it(n);return Zt(),c.jsx(fs,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:s,children:c.jsx(us,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:c.jsx(Hu,{"data-state":$s(m.open),role:"dialog",id:m.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ls="PopoverClose",qu=i.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,r=Pe(Ls,n);return c.jsx(Be.button,{type:"button",...o,ref:t,onClick:$(e.onClick,()=>r.onOpenChange(!1))})});qu.displayName=Ls;var Ju="PopoverArrow",Qu=i.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,r=it(n);return c.jsx(Gu,{...r,...o,ref:t})});Qu.displayName=Ju;function $s(e){return e?"open":"closed"}const ed=Object.assign({"/content/solutions/playground.json":()=>hi(()=>import("./playground-Bk2XogQI.js"),[])}),td=()=>{const{setNodes:e,setEdges:t,setViewport:n}=ge(),o=ae(u=>u.currentLevel),r=fe[o].hints.length?fe[o].hints:["No hints here"],[s,l]=i.useState(0),a=ed[`/content/solutions/${o}.json`],d=async()=>{const u=await a();if(u){const{x:p=0,y:f=0,zoom:m=1}=u.viewport;e(u.nodes),t(u.edges),n({x:p,y:f,zoom:m})}};return c.jsxs(Ms,{children:[c.jsx(js,{asChild:!0,children:c.jsx(Ce,{side:"left",tooltip:"Help Menu","aria-label":"Help Menu",children:c.jsx(qs,{className:"text-white"})})}),c.jsx(As,{children:c.jsx(Os,{side:"bottom",className:"mr-3",children:c.jsxs("div",{className:"flex w-200 flex-col gap-4 rounded bg-slate-800 p-4 font-mono text-white shadow-lg outline-1 outline-slate-700 outline-solid",children:[c.jsx("h1",{className:"text-xl",children:"Hints"}),r[s],c.jsx(He,{className:"text-slate-400 italic hover:underline",target:"_blank",to:"/docs/",children:"Find information on this topic here"}),c.jsx("hr",{className:"mx-auto h-1 w-full rounded-sm border-0 bg-slate-700"}),c.jsxs("div",{className:"flex flex-row justify-center gap-2",children:[c.jsx("button",{disabled:s===0,className:qe("rounded bg-slate-700 px-2 py-1 text-left text-sm text-white",s===0?"opacity-50":"cursor-pointer hover:bg-slate-600"),onClick:()=>{s>0&&l(s-1)},children:"Previous Hint"}),c.jsx("button",{disabled:s===r.length-1,className:qe("rounded bg-slate-700 px-2 py-1 text-left text-sm text-white",s===r.length-1?"opacity-50":"cursor-pointer hover:bg-slate-600"),onClick:()=>{s<r.length-1&&l(s+1)},children:"Next Hint"}),c.jsx("button",{className:"cursor-pointer rounded bg-slate-700 px-2 py-1 text-left text-sm text-white hover:bg-slate-600",children:"First Correct Node"}),c.jsx("button",{className:"hover:bg-jam-600 cursor-pointer rounded bg-slate-700 px-2 py-1 text-left text-sm text-white",onClick:d,children:"Full Solution"})]})]})})})]})},nd=({rfInstance:e})=>{const{getNodes:t,getEdges:n,setViewport:o,setEdges:r,setNodes:s}=ge();Me(d=>d.debugPrint);const[l,a]=i.useState(!1);return c.jsxs(gt,{position:"top-right",className:"flex flex-col items-end justify-center gap-2",children:[c.jsxs(ns,{open:l,onOpenChange:a,children:[c.jsx(rs,{asChild:!0,children:c.jsx(Ce,{side:"left",tooltip:"Add Node","aria-label":"Add Node",children:c.jsx(Js,{className:"text-white"})})}),c.jsx(ss,{children:c.jsx(as,{align:"end",children:c.jsx(sn,{onClose:()=>a(!1),x:1800,y:400})})})]}),c.jsx(td,{}),!1]})},od=({nodeIds:e,x:t,y:n,onClose:o})=>{const{getNodes:r,getEdges:s,setNodes:l,setEdges:a}=ge(),d=i.useCallback(()=>{l(u=>u.filter(p=>!e.includes(p.id))),a(u=>u.filter(p=>!e.includes(p.source)&&!e.includes(p.target))),o()},[e,l,a,o]);return c.jsx("div",{style:{position:"absolute",top:n,left:t,zIndex:1e3},children:c.jsxs(gt,{className:"flex w-55 flex-col gap-1 rounded bg-slate-800 p-2 font-mono shadow-lg outline-1 outline-slate-700 outline-solid",children:[c.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:()=>{Qn(r().filter(u=>e.includes(u.id)),s,r,a,l),o()},children:[c.jsxs("span",{children:["Duplicate ",e.length," nodes "]}),c.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:"Ctrl+D"})]}),c.jsxs("button",{className:"w-full rounded px-2 py-1 text-left text-sm text-white hover:bg-slate-700",onClick:d,children:[c.jsxs("span",{children:["Delete ",e.length," nodes "]}),c.jsx("span",{className:"ml-2 rounded bg-slate-600 px-1.5 py-0.5 font-mono text-xs text-gray-300",children:"Del"})]})]})})};function rd(){const[e,t]=i.useState(null),[n,o]=i.useState(null),[r,s]=i.useState(null),l=i.useCallback(p=>{p.preventDefault();const f=It(p);t({x:f.x,y:f.y})},[t]),a=i.useCallback((p,f)=>{p.preventDefault();const m=It(p);o({nodeId:f.id,nodeType:f.type,nodeLoopId:f.data.loopId,nodeParentId:f.parentId,x:m.x,y:m.y})},[o]),d=i.useCallback((p,f)=>{if(p.preventDefault(),f.length===0)return;const m=It(p);s({nodeIds:f.map(g=>g.id),x:m.x,y:m.y})},[s]),u=i.useCallback(()=>{t(null),o(null),s(null)},[t,o,s]);return{paneContextMenu:e,nodeContextMenu:n,selectionContextMenu:r,setPaneContextMenu:t,setNodeContextMenu:o,setSelectionContextMenu:s,handlePaneContextMenu:l,handleNodeContextMenu:a,handleSelectionContextMenu:d,onPaneClick:u}}const Yn=e=>Symbol.iterator in e,Xn=e=>"entries"in e,Zn=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),o=t instanceof Map?t:new Map(t.entries());if(n.size!==o.size)return!1;for(const[r,s]of n)if(!Object.is(s,o.get(r)))return!1;return!0},sd=(e,t)=>{const n=e[Symbol.iterator](),o=t[Symbol.iterator]();let r=n.next(),s=o.next();for(;!r.done&&!s.done;){if(!Object.is(r.value,s.value))return!1;r=n.next(),s=o.next()}return!!r.done&&!!s.done};function id(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:!Yn(e)||!Yn(t)?Zn({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)}):Xn(e)&&Xn(t)?Zn(e,t):sd(e,t)}function ad(e){const t=qn.useRef(void 0);return n=>{const o=e(n);return id(t.current,o)?t.current:t.current=o}}const ld=e=>({nodes:e.nodes,edges:e.edges,setNodes:e.setNodes,setEdges:e.setEdges,highlightDuplicateNodes:e.highlightDuplicateNodes});function cd(){const{getIntersectingNodes:e,getNode:t,getNodes:n}=ge(),{nodes:o,edges:r,setNodes:s,setEdges:l,highlightDuplicateNodes:a}=Vt(ad(ld)),d=Me(y=>y.replaceNode),u=Me(y=>y.removeNode),p=Me(y=>y.addEdge),f=Me(y=>y.removeEdge),m=i.useCallback(y=>{let h=!1;y.forEach(b=>{switch(b.type){case"add":d(b.item),h=b.item.type==="ExportToGameobject";break;case"remove":{const E=t(b.id);if(E!=null&&E.data.loopStart||E!=null&&E.data.loopEnd){const w=n().filter(I=>I.id!==b.id&&I.data.loopId===E.data.loopId)[0];s(I=>I.filter(N=>N.data.loopId!==(E==null?void 0:E.data.loopId)).map(N=>({...N,data:{...N.data,parentLoopId:N.data.parentLoopId===E.data.loopId?void 0:N.data.parentLoopId}}))),l(I=>I.filter(N=>N.target===w.id||N.source===w.id?(f(N.id),!1):!0)),u(w.id)}u(b.id),h=!0;break}case"replace":d(b.item),h=b.item.type==="ExportToGameobject";break}}),s(b=>ii(y,b)),h&&a()},[s,d,t,u,n,l,f,a]),g=i.useCallback(y=>{y.forEach(h=>{switch(h.type){case"remove":f(h.id);break;case"add":p(h.item);break}}),l(h=>gi(y,h))},[l,p,f]),x=i.useCallback(y=>{const h=t(y.source),b=t(y.target);!!(h!=null&&h.data.loopStart&&h.data.loopId===(b==null?void 0:b.data.loopId)||h!=null&&h.data.loopStart&&(b==null?void 0:b.data.parentLoopId)===h.data.loopId||h!=null&&h.data.loopEnd&&h.data.parentLoopId===(b==null?void 0:b.data.parentLoopId)||b!=null&&b.data.loopEnd&&(h==null?void 0:h.data.parentLoopId)===b.data.loopId||!(h!=null&&h.data.loopStart)&&!(b!=null&&b.data.loopEnd)&&(h==null?void 0:h.data.parentLoopId)===(b==null?void 0:b.data.parentLoopId))&&(p(y),l(w=>vi(y,w)))},[l,t,p]);return{nodes:o,edges:r,onNodesChange:m,onEdgesChange:g,onConnect:x,onNodeDragStop:(y,h,b)=>{const E={x:Math.min(...b.map(C=>C.parentId?C.position.x+t(C.parentId).position.x:C.position.x)),y:Math.min(...b.map(C=>C.parentId?C.position.y+t(C.parentId).position.y:C.position.y)),width:Math.max(...b.map(C=>C.position.x+C.measured.width))-Math.min(...b.map(C=>C.position.x)),height:Math.max(...b.map(C=>C.position.y+C.measured.height))-Math.min(...b.map(C=>C.position.y))},w=e(E).filter(C=>C.type==="Group"&&C.selected===!1),I=w.reduce((C,S)=>{const D=S.measured.width*S.measured.height,T=C.measured.width*C.measured.height;return D>T?S:C},w[0]),N=[],P=[];b.forEach(C=>{if(C.type!=="Group"){if(I){if(C.parentId===void 0)N.push({...C,parentId:I.id,position:{x:C.position.x-I.position.x,y:C.position.y-I.position.y}});else if(I.id!==C.parentId){if(!b.some(S=>S.id===C.parentId)){console.log("node is directly adopted",C.id);const S=t(C.parentId);if(!S){console.warn(`recently moved node ${C.id} has an invalid parentId of ${C.parentId}`);return}N.push({...C,parentId:I.id,position:{x:C.position.x+S.position.x-I.position.x,y:C.position.y+S.position.y-I.position.y}}),P.includes(S)||P.push(S)}}}else if(C.parentId!==void 0){if(!b.some(S=>S.id===C.parentId)){const S=t(C.parentId);if(!S){console.warn(`recently moved node ${C.id} has an invalid parentId of ${C.parentId}`);return}N.push({...C,parentId:void 0,position:{x:C.position.x+S.position.x,y:C.position.y+S.position.y}}),P.includes(S)||P.push(S)}}I&&P.push(I)}}),N.push(...P.map(C=>{const S=N.filter(H=>H.parentId===C.id);console.log("updatedChildren",S);const D=n().filter(H=>H.parentId===C.id&&!N.some(U=>U.id===H.id));console.log("nonUpdatedChildren",D);const T=[...S,...D],_=ai(C,T);return T.forEach(H=>{const U={x:H.position.x+_.offset.x,y:H.position.y+_.offset.y};S.some(G=>G.id===H.id)?N.splice(N.findIndex(G=>G.id===H.id),1,{...H,position:U}):N.push({...H,position:U})}),{...C,position:{x:_.bounds.x,y:_.bounds.y},data:{...C.data,isParent:T.length>0,minWidth:_.bounds.minWidth,minHeight:_.bounds.minHeight},style:{zIndex:-1},width:_.bounds.width,height:_.bounds.height}})),s(C=>C.map(D=>{const T=N.find(_=>_.id===D.id);return T?{...T,dragging:!1}:{...D,dragging:!1}}))}}}const ud=i.memo(({id:e,data:t})=>{const n=Re(g=>g.gameObjects),o=Array.from(n.keys()),{isOpen:r,getToggleButtonProps:s,getMenuProps:l,getLabelProps:a,highlightedIndex:d,getItemProps:u,selectedGameObjects:p}=ho(o,t.selectedGameObjects?t.selectedGameObjects:[o[0]],e),f=i.useMemo(()=>eo("get",n,p),[n,p]),{updateNodeData:m}=ge();return i.useEffect(()=>{m(e,{compute:(g,x)=>{const v=p.length===1?0:Math.round(zt(g,ct,-1));if(0>v||v>=p.length){x.clear();return}const y=p[v];f.forEach(h=>{x.set(h,n.get(y).get(h).value)})},selectedGameObjects:p})},[p]),c.jsx("div",{className:"min-w-48",children:c.jsxs(go,{label:"Import From Gameobject",type:"import",docsName:"import",children:[c.jsxs("div",{className:"text-left",children:[p.length>1&&c.jsx(vo,{id:ct,position:ut.Left}),c.jsx(xo,{highlightedIndex:d,isOpen:r,selectableObjects:o,selectedObjects:p,useSelectProps:{getItemProps:u,getLabelProps:a,getMenuProps:l,getToggleButtonProps:s}})]}),f.map(g=>c.jsx(yo,{id:g,position:ut.Right,label:g},g))]})})}),dd=i.memo(({id:e,data:t,selected:n})=>{const o=ae(w=>w.currentLevel),r=fe[o].modifiableGameObjects,s=Re(w=>w.gameObjects),l=Array.from(s.keys()),{isOpen:a,getToggleButtonProps:d,getMenuProps:u,getLabelProps:p,highlightedIndex:f,getItemProps:m,selectedGameObjects:g}=ho(l,t.selectedGameObjects?t.selectedGameObjects:[l[0]],e),x=i.useMemo(()=>eo("set",s,g),[s,g]),v=Re(w=>w.setData),y=Re(w=>w.addHandle),h=Re(w=>w.removeHandle),b=i.useRef(t.curLabel?t.curLabel.current:""),{updateNodeData:E}=ge();return i.useEffect(()=>{E(e,{compute:(w,I)=>{const N=g.length===1?0:Math.round(zt(w,ct,-1));if(0>N||N>=g.length)return;const P=g[N];x.forEach(C=>{v(P,C,zt(w,C,0))})},selectedGameObjects:g})},[g]),c.jsx("div",{children:c.jsxs(go,{label:"Export To Gameobject",type:"export",docsName:"export",children:[c.jsxs("div",{className:"text-left",children:[g.length>1&&c.jsx(vo,{id:ct,position:ut.Left}),c.jsx(xo,{highlightedIndex:f,isOpen:a,selectableObjects:l,selectedObjects:g,useSelectProps:{getItemProps:m,getLabelProps:p,getMenuProps:u,getToggleButtonProps:d}})]}),x.map(w=>c.jsxs("div",{className:"flex w-full items-center [&>*:nth-child(even)]:pointer-events-none [&>*:nth-child(even)]:opacity-0 hover:[&>*:nth-child(even)]:pointer-events-auto hover:[&>*:nth-child(even)]:opacity-100 "+(n?"hover:bg-slate-800":"hover:bg-slate-700"),children:[c.jsx(yo,{id:w,position:ut.Left,label:w},w),!r.some(({id:I,connections:N})=>g.includes(I)&&N.some(P=>P.label===w))&&c.jsx(Qs,{className:"mt-[1px] ml-2 cursor-pointer text-red-400",onClick:()=>{g.forEach(I=>h(I,w))}})]},w)),!!g.length&&c.jsx(xi,{addHandle:(w,I)=>y(w,I),handleIdentifiers:g,handleLabel:b,nodeId:e,updateNodeData:E})]})})}),fd={Value:Ri,Display:Ii,Time:Ni,KeyPress:Si,MathFloat:Pi,ExportToGameobject:dd,ImportFromGameobject:ud,Switch:Ci,Group:Ei,ForStart:wi,ForEnd:bi,MousePosition:yi};function pd({id:e,sourceX:t,sourceY:n,targetX:o,targetY:r,sourcePosition:s,targetPosition:l,style:a={},markerEnd:d}){const[u,p,f]=Mi({sourceX:t,sourceY:n,sourcePosition:s,targetX:o,targetY:r,targetPosition:l}),{setEdges:m}=ge(),g=()=>{m(x=>x.filter(v=>v.id!==e))};return c.jsxs(c.Fragment,{children:[c.jsx(_i,{path:u,markerEnd:d,style:a}),c.jsx(Di,{children:c.jsx("div",{className:"nodrag nopan pointer-events-auto absolute",style:{transform:`translate(-50%, -50%) translate(${p}px,${f}px)`},children:c.jsx("button",{className:"flex h-5 w-5 cursor-pointer items-center justify-center rounded-full border-3 border-[#14141d] bg-slate-800 text-xs text-slate-400 hover:bg-slate-900",onClick:g,children:"×"})})})]})}const md={Deletable:pd},hd=()=>{const[e,t]=i.useState(),{nodes:n,edges:o,onNodesChange:r,onEdgesChange:s,onConnect:l,onNodeDragStop:a}=cd(),{paneContextMenu:d,nodeContextMenu:u,selectionContextMenu:p,handlePaneContextMenu:f,handleNodeContextMenu:m,handleSelectionContextMenu:g,onPaneClick:x,setNodeContextMenu:v,setPaneContextMenu:y,setSelectionContextMenu:h}=rd();return c.jsxs(c.Fragment,{children:[c.jsxs(Oi,{id:"node-editor",onInit:t,nodeTypes:fd,edgeTypes:md,nodes:n,edges:o,onNodesChange:r,onEdgesChange:s,onPaneContextMenu:f,onNodeContextMenu:m,onSelectionContextMenu:g,onConnect:l,onPaneClick:x,disableKeyboardA11y:!0,fitView:!0,proOptions:{hideAttribution:!0},deleteKeyCode:["Delete","Backspace"],onNodeDragStop:a,defaultEdgeOptions:{type:"Deletable"},children:[c.jsx(Ti,{bgColor:"#14141d",color:"#a7abc2"}),c.jsx(nd,{rfInstance:e}),c.jsx(fa,{}),c.jsx(Ga,{}),c.jsx(li,{})]}),d&&c.jsx(Wa,{x:d.x,y:d.y,onClose:()=>y(null)}),u&&c.jsx(Ua,{nodeId:u.nodeId,nodeType:u.nodeType,nodeLoopId:u.nodeLoopId,nodeParentId:u.nodeParentId,x:u.x,y:u.y,onClose:()=>v(null)}),p&&c.jsx(od,{nodeIds:p.nodeIds,x:p.x,y:p.y,onClose:()=>h(null)})]})},gd=()=>c.jsx(ji,{children:c.jsx(Ai,{children:c.jsx(hd,{})})}),vd=()=>{var r;const e=ae(s=>s.currentLevel),t=(r=Go(e))==null?void 0:r.next,n=ae(s=>s.levelCompleteDialogOpen),o=ae(s=>s.setLevelCompleteDialogOpen);return c.jsx(ar,{title:e,open:n,onOpenChange:o,desc:`This dialog displays the level completion dialog of the
            ${e} level. You can now get to the main menu 
            using the To Menu button or to the next level using the 
            Next Level button.`,children:c.jsxs("div",{className:"flex flex-col gap-5",children:[c.jsxs("div",{className:"flex flex-1 flex-row",children:[c.jsx("div",{className:"my-auto w-1/3 pr-4",children:c.jsx("div",{style:{aspectRatio:"1 / 1",width:"100%",backgroundImage:"url('/game/sprites/raccoon_spritesheet.png')",backgroundPosition:"0 0",backgroundSize:"400% 400%",backgroundRepeat:"no-repeat",imageRendering:"pixelated"}})}),c.jsxs("div",{className:"relative my-auto flex h-36 w-full flex-col items-center justify-center rounded-lg bg-slate-700 p-4 text-white shadow-lg",children:[c.jsx("div",{className:"absolute top-1/2 -left-2.5 h-0 w-0 -translate-y-1/2 border-t-10 border-r-10 border-b-10 border-t-transparent border-r-slate-700 border-b-transparent"}),c.jsx("p",{className:"mb-2 text-2xl font-bold",children:fe[e].success}),c.jsx("p",{className:"text-lg italic",children:"Congratulations!"})]})]}),c.jsxs("div",{className:"flex flex-row justify-end gap-5",children:[c.jsx(Ue,{asChild:!0,children:c.jsx(He,{to:"/",className:"cursor-pointer rounded-lg bg-slate-700/80 px-4 py-2 text-white hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"To Menu"})}),c.jsx(Ue,{asChild:!0,children:c.jsx("button",{className:"cursor-pointer rounded-lg bg-slate-700/80 px-3 py-2 hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Continue Playing"})}),t&&c.jsx(Ue,{asChild:!0,children:c.jsx(He,{to:`/game/${t}`,className:"cursor-pointer rounded-lg bg-slate-700/80 px-4 py-2 text-white hover:bg-slate-600 focus:outline-1 focus:outline-blue-300",children:"Next Level"})})]})]})})},xd=({params:e})=>{const t=i.useRef(null),n=e.id||"playground",o=ae(l=>l.setCurrentLevel),[r,s]=i.useState(!0);return i.useEffect(()=>{if(t.current)return bn.init(),ti(t.current),o(n),da(n),()=>{ni(),ae.getState().reset(),Vt.getState().reset(),Me.getState().reset(),Jn.getState().reset(),s(!0),bn.cleanup()}},[n]),c.jsxs(c.Fragment,{children:[c.jsx(lr,{open:r,onOpenChange:s}),c.jsx(vd,{}),c.jsxs(zo,{direction:"horizontal",children:[c.jsx(Ht,{id:"game-panel",minSize:25,order:1,children:c.jsx("canvas",{id:"game-canvas",ref:t,className:"w-1/2"})}),c.jsx(Ho,{className:"flex w-2 items-center justify-center bg-slate-800",children:c.jsx(ei,{width:32,height:32,className:"scale-125 text-slate-400"})}),c.jsx(Ht,{id:"nodes-panel",minSize:25,order:2,children:c.jsx(gd,{})})]})]})},jd=zs(xd);export{jd as default};
